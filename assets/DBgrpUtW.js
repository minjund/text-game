import{d as e,c as t,q as s,k as l,u as a,f as r,j as n,l as o,p as c,F as d,m as i,n as x,T as p}from"./DvSjL5z3.js";import{_ as u}from"#entry";import"./kkAUuAVg.js";const b={key:0,class:"fixed inset-0 bg-black/90 z-[10001] flex justify-center items-center p-4"},m={class:"w-full max-w-md bg-gradient-to-br from-slate-800 to-slate-900 border-2 border-purple-600 rounded-lg max-h-[90vh] flex flex-col"},f={class:"bg-gradient-to-r from-purple-900 to-purple-800 border-b-2 border-purple-600 p-4 flex-shrink-0"},v={class:"flex items-center justify-between"},y={class:"text-xs text-purple-300 mt-2"},g={class:"flex-1 overflow-y-auto p-4 space-y-3"},h={key:0,class:"text-center text-slate-400 py-12"},w={class:"flex items-center justify-between mb-2"},k={class:"flex items-center gap-2"},j={key:0,class:"text-xl"},S={key:1,class:"text-xl"},_={class:"text-xs text-slate-400"},M={class:"space-y-1 text-sm"},$={class:"flex items-center justify-between"},B={class:"text-white font-semibold"},H={class:"flex items-center justify-between"},D={class:"text-purple-300"},G={class:"flex items-center justify-between"},T={class:"text-blue-300"},q={key:0,class:"flex items-center justify-between pt-1 border-t border-slate-600"},z={key:0,class:"border-t-2 border-purple-600 p-4 bg-slate-800/50 flex-shrink-0"},C={class:"grid grid-cols-3 gap-3 text-center"},F={class:"text-2xl font-bold text-green-400"},I={class:"text-2xl font-bold text-red-400"},N={class:"text-2xl font-bold text-blue-400"},O=e({__name:"GameBattleHistoryModal",props:{show:{type:Boolean,default:!1},battles:{default:()=>[]}},emits:["close"],setup(e){const u=e,O=t(()=>[...u.battles].sort((e,t)=>t.timestamp-e.timestamp)),A=t(()=>u.battles.filter(e=>"victory"===e.result).length),E=t(()=>u.battles.filter(e=>"defeat"===e.result).length),J=t(()=>0===u.battles.length?0:Math.round(A.value/u.battles.length*100)),K=e=>{const t=new Date(e);return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},L=e=>{switch(e){case"pve":return"ì¼ë°˜ ì „íˆ¬";case"empire":return"ì œêµ­ ì¹¨ëžµ";case"boss":return"ë³´ìŠ¤ ì „íˆ¬";default:return e}};return(t,u)=>(l(),s(p,{name:"modal"},{default:a(()=>[e.show?(l(),r("div",b,[o("div",m,[o("div",f,[o("div",v,[u[1]||(u[1]=o("h2",{class:"text-xl font-bold flex items-center gap-2"}," ðŸ“œ ì „ìŸì˜ ê¸°ë¡ ",-1)),o("button",{onClick:u[0]||(u[0]=e=>t.$emit("close")),class:"px-4 py-2 text-sm font-bold rounded bg-red-600 hover:bg-red-500 active:bg-red-700 transition-colors"}," ë‹«ê¸° ")]),o("p",y,"ì´ "+c(e.battles.length)+"íšŒì˜ ì „íˆ¬ ê¸°ë¡",1)]),o("div",g,[0===e.battles.length?(l(),r("div",h,[...u[2]||(u[2]=[o("div",{class:"text-4xl mb-3"},"âš”ï¸",-1),o("p",null,"ì•„ì§ ì „íˆ¬ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.",-1),o("p",{class:"text-xs mt-1"},"ì²« ì „íˆ¬ë¥¼ ì‹œìž‘í•´ë³´ì„¸ìš”!",-1)])])):n("",!0),(l(!0),r(d,null,i(O.value,(e,t)=>(l(),r("div",{key:t,class:x(["bg-slate-700/50 backdrop-blur-sm border rounded-lg p-3 hover:bg-slate-700/70 transition-colors",{"border-green-500":"victory"===e.result,"border-red-500":"defeat"===e.result}])},[o("div",w,[o("div",k,["victory"===e.result?(l(),r("span",j,"ðŸ†")):(l(),r("span",S,"ðŸ’€")),o("span",{class:x(["font-bold",{"text-green-400":"victory"===e.result,"text-red-400":"defeat"===e.result}])},c("victory"===e.result?"ìŠ¹ë¦¬":"íŒ¨ë°°"),3)]),o("span",_,c(K(e.timestamp)),1)]),o("div",M,[o("div",$,[u[3]||(u[3]=o("span",{class:"text-slate-300"},"ì :",-1)),o("span",B,c(e.enemyName),1)]),o("div",H,[u[4]||(u[4]=o("span",{class:"text-slate-300"},"íƒ€ìž…:",-1)),o("span",D,c(L(e.battleType)),1)]),o("div",G,[u[5]||(u[5]=o("span",{class:"text-slate-300"},"ê²Œìž„ ì¼ì°¨:",-1)),o("span",T,c(e.day)+"ì¼ì°¨",1)]),e.score?(l(),r("div",q,[u[6]||(u[6]=o("span",{class:"text-slate-300"},"ì ìˆ˜:",-1)),o("span",{class:x(["font-mono",{"text-green-400":e.score.player>e.score.enemy,"text-red-400":e.score.player<e.score.enemy,"text-yellow-400":e.score.player===e.score.enemy}])},c(e.score.player)+" : "+c(e.score.enemy),3)])):n("",!0)])],2))),128))]),e.battles.length>0?(l(),r("div",z,[o("div",C,[o("div",null,[o("div",F,c(A.value),1),u[7]||(u[7]=o("div",{class:"text-xs text-slate-400"},"ìŠ¹ë¦¬",-1))]),o("div",null,[o("div",I,c(E.value),1),u[8]||(u[8]=o("div",{class:"text-xs text-slate-400"},"íŒ¨ë°°",-1))]),o("div",null,[o("div",N,c(J.value)+"%",1),u[9]||(u[9]=o("div",{class:"text-xs text-slate-400"},"ìŠ¹ë¥ ",-1))])])])):n("",!0)])])):n("",!0)]),_:1}))}}),A=Object.assign(u(O,[["__scopeId","data-v-53a5dcde"]]),{__name:"GameBattleHistoryModal"});export{A as default};
