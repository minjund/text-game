import{b as e}from"./CresfOYy.js";const u=e(null),a=e(null),l={main:"/bgm/main_song.mp3",adventure:"/bgm/adventure_song.mp3",battle:"/bgm/battle_song.mp3",base:"/bgm/baseBgm.mp3"},n=()=>({playBGM:(e,n={})=>{if(a.value===e&&u.value&&!u.value.paused)return;if(u.value&&(u.value.pause(),u.value.currentTime=0,u.value.src="",u.value=null),"undefined"!=typeof document){document.querySelectorAll("audio").forEach(e=>{e.pause(),e.currentTime=0})}const t=new Audio(l[e]);t.loop=n.loop??!0,t.volume=n.volume??.3,t.play().then(()=>{u.value=t,a.value=e}).catch(l=>{u.value=t,a.value=e})},stopBGM:()=>{if(u.value&&(u.value.pause(),u.value.currentTime=0,u.value.src="",u.value=null,a.value=null),"undefined"!=typeof document){document.querySelectorAll("audio").forEach(e=>{e.pause(),e.currentTime=0})}},pauseBGM:()=>{u.value&&u.value.pause()},resumeBGM:()=>{u.value&&u.value.play().catch(e=>{})},setVolume:e=>{u.value&&(u.value.volume=Math.max(0,Math.min(1,e)))},currentType:a});export{n as u};
