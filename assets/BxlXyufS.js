const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CsS8Vk_J.js","./omZjjdJW.js","./Dk-khc0e.js","./DOtoLwIm.js","./CMUwhex_.js","./entry.OYmfjhTP.css","./GameBattleModal.Dv2zXiUm.css","./C87_bGZY.js","./CtNw96WS.js","./00aDTfTK.js","./j5GGM-Lk.js","./GameActiveCardsModal.B6r-ilfv.css","./DYrHxA0H.js","./GameReincarnationModal.C7hrBNd4.css","./getMkbHI.js","./GamePassiveCardsModal.wFfEXFx1.css","./CeOw8muh.js","./GameCardCollection.bWGxB5-_.css","./vpG2glcP.js","./GameCommandmentsModal.BpQvi8cF.css","./dz8W4gXc.js","./GameAdvisorModal.DXEfPlk2.css","./DdDN919X.js","./GameSynergyCardSelection.ZhzXQiyu.css","./jbQZjzVt.js","./GameSynergyCollection.1cVpPlsE.css","./BWO1Kt0K.js","./GameSynergyGuide.cL9gEKXo.css","./CgP2Ycfk.js","./GameDailyCardExchange.CMiIgq1D.css","./4A4AtvkK.js","./GameResourceHelp.N43b38by.css","./EL29zTUO.js","./GameAdventureMap.eYVhTs6c.css","./BFxYL7Rm.js","./GameAdventureShop.D2NX9Ptm.css","./CTbxY1cv.js","./GameAdventureRest.M5HIopu3.css","./EL9bXC4D.js","./GameBattleCardSelection.l17zbuRP.css","./BtTMYPfY.js","./GameInteractiveTutorial.D-4ZfAS-.css","./BMPJnB7Q.js"])))=>i.map(i=>d[i]);
import{_ as e,a}from"#entry";import{e as t,g as s,i as o,k as l,l as r,m as n,o as d,q as c,s as i,b as u,M as m,t as v,v as p,x as f}from"./CMUwhex_.js";import{d as b,c as g,l as y,j as x,n as h,m as w,q as _,y as C,v as E,x as k,b as S,w as D,z as j,o as R,f as I,J as A,K as T,k as P,T as $,I as O}from"./omZjjdJW.js";import{u as N}from"./Bg11kDSy.js";const B={class:"resource-icon"},L={class:"resource-info"},M={class:"resource-label"},V={class:"resource-value"},G=["title"],q=b({__name:"ResourceDisplay",props:{icon:{},label:{},value:{},variant:{default:"default"},showPlus:{type:Boolean,default:!1},helpEnabled:{type:Boolean,default:!0}},emits:["show-help"],setup(e){const a=e,t=g(()=>{const e=Math.floor(a.value);return a.showPlus&&e>0?`+${e}`:e.toLocaleString()});return(a,s)=>(x(),y("div",{class:C(["resource-display",e.variant,"group relative"])},[h("span",B,_(e.icon),1),h("div",L,[h("span",M,_(e.label),1),h("span",V,_(t.value),1)]),e.helpEnabled?(x(),y("button",{key:0,onClick:s[0]||(s[0]=e=>a.$emit("show-help")),class:C(["help-button",`help-${e.label.toLowerCase()}`]),title:`${e.label} ë„ì›€ë§`}," ? ",10,G)):w("",!0)],2))}}),H=Object.assign(e(q,[["__scopeId","data-v-47f0e261"]]),{__name:"GameResourceDisplay"}),z={class:"md:hidden fixed top-2 left-2 right-2 z-50 flex flex-col gap-1.5 pointer-events-none"},F={class:"flex flex-col gap-1.5"},J={class:"flex justify-between gap-1.5"},U={class:"w-full pointer-events-auto"},W={class:"resource-info"},K={key:0,class:"resource-value text-xs"},Q={key:1,class:"resource-value text-xs text-red-400"},X={class:"flex justify-between gap-1.5"},Y={class:"flex-1 pointer-events-auto"},Z={class:"resource-display compact border-blue-500"},ee={class:"resource-info"},ae={class:"resource-value"},te={class:"flex-1 pointer-events-auto"},se={class:"resource-display compact border-amber-500"},oe={class:"resource-info"},le={class:"resource-value text-amber-300"},re={key:0,class:"pointer-events-auto"},ne={class:"resource-value text-xs w-full animate-pulse"},de={key:1,class:"pointer-events-auto"},ce={class:"resource-display compact border-indigo-500 bg-indigo-900/30"},ie={class:"resource-info w-full"},ue={class:"flex flex-wrap gap-1 mt-1"},me={class:"flex justify-between gap-1.5"},ve={class:"flex justify-between gap-1.5"},pe=b({__name:"GameMobileResources",props:{resources:{},timer:{},currentDay:{},reincarnationCount:{default:0},commandmentEffects:{default:null}},emits:["show-resource-help"],setup(e){const a=e,t=g(()=>{if(a.currentDay>=42)return 0;return 7*Math.ceil((a.currentDay+1)/7)-a.currentDay}),s=g(()=>a.currentDay>=42?"":0===t.value?"âš”ï¸ ì˜¤ëŠ˜ ì œêµ­ ì¹¨ëžµ!":1===t.value?"âš”ï¸ ë‚´ì¼ ì œêµ­ ì¹¨ëžµ!":`âš”ï¸ ${t.value}ì¼ í›„ ì œêµ­ ì¹¨ëžµ`),o=g(()=>{if(!a.commandmentEffects)return!1;const e=a.commandmentEffects;return 0!==e.morale||0!==e.gold||0!==e.military||0!==e.food||0!==e.population});return(a,l)=>(x(),y("div",z,[h("div",F,[h("div",J,[h("div",U,[h("div",{class:C(["resource-display compact",e.timer.isExpired?"border-red-500":e.timer.days<7?"border-yellow-500":"border-indigo-500"])},[l[5]||(l[5]=h("span",{class:"resource-icon"},"â°",-1)),h("div",W,[l[4]||(l[4]=h("span",{class:"resource-label"},"ì œêµ­ ì •ë³µ ê¸°í•œ",-1)),e.timer.isExpired?(x(),y("span",Q,"ì¢…ë£Œ!")):(x(),y("span",K,_(e.timer.days)+"ì¼ ë‚¨ìŒ ",1))])],2)])]),h("div",X,[h("div",Y,[h("div",Z,[l[7]||(l[7]=h("span",{class:"resource-icon"},"ðŸ“…",-1)),h("div",ee,[l[6]||(l[6]=h("span",{class:"resource-label"},"ê²Œìž„ ì¼ì°¨",-1)),h("span",ae,_(e.currentDay)+"ì¼",1)])])]),h("div",te,[h("div",se,[l[9]||(l[9]=h("span",{class:"resource-icon"},"â™»ï¸",-1)),h("div",oe,[l[8]||(l[8]=h("span",{class:"resource-label"},"í™˜ìƒ",-1)),h("span",le,_(e.reincarnationCount)+"íšŒ",1)])])])]),s.value?(x(),y("div",re,[h("div",{class:C(["resource-display compact text-center",t.value<=1?"border-red-500 bg-red-900/30":"border-yellow-500 bg-yellow-900/20"])},[h("span",ne,_(s.value),1)],2)])):w("",!0),e.commandmentEffects&&o.value?(x(),y("div",de,[h("div",ce,[l[11]||(l[11]=h("span",{class:"resource-icon"},"âš–ï¸",-1)),h("div",ie,[l[10]||(l[10]=h("span",{class:"resource-label"},"ê³„ëª… íš¨ê³¼ (ë§¤ì¼)",-1)),h("div",ue,[0!==e.commandmentEffects.morale?(x(),y("span",{key:0,class:C(["text-[9px] px-1.5 py-0.5 rounded",e.commandmentEffects.morale>0?"bg-emerald-500/30 text-emerald-200":"bg-red-500/30 text-red-200"])}," ë¯¼ì‹¬ "+_(e.commandmentEffects.morale>0?"+":"")+_(e.commandmentEffects.morale),3)):w("",!0),0!==e.commandmentEffects.gold?(x(),y("span",{key:1,class:C(["text-[9px] px-1.5 py-0.5 rounded",e.commandmentEffects.gold>0?"bg-emerald-500/30 text-emerald-200":"bg-red-500/30 text-red-200"])}," ê¸ˆ "+_(e.commandmentEffects.gold>0?"+":"")+_(e.commandmentEffects.gold),3)):w("",!0),0!==e.commandmentEffects.military?(x(),y("span",{key:2,class:C(["text-[9px] px-1.5 py-0.5 rounded",e.commandmentEffects.military>0?"bg-emerald-500/30 text-emerald-200":"bg-red-500/30 text-red-200"])}," ë³‘ë ¥ "+_(e.commandmentEffects.military>0?"+":"")+_(e.commandmentEffects.military),3)):w("",!0),0!==e.commandmentEffects.food?(x(),y("span",{key:3,class:C(["text-[9px] px-1.5 py-0.5 rounded",e.commandmentEffects.food>0?"bg-emerald-500/30 text-emerald-200":"bg-red-500/30 text-red-200"])}," ì‹ëŸ‰ "+_(e.commandmentEffects.food>0?"+":"")+_(e.commandmentEffects.food),3)):w("",!0),0!==e.commandmentEffects.population?(x(),y("span",{key:4,class:C(["text-[9px] px-1.5 py-0.5 rounded",e.commandmentEffects.population>0?"bg-emerald-500/30 text-emerald-200":"bg-red-500/30 text-red-200"])}," ì¸êµ¬ "+_(e.commandmentEffects.population>0?"+":"")+_(e.commandmentEffects.population),3)):w("",!0)])])])])):w("",!0),h("div",me,[E(H,{icon:"ðŸ–",label:"ì‹ëŸ‰",value:e.resources.food,variant:"compact",onShowHelp:l[0]||(l[0]=e=>a.$emit("show-resource-help","food"))},null,8,["value"]),E(H,{icon:"ðŸ’°",label:"ê¸ˆ",value:e.resources.gold,variant:"compact",onShowHelp:l[1]||(l[1]=e=>a.$emit("show-resource-help","gold"))},null,8,["value"])]),h("div",ve,[E(H,{icon:"âš”ï¸",label:"ë³‘ì‚¬",value:e.resources.soldiers,variant:"compact",onShowHelp:l[2]||(l[2]=e=>a.$emit("show-resource-help","soldiers"))},null,8,["value"]),E(H,{icon:"â¤ï¸",label:"ë¯¼ì‹¬",value:e.resources.morale,variant:"compact",onShowHelp:l[3]||(l[3]=e=>a.$emit("show-resource-help","morale"))},null,8,["value"])])])]))}}),fe=Object.assign(e(pe,[["__scopeId","data-v-df595d51"]]),{__name:"GameMobileResources"}),be={class:"md:hidden fixed bottom-0 left-0 right-0 bg-black/90 border-t border-gray-700 p-2 z-50"},ge={class:"grid grid-cols-3 gap-1.5"},ye=b({__name:"GameMobileActions",emits:["show-generals","show-commandments","show-passive-cards","show-card-deck","show-card-guide","start-normal-battle","recruit-soldiers"],setup:e=>(e,a)=>(x(),y("div",be,[h("div",ge,[h("button",{onClick:a[0]||(a[0]=a=>e.$emit("show-commandments")),class:"flex flex-col items-center justify-center bg-amber-700/80 border border-amber-600 rounded-lg p-1.5 active:bg-amber-600 transition-all"},[...a[6]||(a[6]=[h("div",{class:"text-xl mb-0.5"},"âœ¨",-1),h("h3",{class:"text-[9px] font-bold"},"ê³„ëª…",-1)])]),h("button",{onClick:a[1]||(a[1]=a=>e.$emit("show-passive-cards")),class:"flex flex-col items-center justify-center bg-purple-700/80 border border-purple-600 rounded-lg p-1.5 active:bg-purple-600 transition-all"},[...a[7]||(a[7]=[h("div",{class:"text-xl mb-0.5"},"ðŸŽ´",-1),h("h3",{class:"text-[9px] font-bold"},"ì¹´ë“œ",-1)])]),h("button",{onClick:a[2]||(a[2]=a=>e.$emit("show-card-deck")),class:"flex flex-col items-center justify-center bg-orange-700/80 border border-orange-600 rounded-lg p-1.5 active:bg-orange-600 transition-all"},[...a[8]||(a[8]=[h("div",{class:"text-xl mb-0.5"},"ðŸƒ",-1),h("h3",{class:"text-[9px] font-bold"},"ë±",-1)])]),h("button",{onClick:a[3]||(a[3]=a=>e.$emit("show-card-guide")),class:"flex flex-col items-center justify-center bg-indigo-700/80 border border-indigo-600 rounded-lg p-1.5 active:bg-indigo-600 transition-all"},[...a[9]||(a[9]=[h("div",{class:"text-xl mb-0.5"},"ðŸ“š",-1),h("h3",{class:"text-[9px] font-bold"},"ë„ê°",-1)])]),h("button",{onClick:a[4]||(a[4]=a=>e.$emit("start-normal-battle")),class:"flex flex-col items-center justify-center bg-green-700/80 border border-green-600 rounded-lg p-1.5 active:bg-green-600 transition-all"},[...a[10]||(a[10]=[h("div",{class:"text-lg mb-0.5"},"âš”ï¸",-1),h("h3",{class:"text-[8px] font-bold"},"ëª¨í—˜",-1)])]),h("button",{onClick:a[5]||(a[5]=a=>e.$emit("recruit-soldiers")),class:"flex flex-col items-center justify-center bg-gray-700/80 border border-gray-600 rounded-lg p-1.5 active:bg-gray-600 transition-all"},[...a[11]||(a[11]=[h("div",{class:"text-xl mb-0.5"},"ðŸ›¡ï¸",-1),h("h3",{class:"text-[9px] font-bold"},"ëª¨ì§‘",-1)])])])]))}),xe=Object.assign(ye,{__name:"GameMobileActions"}),he={class:"hidden md:flex bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 border-b border-slate-700 px-8 py-4"},we={class:"max-w-7xl mx-auto w-full flex items-center justify-between"},_e={class:"flex items-center gap-4"},Ce={class:"text-2xl font-bold text-amber-100"},Ee={class:"text-sm text-slate-400"},ke={class:"flex items-center gap-6"},Se={class:"flex items-center gap-2 bg-slate-800/50 border border-slate-600 rounded-lg px-4 py-2 relative group"},De={class:"text-lg font-bold"},je={class:"flex items-center gap-2 bg-slate-800/50 border border-slate-600 rounded-lg px-4 py-2 relative group"},Re={class:"text-lg font-bold"},Ie={class:"flex items-center gap-2 bg-slate-800/50 border border-slate-600 rounded-lg px-4 py-2 relative group"},Ae={class:"text-lg font-bold"},Te={class:"flex items-center gap-2 bg-slate-800/50 border border-slate-600 rounded-lg px-4 py-2 relative group"},Pe={class:"text-lg font-bold"},$e=b({__name:"GameDesktopHeader",props:{kingdomName:{},day:{},resources:{}},emits:["show-resource-help"],setup:e=>(a,t)=>(x(),y("header",he,[h("div",we,[h("div",_e,[t[4]||(t[4]=h("div",{class:"text-4xl"},"ðŸ‘‘",-1)),h("div",null,[h("h1",Ce,_(e.kingdomName),1),h("p",Ee,"ì œ "+_(e.day)+"ì¼ í†µì¹˜",1)])]),h("div",ke,[h("div",Se,[t[6]||(t[6]=h("span",{class:"text-2xl"},"ðŸ–",-1)),h("div",null,[t[5]||(t[5]=h("p",{class:"text-xs text-slate-400"},"ì‹ëŸ‰",-1)),h("p",De,_(e.resources.food),1)]),h("button",{onClick:t[0]||(t[0]=e=>a.$emit("show-resource-help","food")),class:"absolute -top-1 -right-1 w-5 h-5 bg-green-600 hover:bg-green-500 rounded-full text-white text-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",title:"ì‹ëŸ‰ ë„ì›€ë§"}," ? ")]),h("div",je,[t[8]||(t[8]=h("span",{class:"text-2xl"},"ðŸ’°",-1)),h("div",null,[t[7]||(t[7]=h("p",{class:"text-xs text-slate-400"},"ê¸ˆí™”",-1)),h("p",Re,_(e.resources.gold),1)]),h("button",{onClick:t[1]||(t[1]=e=>a.$emit("show-resource-help","gold")),class:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-600 hover:bg-yellow-500 rounded-full text-white text-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",title:"ê¸ˆ ë„ì›€ë§"}," ? ")]),h("div",Ie,[t[10]||(t[10]=h("span",{class:"text-2xl"},"âš”ï¸",-1)),h("div",null,[t[9]||(t[9]=h("p",{class:"text-xs text-slate-400"},"ë³‘ì‚¬",-1)),h("p",Ae,_(e.resources.soldiers),1)]),h("button",{onClick:t[2]||(t[2]=e=>a.$emit("show-resource-help","soldiers")),class:"absolute -top-1 -right-1 w-5 h-5 bg-red-600 hover:bg-red-500 rounded-full text-white text-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",title:"ë³‘ì‚¬ ë„ì›€ë§"}," ? ")]),h("div",Te,[t[12]||(t[12]=h("span",{class:"text-2xl"},"â¤ï¸",-1)),h("div",null,[t[11]||(t[11]=h("p",{class:"text-xs text-slate-400"},"ì‚¬ê¸°",-1)),h("p",Pe,_(e.resources.morale),1)]),h("button",{onClick:t[3]||(t[3]=e=>a.$emit("show-resource-help","morale")),class:"absolute -top-1 -right-1 w-5 h-5 bg-pink-600 hover:bg-pink-500 rounded-full text-white text-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",title:"ë¯¼ì‹¬ ë„ì›€ë§"}," ? ")])])])]))}),Oe=Object.assign($e,{__name:"GameDesktopHeader"}),Ne={key:0,class:"flex justify-center gap-4 text-center"},Be={class:"flex flex-col"},Le={class:"text-3xl font-bold"},Me={key:1,class:"text-center text-red-400 font-bold text-xl"},Ve=b({__name:"GameTimerCard",props:{days:{},hours:{},minutes:{},seconds:{},isExpired:{type:Boolean}},setup(e){const a=e,t=g(()=>a.isExpired?"border-red-500":a.days<7?"border-yellow-500":"border-indigo-500");return(a,s)=>(x(),y("div",{class:C(["bg-gradient-to-br from-indigo-900/50 to-slate-800/50 border-2 rounded-xl p-4",t.value])},[s[1]||(s[1]=h("div",{class:"flex items-center gap-2 mb-3"},[h("span",{class:"text-2xl"},"â°"),h("span",{class:"text-base font-semibold"},"ì œêµ­ ì •ë³µ ê¸°í•œ")],-1)),e.isExpired?(x(),y("div",Me,"ì‹œê°„ ì¢…ë£Œ!")):(x(),y("div",Ne,[h("div",Be,[h("span",Le,_(e.days),1),s[0]||(s[0]=h("span",{class:"text-sm text-slate-400"},"ì¼ ë‚¨ìŒ",-1))])]))],2))}}),Ge=Object.assign(Ve,{__name:"GameTimerCard"}),qe={class:"w-80 space-y-4"},He={class:"text-lg font-bold animate-pulse"},ze={key:1,class:"bg-gradient-to-br from-indigo-900/40 to-purple-900/40 backdrop-blur-xl border-2 border-indigo-500/50 rounded-xl p-4"},Fe={class:"flex flex-wrap gap-1.5"},Je=b({__name:"GameLeftSidebar",props:{timer:{},currentDay:{},commandmentEffects:{}},setup(e){const a=e,t=g(()=>{if(a.currentDay>=42)return 0;return 7*Math.ceil((a.currentDay+1)/7)-a.currentDay}),s=g(()=>a.currentDay>=42?"":0===t.value?"âš”ï¸ ì˜¤ëŠ˜ ì œêµ­ ì¹¨ëžµ!":1===t.value?"âš”ï¸ ë‚´ì¼ ì œêµ­ ì¹¨ëžµ!":`âš”ï¸ ${t.value}ì¼ í›„ ì œêµ­ ì¹¨ëžµ`),o=g(()=>{if(!a.commandmentEffects)return!1;const e=a.commandmentEffects;return 0!==e.morale||0!==e.gold||0!==e.military||0!==e.food||0!==e.population});return(a,l)=>(x(),y("div",qe,[E(Ge,{days:e.timer.days,hours:e.timer.hours,minutes:e.timer.minutes,seconds:e.timer.seconds,"is-expired":e.timer.isExpired},null,8,["days","hours","minutes","seconds","is-expired"]),s.value?(x(),y("div",{key:0,class:C(["bg-gradient-to-br border-2 rounded-xl p-4 text-center",t.value<=1?"from-red-900/50 to-rose-900/50 border-red-500":"from-yellow-900/50 to-amber-900/50 border-yellow-500"])},[h("div",He,_(s.value),1)],2)):w("",!0),e.commandmentEffects&&o.value?(x(),y("div",ze,[l[0]||(l[0]=h("h3",{class:"text-sm font-bold text-indigo-200 mb-3 flex items-center gap-2"},[h("span",null,"âš–ï¸"),k(" ê³„ëª… íš¨ê³¼ (ë§¤ì¼) ")],-1)),h("div",Fe,[0!==e.commandmentEffects.morale?(x(),y("div",{key:0,class:C(["px-2.5 py-1 rounded-md text-xs font-semibold",e.commandmentEffects.morale>0?"bg-emerald-500/30 text-emerald-200 border border-emerald-500/40":"bg-red-500/30 text-red-200 border border-red-500/40"])}," ë¯¼ì‹¬ "+_(e.commandmentEffects.morale>0?"+":"")+_(e.commandmentEffects.morale),3)):w("",!0),0!==e.commandmentEffects.gold?(x(),y("div",{key:1,class:C(["px-2.5 py-1 rounded-md text-xs font-semibold",e.commandmentEffects.gold>0?"bg-emerald-500/30 text-emerald-200 border border-emerald-500/40":"bg-red-500/30 text-red-200 border border-red-500/40"])}," ê¸ˆ "+_(e.commandmentEffects.gold>0?"+":"")+_(e.commandmentEffects.gold),3)):w("",!0),0!==e.commandmentEffects.military?(x(),y("div",{key:2,class:C(["px-2.5 py-1 rounded-md text-xs font-semibold",e.commandmentEffects.military>0?"bg-emerald-500/30 text-emerald-200 border border-emerald-500/40":"bg-red-500/30 text-red-200 border border-red-500/40"])}," ë³‘ë ¥ "+_(e.commandmentEffects.military>0?"+":"")+_(e.commandmentEffects.military),3)):w("",!0),0!==e.commandmentEffects.food?(x(),y("div",{key:3,class:C(["px-2.5 py-1 rounded-md text-xs font-semibold",e.commandmentEffects.food>0?"bg-emerald-500/30 text-emerald-200 border border-emerald-500/40":"bg-red-500/30 text-red-200 border border-red-500/40"])}," ì‹ëŸ‰ "+_(e.commandmentEffects.food>0?"+":"")+_(e.commandmentEffects.food),3)):w("",!0),0!==e.commandmentEffects.population?(x(),y("div",{key:4,class:C(["px-2.5 py-1 rounded-md text-xs font-semibold",e.commandmentEffects.population>0?"bg-emerald-500/30 text-emerald-200 border border-emerald-500/40":"bg-red-500/30 text-red-200 border border-red-500/40"])}," ì¸êµ¬ "+_(e.commandmentEffects.population>0?"+":"")+_(e.commandmentEffects.population),3)):w("",!0)])])):w("",!0)]))}}),Ue=Object.assign(Je,{__name:"GameLeftSidebar"}),We=["disabled"],Ke={class:"action-icon"},Qe={class:"action-content"},Xe={class:"action-title"},Ye={key:0,class:"action-description"},Ze=b({__name:"ActionButton",props:{icon:{},title:{},description:{},variant:{default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:a}){const t=e,s=a,o=e=>{t.disabled||s("click",e)};return(a,t)=>(x(),y("button",{class:C(["action-button",e.variant,{"action-button-disabled":e.disabled}]),disabled:e.disabled,onClick:o},[h("div",Ke,_(e.icon),1),h("div",Qe,[h("div",Xe,_(e.title),1),e.description?(x(),y("div",Ye,_(e.description),1)):w("",!0)])],10,We))}}),ea=Object.assign(e(Ze,[["__scopeId","data-v-1657d8d0"]]),{__name:"GameActionButton"}),aa={class:"w-80 space-y-3"},ta=b({__name:"GameActionPanel",emits:["show-generals","show-commandments","show-passive-cards","show-card-deck","show-card-guide","start-normal-battle","recruit-soldiers"],setup:e=>(e,a)=>(x(),y("div",aa,[E(ea,{icon:"âœ¨",title:"ì‹ ì˜ ê³„ëª…",description:"ì‹ ì´ ë‚´ë¦° ê³„ëª…ì„ í™•ì¸í•©ë‹ˆë‹¤",variant:"warning",onClick:a[0]||(a[0]=a=>e.$emit("show-commandments"))}),E(ea,{icon:"ðŸŽ´",title:"ë³´ìœ  ì¹´ë“œ",description:"ë³´ìœ í•œ íŒ¨ì‹œë¸Œ ì¹´ë“œë¥¼ í™•ì¸í•©ë‹ˆë‹¤",variant:"info",onClick:a[1]||(a[1]=a=>e.$emit("show-passive-cards"))}),E(ea,{icon:"ðŸƒ",title:"ì¹´ë“œ ë± ì„¤ì •",description:"ë‚´ì • 3ìž¥ + ì „íˆ¬ 3ìž¥ì„ ìž¥ì°©í•©ë‹ˆë‹¤",variant:"info",onClick:a[2]||(a[2]=a=>e.$emit("show-card-deck"))}),E(ea,{icon:"ðŸ“š",title:"ì¹´ë“œ ë„ê°",description:"ëª¨ë“  ì¹´ë“œì™€ ì‹œë„ˆì§€ íš¨ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤",variant:"info",onClick:a[3]||(a[3]=a=>e.$emit("show-card-guide"))}),E(ea,{icon:"âš”ï¸",title:"ëª¨í—˜",description:"ì  ì„¸ë ¥ê³¼ ì „íˆ¬ë¥¼ ë²Œìž…ë‹ˆë‹¤",variant:"success",onClick:a[4]||(a[4]=a=>e.$emit("start-normal-battle"))}),E(ea,{icon:"ðŸ›¡ï¸",title:"ë³‘ë ¥ ëª¨ì§‘",description:"ê¸ˆ 200ìœ¼ë¡œ ë³‘ë ¥ 100 ëª¨ì§‘",variant:"success",onClick:a[5]||(a[5]=a=>e.$emit("recruit-soldiers"))})]))}),sa=Object.assign(ta,{__name:"GameActionPanel"}),oa={class:"relative z-10 flex flex-col min-h-screen"},la={key:3,class:"hidden md:flex flex-1 max-w-7xl mx-auto w-full p-8 gap-8 justify-between"},ra={class:"text-2xl"},na={class:"font-semibold"},da=b({__name:"game",setup(e){const b=T(()=>a(()=>import("./CsS8Vk_J.js"),__vite__mapDeps([0,1]),import.meta.url)),k=T(()=>a(()=>import("./Dk-khc0e.js"),__vite__mapDeps([2,1,3,4,5,6]),import.meta.url)),B=T(()=>a(()=>import("./C87_bGZY.js"),__vite__mapDeps([7,1]),import.meta.url)),L=T(()=>a(()=>import("./CtNw96WS.js"),__vite__mapDeps([8,1]),import.meta.url)),M=T(()=>a(()=>import("./00aDTfTK.js"),__vite__mapDeps([9,1]),import.meta.url)),V=T(()=>a(()=>import("./j5GGM-Lk.js"),__vite__mapDeps([10,1,3,4,5,11]),import.meta.url)),G=T(()=>a(()=>import("./DYrHxA0H.js"),__vite__mapDeps([12,1,3,4,5,13]),import.meta.url)),q=T(()=>a(()=>import("./getMkbHI.js"),__vite__mapDeps([14,1,3,4,5,15]),import.meta.url)),H=T(()=>a(()=>import("./CeOw8muh.js"),__vite__mapDeps([16,1,4,3,5,17]),import.meta.url)),z=T(()=>a(()=>import("./vpG2glcP.js"),__vite__mapDeps([18,1,3,4,5,19]),import.meta.url)),F=T(()=>a(()=>import("./dz8W4gXc.js"),__vite__mapDeps([20,1,3,4,5,21]),import.meta.url)),J=T(()=>a(()=>import("./DdDN919X.js"),__vite__mapDeps([22,1,3,4,5,23]),import.meta.url)),U=T(()=>a(()=>import("./jbQZjzVt.js"),__vite__mapDeps([24,1,3,4,5,25]),import.meta.url)),W=T(()=>a(()=>import("./BWO1Kt0K.js"),__vite__mapDeps([26,1,4,3,5,27]),import.meta.url)),K=T(()=>a(()=>import("./CgP2Ycfk.js"),__vite__mapDeps([28,1,3,4,5,29]),import.meta.url)),Q=T(()=>a(()=>import("./4A4AtvkK.js"),__vite__mapDeps([30,1,3,4,5,31]),import.meta.url)),X=T(()=>a(()=>import("./EL29zTUO.js"),__vite__mapDeps([32,1,4,3,5,33]),import.meta.url)),Y=T(()=>a(()=>import("./BFxYL7Rm.js"),__vite__mapDeps([34,1,3,4,5,35]),import.meta.url)),Z=T(()=>a(()=>import("./CTbxY1cv.js"),__vite__mapDeps([36,1,3,4,5,37]),import.meta.url)),ee=T(()=>a(()=>import("./EL9bXC4D.js"),__vite__mapDeps([38,1,3,4,5,39]),import.meta.url)),ae=T(()=>a(()=>import("./BtTMYPfY.js"),__vite__mapDeps([40,1,3,4,5,41]),import.meta.url)),te=T(()=>a(()=>import("./BMPJnB7Q.js"),__vite__mapDeps([42,1]),import.meta.url)),{nationState:se,startCards:oe}=N(),le=S([]),{notification:re,showNotification:ne}=(()=>{const e=S(null);return{notification:e,showNotification:(a,t="info")=>{e.value={message:a,type:t},setTimeout(()=>{e.value=null},3e3)}}})(),{tutorialState:de,advanceDay:ce,onRecruitSoldiers:ie,completeStartCardSelection:ue,skipTutorial:me}=t(),ve=S(!1),pe=S(null),be=S(!1),ge=g(()=>{const e=Math.max(0,42-Qe.value.day);return{days:e,hours:0,minutes:0,seconds:0,isExpired:0===e}}),ye=g(()=>{if(!se.value?.selectedCommandments||0===se.value.selectedCommandments.length)return null;const e={morale:0,gold:0,military:0,food:0,population:0};return se.value.selectedCommandments.forEach(a=>{e.morale+=a.effects.morale,e.gold+=a.effects.gold,e.military+=a.effects.military,e.food+=a.effects.food,e.population+=a.effects.population}),e}),{playerPassiveCards:he,showPassiveCardSelection:we,availablePassiveCards:_e}=o(),{cardDeck:Ce,equippedCards:Ee,availableDomesticCards:ke,availableBattleCards:Se,equipCard:De,unequipCard:je,loadDeck:Re}=(e=>{const a=S({domestic:[null,null,null],battle:[null,null,null]}),t="cardDeck",s=e=>"daily"===e.trigger||"recruit"===e.trigger,o=e=>!0===e.isBattleCard||"battle_start"===e.trigger||"battle_win"===e.trigger||"battle_lose"===e.trigger,l=g(()=>[...a.value.domestic.filter(e=>null!==e),...a.value.battle.filter(e=>null!==e)]),r=g(()=>{const a=l.value.map(e=>e.id);return e.value.filter(e=>s(e)&&!a.includes(e.id))}),n=g(()=>{const a=l.value.map(e=>e.id);return e.value.filter(e=>o(e)&&!a.includes(e.id))}),d=()=>{{const e={domestic:a.value.domestic.map(e=>e?.id||null),battle:a.value.battle.map(e=>e?.id||null)};localStorage.setItem(t,JSON.stringify(e))}};return{cardDeck:a,equippedCards:l,availableDomesticCards:r,availableBattleCards:n,isDomesticCard:s,isBattleCard:o,equipCard:(e,t,r)=>!(r<0||r>2||"domestic"===t&&!s(e)||"battle"===t&&!o(e)||l.value.some(a=>a.id===e.id)||(a.value[t][r]=e,d(),0)),unequipCard:(e,t)=>!(t<0||t>2||(a.value[e][t]=null,d(),0)),saveDeck:d,loadDeck:()=>{{const o=localStorage.getItem(t);if(o)try{const t=JSON.parse(o);a.value.domestic=t.domestic.map(a=>a&&e.value.find(e=>e.id===a)||null),a.value.battle=t.battle.map(a=>a&&e.value.find(e=>e.id===a)||null)}catch(s){}}},resetDeck:()=>{a.value={domestic:[null,null,null],battle:[null,null,null]},d()},getActiveCardsForTrigger:e=>l.value.filter(a=>a.trigger===e)}})(he),Ie=S(!1),{ownedActiveCards:Ae,battleActiveCards:Te,maxBattleCards:Pe,loadActiveCards:$e,addToBattleDeck:Ne,removeFromBattleDeck:Be,clearBattleDeck:Le,grantStarterCards:Me}=l({showNotification:ne});$e();localStorage.getItem("hasGrantedStarterActiveCards")||0!==Ae.value.length||(Me(),localStorage.setItem("hasGrantedStarterActiveCards","true"));D(Ae,e=>{{const a=e.map(e=>e.id);localStorage.setItem("activeCards",JSON.stringify(a))}},{deep:!0});const Ve=S([]),{playerCards:Ge,showCardSelection:qe,availableCards:He,activeSynergies:ze,totalEffects:Fe,dailyEffects:Je,battleEffects:We,selectCard:Ke}=r(),{kingdom:Qe,empire:Xe,recruitSoldiers:Ye,calculateProduction:Ze}=s(se,le,ne),ea=()=>{Ye(),ie()},aa=S(!1),ta=S(!1),da=S(!1),ca=S(!1),ia=S(!1),ua=S([]),ma=S(!1),va=S(!1),pa=S(!1),fa=S(null),ba=e=>{fa.value=e,pa.value=!0},ga=()=>{va.value=!1,de.value.tutorialCompleted=!0,de.value.isActive=!1,localStorage.setItem("tutorialState",JSON.stringify(de.value)),ne("íŠœí† ë¦¬ì–¼ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤! ê²Œìž„ì„ ì‹œìž‘í•˜ì„¸ìš”!","success")},{showReincarnationModal:ya,reincarnationData:xa,loadReincarnationData:ha,selectInheritedCard:wa,reincarnateWithoutCard:_a}=n(Qe,he,se,ne);ha();const Ca=e=>{if(Va.value){xa.value.inheritedCards.some(a=>a.id===e.id)||(xa.value.inheritedCards.length>=m&&xa.value.inheritedCards.shift(),xa.value.inheritedCards.push(e)),localStorage.setItem("reincarnationData",JSON.stringify(xa.value)),ne(`${e.name} ì¹´ë“œë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤! (ëˆ„ì  ìƒì† ì¹´ë“œ: ${xa.value.inheritedCards.length}ê°œ)`,"success"),ya.value=!1,Va.value=!1}else wa(e)},Ea=()=>{Va.value?(ne("ì¹´ë“œë¥¼ ì„ íƒí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.","info"),ya.value=!1,Va.value=!1):_a()},{adventureState:ka,currentNode:Sa,startAdventure:Da,moveToNode:ja,completeNode:Ra,completeAdventure:Ia,retreatAdventure:Aa,failAdventure:Ta}=d(Qe.value.resources,ne),Pa=S(!1),$a=S(!1),Oa=S(!1),Na=S({enemyName:"",enemyPower:0,battleType:"normal"}),Ba=S([]),La=S(!1),Ma=S(!1),Va=S(!1),{currentBattle:Ga,isScrolling:qa,loadBattleRecords:Ha,selectBattleType:za,startStoryBattle:Fa,closeBattle:Ja,currentBattleMode:Ua,useActiveCard:Wa,usedActiveCards:Ka,attackerScore:Qa,defenderScore:Xa,isPaused:Ya,cardSelectionTime:Za,stopCardSelectionTimer:et,manualPauseBattle:at,manualResumeBattle:tt}=c({kingdom:Qe,enemyKingdoms:f,permanentEffects:le,empire:Xe,showNotification:ne,synergyBattleEffects:We,isWeeklyInvasion:La,showReincarnationModal:ya,selectedBattleCards:Ba,battleActiveCards:Te}),st=()=>{const e=Ga.value?.result,a=Ua.value;Ja(),ka?.value?.active?gt(e):"defeat"===e&&"empire"===a&&setTimeout(()=>{La&&(La.value=!1),ya.value=!0},500)};Ha(),oe.value&&oe.value.length>0&&oe.value.forEach(e=>{he.value.some(a=>a.id===e.id)||he.value.push(e)});const{currentEvent:ot,currentCrossroad:lt,selectPassiveCard:rt,selectChoice:nt,closeEvent:dt,selectCrossroadChoice:ct,closeCrossroad:it}=i({kingdom:Qe,playerPassiveCards:he,showPassiveCardSelection:we,availablePassiveCards:_e,permanentEffects:le,reincarnationData:xa,showReincarnationModal:ya,showNotification:ne,calculateProduction:Ze,synergyDailyEffects:Je,godGameState:se});D(ya,e=>{e&&(Ve.value=p(3))});const ut=()=>{if(ve.value=!1,pe.value?.rewards){const e=pe.value.rewards;e.gold&&(Qe.value.resources.gold+=e.gold),e.food&&(Qe.value.resources.food+=e.food),e.soldiers&&(Qe.value.resources.soldiers+=e.soldiers)}pe.value=null},mt=e=>{switch(ja(e.id),e.type){case"start":const a=ka.value.nodes.find(a=>a.id===e.id);a&&(a.status="completed",a.completed=!0),ka.value.currentNodeId=null,yt();break;case"battle":case"elite":case"boss":e.enemy&&("boss"===e.type&&(Ma.value=!0),Na.value={enemyName:e.enemy.name,enemyPower:e.enemy.power,battleType:"boss"===e.type?"empire":"normal"},bt([]));break;case"event":const t=ka.value.nodes.find(a=>a.id===e.id);t&&(t.status="completed",t.completed=!0),ka.value.currentNodeId=null,yt();break;case"shop":Pa.value=!0;break;case"rest":$a.value=!0;break;case"treasure":const s={gold:Math.floor(300*Math.random())+200,food:Math.floor(200*Math.random())+100,cards:p(1)};Ra(s),ne(`ðŸ’Ž ë³´ë¬¼ ë°œê²¬! ê¸ˆ +${s.gold}, ì‹ëŸ‰ +${s.food}`,"success");const o=ka.value.nodes.find(a=>a.id===e.id);o&&(o.status="completed",o.completed=!0),ka.value.currentNodeId=null,yt()}},vt=()=>{Pa.value=!1,Sa.value&&(Sa.value.status="completed",Sa.value.completed=!0,Sa.value.connections.forEach(e=>{const a=ka.value.nodes.find(a=>a.id===e);a&&"locked"===a.status&&(a.status="available")}),ka.value.currentNodeId=null,yt())},pt=e=>{switch(e){case"soldiers":Qe.value.resources.gold>=400&&(Qe.value.resources.gold-=400,Qe.value.resources.soldiers+=200,ne("ë³‘ì‚¬ 200ëª… ëª¨ì§‘!","success"));break;case"food":Qe.value.resources.gold>=200&&(Qe.value.resources.gold-=200,Qe.value.resources.food+=500,ne("ì‹ëŸ‰ 500 êµ¬ë§¤!","success"));break;case"card":Qe.value.resources.gold>=300&&(Qe.value.resources.gold-=300,we.value=!0,ne("ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”!","info"));break;case"heal":if(Qe.value.resources.food>=200){Qe.value.resources.food-=200;const e=Math.floor(.1*ka.value.startingResources.soldiers);Qe.value.resources.soldiers+=e,ne(`ë³‘ë ¥ ${e}ëª… íšŒë³µ!`,"success")}}},ft=e=>{switch(e){case"heal":const e=Math.floor(.2*ka.value.startingResources.soldiers);Qe.value.resources.soldiers+=e,ne(`ðŸ•ï¸ íœ´ì‹ìœ¼ë¡œ ë³‘ë ¥ ${e}ëª… íšŒë³µ!`,"success");break;case"remove-card":ne("ðŸ—‘ï¸ ì¹´ë“œ ì •ë¦¬ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ìž…ë‹ˆë‹¤","info");break;case"meditate":const a=Math.floor(200*Math.random())+100,t=Math.floor(150*Math.random())+50;Qe.value.resources.gold+=a,Qe.value.resources.food+=t,ne(`ðŸ§˜ ëª…ìƒ... ê¸ˆ +${a}, ì‹ëŸ‰ +${t}`,"success")}$a.value=!1,Sa.value&&(Sa.value.status="completed",Sa.value.completed=!0,Sa.value.connections.forEach(e=>{const a=ka.value.nodes.find(a=>a.id===e);a&&"locked"===a.status&&(a.status="available")}),ka.value.currentNodeId=null,yt())},bt=e=>{Ba.value=e,Oa.value=!1,Le();const a=Ce.value.battle.filter(e=>null!==e);a.forEach(e=>{Ne(e)}),a.length,Fa(Na.value.enemyName,Na.value.enemyPower,Na.value.battleType)},gt=e=>{if(Sa.value&&Sa.value.enemy)if(Ma.value)if("victory"===e){const e={gold:5e3,food:3e3,soldiers:1e3};Qe.value.resources.gold+=e.gold,Qe.value.resources.food+=e.food,Qe.value.resources.soldiers+=e.soldiers,ne(`ðŸ‘‘ ë³´ìŠ¤ ì²˜ì¹˜! ê¸ˆ +${e.gold}, ì‹ëŸ‰ +${e.food}, ë³‘ë ¥ +${e.soldiers}`,"success"),Ia(),setTimeout(()=>{Ma.value=!1,Va.value=!0,ya.value=!0},1e3)}else setTimeout(()=>{Ma.value=!1,Va.value=!1,ya.value=!0},500);else"victory"===e?(Ra(Sa.value.enemy.rewards),ne(`ìŠ¹ë¦¬! ê¸ˆ +${Sa.value.enemy.rewards.gold}, ì‹ëŸ‰ +${Sa.value.enemy.rewards.food}`,"success"),Sa.value.enemy.rewards.cards&&Sa.value.enemy.rewards.cards.length>0&&(_e.value=Sa.value.enemy.rewards.cards,we.value=!0),Sa.value.status="completed",Sa.value.completed=!0,Sa.value.connections.forEach(e=>{const a=ka.value.nodes.find(a=>a.id===e);a&&"locked"===a.status&&(a.status="available")}),ka.value.currentNodeId=null,yt()):Ta()},yt=()=>{Qe.value.day++;const e=ce(Qe.value.day);if(e)return a=e,pe.value=a,void(ve.value=!0);var a;if(Qe.value.day%7==0&&Qe.value.day>0&&Qe.value.day<42){const e=Qe.value.day/7;return ne(`âš”ï¸ ${e}ì£¼ì°¨! ì œêµ­êµ°ì´ ì „ë©´ ì¹¨ëžµí•´ì˜µë‹ˆë‹¤!`,"error"),La.value=!0,void za("pve","empire")}if(Qe.value.day>=42)return ne("ðŸ”„ 42ì¼ì´ ì§€ë‚¬ìŠµë‹ˆë‹¤. ê²Œìž„ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œìž‘í•©ë‹ˆë‹¤...","info"),void setTimeout(()=>{localStorage.removeItem("reincarnationData"),localStorage.removeItem("gameData"),localStorage.removeItem("passiveCards"),localStorage.removeItem("gameStartTime"),localStorage.removeItem("tutorialState"),localStorage.removeItem("synergyCards"),ne("ê²Œìž„ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œìž‘í•©ë‹ˆë‹¤...","info"),setTimeout(()=>{window.location.reload()},1e3)},2e3);ne(`${Qe.value.day}ì¼ì°¨ê°€ ì‹œìž‘ë˜ì—ˆìŠµë‹ˆë‹¤.`,"info")},xt=()=>{ia.value=!1,ne("ì¹´ë“œ êµí™˜ì„ ê±´ë„ˆë›°ì—ˆìŠµë‹ˆë‹¤.","info")},ht=(e,a)=>{const t=he.value.findIndex(a=>a.id===e.id);-1!==t&&(he.value.splice(t,1,a),ne(`${e.name}ì„(ë¥¼) ${a.name}(ìœ¼)ë¡œ êµí™˜í–ˆìŠµë‹ˆë‹¤!`,"success"),ia.value=!1)},wt=e=>he.value.some(a=>a.id===e.id)?(ne("ì´ë¯¸ ë³´ìœ í•œ ì¹´ë“œìž…ë‹ˆë‹¤!","error"),!1):he.value.length>=v?(ne(`ìµœëŒ€ ${v}ìž¥ê¹Œì§€ë§Œ ë³´ìœ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤!`,"error"),!1):(he.value.push(e),!0),_t=e=>{wt(e)&&(ne(`${e.name} ì¹´ë“œë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!`,"success"),ia.value=!1)},Ct=g(()=>(_e.value||[]).filter(e=>"common"===e.rarity||"rare"===e.rarity).slice(0,9)),Et=e=>{let a=0;e.forEach(e=>{wt(e)&&a++}),ue(),ne(`${a}ê°œì˜ ì¹´ë“œë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!`,"success")},kt=()=>{tt(),0===Qe.value.day?(Qe.value.day=1,ne("âš”ï¸ ì „íˆ¬ ì¤€ë¹„ ì™„ë£Œ! 1ì¼ì°¨ê°€ ì‹œìž‘ë©ë‹ˆë‹¤!","success")):ne("âš”ï¸ ì „íˆ¬ ê°€ì´ë“œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!","success")},St=e=>{e&&(et(),at())},Dt=S(null);return j(()=>{{Re(),setTimeout(()=>{va.value=!0},500);const e=u();Dt.value=new Audio(e.app.baseURL+"/bgm/baseBgm.mp3"),Dt.value.loop=!0,Dt.value.volume=.3,Dt.value.play().catch(e=>{const a=()=>{Dt.value&&Dt.value.play().catch(e=>{}),document.removeEventListener("click",a)};document.addEventListener("click",a,{once:!0})})}}),R(()=>{Dt.value&&(Dt.value.pause(),Dt.value.currentTime=0,Dt.value=null)}),(e,a)=>(x(),y("div",{class:"min-h-screen text-white flex flex-col overflow-hidden relative bg-cover bg-center bg-no-repeat",style:O({backgroundImage:`url(${("useRuntimeConfig"in e?e.useRuntimeConfig:A(u))().app.baseURL}images/background/base_back_groud.png)`})},[a[22]||(a[22]=h("div",{class:"absolute inset-0 bg-black/40 z-0"},null,-1)),h("div",oa,[A(de)?.storyCompleted&&!A(de)?.hasSelectedStartCards?(x(),I(A(b),{key:0,cards:Ct.value,onConfirm:Et},null,8,["cards"])):w("",!0),E(A(ae),{show:va.value,onComplete:ga,onSkip:A(me)},null,8,["show","onSkip"]),A(ka)?.active?w("",!0):(x(),I(fe,{key:1,resources:A(Qe).resources,timer:ge.value,"current-day":A(Qe).day,"reincarnation-count":A(xa).count,"commandment-effects":ye.value,onShowResourceHelp:ba},null,8,["resources","timer","current-day","reincarnation-count","commandment-effects"])),A(ka)?.active?w("",!0):(x(),I(Oe,{key:2,"kingdom-name":A(Qe).name,day:A(Qe).day,resources:A(Qe).resources,onShowResourceHelp:ba},null,8,["kingdom-name","day","resources"])),A(ka)?.active?w("",!0):(x(),y("div",la,[E(Ue,{timer:ge.value,"current-day":A(Qe).day,"commandment-effects":ye.value},null,8,["timer","current-day","commandment-effects"]),E(sa,{"unlocked-features":A(de)?.unlockedFeatures||[],onShowCommandments:a[0]||(a[0]=e=>ma.value=!0),onShowPassiveCards:a[1]||(a[1]=e=>aa.value=!0),onShowCardDeck:a[2]||(a[2]=e=>Ie.value=!0),onShowCardGuide:a[3]||(a[3]=e=>ta.value=!0),onStartNormalBattle:A(Da),onRecruitSoldiers:ea},null,8,["unlocked-features","onStartNormalBattle"])])),A(ka)?.active?w("",!0):(x(),I(xe,{key:4,"unlocked-features":A(de)?.unlockedFeatures||[],onShowCommandments:a[4]||(a[4]=e=>ma.value=!0),onShowPassiveCards:a[5]||(a[5]=e=>aa.value=!0),onShowCardDeck:a[6]||(a[6]=e=>Ie.value=!0),onShowCardGuide:a[7]||(a[7]=e=>ta.value=!0),onStartNormalBattle:A(Da),onRecruitSoldiers:ea},null,8,["unlocked-features","onStartNormalBattle"])),E(A(B),{event:A(ot),"current-resources":A(Qe).resources,onClose:A(dt),onSelectChoice:A(nt)},null,8,["event","current-resources","onClose","onSelectChoice"]),E(A(L),{crossroad:A(lt),onClose:A(it),onSelectChoice:A(ct)},null,8,["crossroad","onClose","onSelectChoice"]),E(A(k),{battle:A(Ga),"is-scrolling":A(qa),"battle-active-cards":A(Te),"used-active-cards":A(Ka),"attacker-score":A(Qa),"defender-score":A(Xa),"is-paused":A(Ya),"card-selection-time":A(Za),"current-day":A(Qe).day,onClose:st,onUseActiveCard:A(Wa),onCompleteTutorial:kt,onPauseTutorial:St,onManualPause:A(at),onManualResume:A(tt)},null,8,["battle","is-scrolling","battle-active-cards","used-active-cards","attacker-score","defender-score","is-paused","card-selection-time","current-day","onUseActiveCard","onManualPause","onManualResume"]),E(A(M),{show:A(we),cards:A(_e),onSelectCard:A(rt)},null,8,["show","cards","onSelectCard"]),E(A(V),{show:be.value,"owned-active-cards":A(Ae),"battle-active-cards":A(Te),"max-battle-cards":A(Pe),onClose:a[8]||(a[8]=e=>be.value=!1),onAddToDeck:A(Ne),onRemoveFromDeck:A(Be)},null,8,["show","owned-active-cards","battle-active-cards","max-battle-cards","onAddToDeck","onRemoveFromDeck"]),E(A(G),{show:A(ya),"available-cards":Ve.value,"reincarnation-count":A(xa).count,"highest-day":Math.max(A(xa).highestDay,A(Qe).day),"total-days-played":A(xa).totalDaysPlayed+A(Qe).day,"inherited-cards-count":A(xa).inheritedCards?.length||0,onSelectCard:Ca,onReincarnateWithoutCard:Ea},null,8,["show","available-cards","reincarnation-count","highest-day","total-days-played","inherited-cards-count"]),E(A(q),{show:aa.value,"passive-cards":A(he),"inherited-card-ids":A(xa).inheritedCards.map(e=>e.id),onClose:a[9]||(a[9]=e=>aa.value=!1)},null,8,["show","passive-cards","inherited-card-ids"]),E(A(H),{show:ta.value,"player-cards":A(he),onClose:a[10]||(a[10]=e=>ta.value=!1)},null,8,["show","player-cards"]),E(A(te),{modelValue:Ie.value,"onUpdate:modelValue":a[11]||(a[11]=e=>Ie.value=e),"card-deck":A(Ce),"available-domestic-cards":A(ke),"available-battle-cards":A(Se),"equipped-cards":A(Ee),onEquipCard:a[12]||(a[12]=(e,a,t)=>A(De)(e,a,t)),onUnequipCard:a[13]||(a[13]=(e,a)=>A(je)(e,a))},null,8,["modelValue","card-deck","available-domestic-cards","available-battle-cards","equipped-cards"]),E(A(z),{show:ma.value,commandments:A(se)?.selectedCommandments||[],onClose:a[14]||(a[14]=e=>ma.value=!1)},null,8,["show","commandments"]),E(A(F),{show:ve.value,title:pe.value?.title||"",message:pe.value?.message||"",rewards:pe.value?.rewards,urgent:pe.value?.urgent,important:pe.value?.important,final:pe.value?.final,onClose:ut,onConfirm:ut},null,8,["show","title","message","rewards","urgent","important","final"]),E(A(J),{show:A(qe),cards:A(He),onClose:a[15]||(a[15]=e=>qe.value=!1),onSelectCard:A(Ke)},null,8,["show","cards","onSelectCard"]),E(A(U),{show:da.value,cards:A(Ge),synergies:A(ze),"total-effects":A(Fe).totalEffects,onClose:a[16]||(a[16]=e=>da.value=!1)},null,8,["show","cards","synergies","total-effects"]),E(A(W),{show:ca.value,onClose:a[17]||(a[17]=e=>ca.value=!1)},null,8,["show"]),E(A(Q),{show:pa.value,"resource-type":fa.value,onClose:a[18]||(a[18]=e=>pa.value=!1)},null,8,["show","resource-type"]),E(A(K),{show:ia.value,"current-cards":A(he),"new-cards":ua.value,onClose:a[19]||(a[19]=e=>ia.value=!1),onSkip:xt,onExchange:ht,onAdd:_t},null,8,["show","current-cards","new-cards"]),A(ka)?.active?(x(),I(A(X),{key:5,nodes:A(ka)?.nodes||[],"current-node-id":A(ka)?.currentNodeId||null,"accumulated-rewards":A(ka)?.accumulatedRewards||{},onNodeClick:mt,onRetreat:A(Aa)},null,8,["nodes","current-node-id","accumulated-rewards","onRetreat"])):w("",!0),E(A(Y),{show:Pa.value,"current-gold":A(Qe).resources.gold,"current-food":A(Qe).resources.food,onClose:vt,onBuy:pt},null,8,["show","current-gold","current-food"]),E(A(Z),{show:$a.value,onClose:a[20]||(a[20]=e=>$a.value=!1),onSelect:ft},null,8,["show"]),E(A(ee),{show:Oa.value,"enemy-name":Na.value.enemyName,"enemy-power":Na.value.enemyPower,"player-power":A(Qe).resources.soldiers,"available-cards":A(Ae),onConfirm:bt,onCancel:a[21]||(a[21]=e=>Oa.value=!1)},null,8,["show","enemy-name","enemy-power","player-power","available-cards"]),E($,{name:"notification"},{default:P(()=>[A(re)?(x(),y("div",{key:0,class:C(["fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[200px]",{"bg-green-600 border-2 border-green-400":"success"===A(re).type,"bg-red-600 border-2 border-red-400":"error"===A(re).type,"bg-blue-600 border-2 border-blue-400":"info"===A(re).type}])},[h("span",ra,_("success"===A(re).type?"âœ“":"error"===A(re).type?"âœ—":"â„¹"),1),h("span",na,_(A(re).message),1)],2)):w("",!0)]),_:1})])],4))}});export{da as default};
