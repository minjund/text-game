import{u as t}from"./tGAXIjMb.js";import{d as e,c as s,q as a,k as l,u as x,f as m,j as n,x as r,l as i,C as o,v as d,p,F as c,m as u,n as v,T as g}from"./DpePsv-0.js";import{_ as f}from"#entry";const b={class:"flex items-center justify-between p-3 sm:p-4"},h={class:"flex items-center gap-2 sm:gap-3"},y={class:"flex items-center gap-2 text-[10px] sm:text-xs"},w={class:"text-slate-400"},S={class:"text-blue-400"},k={class:"flex-1 overflow-y-auto p-3 sm:p-4"},C={key:0,class:"text-center py-8 sm:py-12 text-slate-500"},j={key:1,class:"space-y-4 sm:space-y-6"},$={class:"flex items-center justify-between mb-2 sm:mb-3"},_={class:"flex items-center gap-2"},M={class:"text-sm sm:text-base font-bold text-purple-300"},R={class:"text-right flex-shrink-0"},D={class:"text-[10px] sm:text-xs text-slate-400"},G={class:"text-[10px] sm:text-xs text-slate-500"},I={class:"mb-2 sm:mb-3"},N={class:"text-xs sm:text-sm text-slate-300 leading-relaxed italic"},q={class:"pt-2 sm:pt-3 border-t border-purple-700/30 grid grid-cols-3 gap-2 text-center"},z={class:"text-sm sm:text-base font-bold text-red-400"},B={class:"text-sm sm:text-base font-bold"},F={class:"text-green-400"},H={class:"text-red-400 ml-1"},L={class:"p-3 sm:p-4"},O={class:"flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-0 text-xs sm:text-sm text-slate-400"},P={class:"flex flex-col sm:flex-row items-center gap-2"},T={class:"text-purple-400"},U=e({__name:"GameNarrativeModal",props:{show:{type:Boolean,default:!1},narratives:{default:()=>[]},adventureCount:{default:0}},emits:["close"],setup(e){const f=e,U=s(()=>[...f.narratives].sort((t,e)=>e.timestamp-t.timestamp)),A=t=>{const e=new Date(t);return`${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`};return(s,f)=>(l(),a(g,{name:"modal"},{default:x(()=>[e.show?(l(),m("div",{key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-2 sm:p-4 bg-black/80",onClick:f[2]||(f[2]=r(t=>s.$emit("close"),["self"]))},[i("div",{class:"rounded-lg sm:rounded-xl w-full max-w-md max-h-[95vh] sm:max-h-[85vh] overflow-hidden flex flex-col bg-cover bg-no-repeat shadow-2xl",style:o({backgroundImage:`url(${("useRuntimeConfig"in s?s.useRuntimeConfig:d(t))().app.baseURL}images/popup/card.png)`,backgroundPosition:"center top -20px"})},[i("div",b,[i("div",h,[f[5]||(f[5]=i("span",{class:"text-2xl sm:text-3xl"},"ðŸ“œ",-1)),i("div",null,[f[4]||(f[4]=i("h2",{class:"text-base sm:text-lg md:text-xl font-bold text-purple-200"},"ì™•êµ­ì˜ ì—­ì‚¬ì„œ",-1)),i("div",y,[i("span",w," ì´ "+p(e.narratives.length)+"ê°œì˜ ê¸°ë¡ ",1),f[3]||(f[3]=i("span",{class:"text-slate-600"},"|",-1)),i("span",S,"ëª¨í—˜ "+p(e.adventureCount)+"íšŒ",1)])])]),i("button",{onClick:f[0]||(f[0]=t=>s.$emit("close")),class:"text-slate-400 hover:text-white text-xl sm:text-2xl px-1 sm:px-2"}," âœ• ")]),i("div",k,[0===e.narratives.length?(l(),m("div",C,[...f[6]||(f[6]=[i("div",{class:"text-4xl sm:text-5xl md:text-6xl mb-3 sm:mb-4"},"ðŸ“–",-1),i("p",{class:"text-base sm:text-lg"},"ì•„ì§ ê¸°ë¡ëœ ì—­ì‚¬ê°€ ì—†ìŠµë‹ˆë‹¤",-1),i("p",{class:"text-xs sm:text-sm mt-1 sm:mt-2"},"ëª¨í—˜ì„ ë– ë‚˜ ì™•êµ­ì˜ ì—­ì‚¬ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”!",-1),i("p",{class:"text-[10px] sm:text-xs mt-2 sm:mt-3 text-slate-600"},"(ëª¨í—˜ 3ë²ˆë§ˆë‹¤ ìƒˆë¡œìš´ ê¸°ë¡ì´ ì¶”ê°€ë©ë‹ˆë‹¤)",-1)])])):(l(),m("div",j,[(l(!0),m(c,null,u(U.value,(t,s)=>{return l(),m("div",{key:s,class:"border-2 border-purple-600/50 rounded-lg p-3 sm:p-4 transition-all hover:scale-105 bg-slate-800/50"},[i("div",$,[i("div",_,[f[7]||(f[7]=i("span",{class:"text-xl sm:text-2xl"},"ðŸ“–",-1)),i("h3",M,"ì œ "+p(e.narratives.length-s)+"ìž¥",1)]),i("div",R,[i("div",D,p(t.day)+"ì¼ì°¨",1),i("div",G,p(A(t.timestamp)),1)])]),i("div",I,[i("p",N,' "'+p(t.text)+'" ',1)]),i("div",q,[i("div",null,[f[8]||(f[8]=i("div",{class:"text-[10px] sm:text-xs text-slate-400 mb-1"},"ë¯¼ì‹¬",-1)),i("div",{class:v(["text-sm sm:text-base font-bold",(a=t.gameState.morale,a>=70?"text-green-400":a>=40?"text-yellow-400":"text-red-400")])},p(t.gameState.morale),3)]),i("div",null,[f[9]||(f[9]=i("div",{class:"text-[10px] sm:text-xs text-slate-400 mb-1"},"ë³‘ë ¥",-1)),i("div",z,p(t.gameState.soldiers),1)]),i("div",null,[f[12]||(f[12]=i("div",{class:"text-[10px] sm:text-xs text-slate-400 mb-1"},"ì „ì ",-1)),i("div",B,[i("span",F,p(t.gameState.victories),1),f[10]||(f[10]=i("span",{class:"text-slate-500"},"ìŠ¹",-1)),i("span",H,p(t.gameState.defeats),1),f[11]||(f[11]=i("span",{class:"text-slate-500"},"íŒ¨",-1))])])])]);var a}),128))]))]),i("div",L,[i("div",O,[i("div",P,[i("span",null,"í˜„ìž¬ê¹Œì§€ "+p(e.adventureCount)+"ë²ˆì˜ ëª¨í—˜",1),f[13]||(f[13]=i("span",{class:"hidden sm:inline text-slate-600"},"|",-1)),i("span",T,"ë‹¤ìŒ ê¸°ë¡ê¹Œì§€ "+p(3-e.adventureCount%3)+"ë²ˆ",1)]),i("button",{onClick:f[1]||(f[1]=t=>s.$emit("close")),class:"w-full sm:w-auto px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg font-bold text-white transition-colors"}," ë‹«ê¸° ")])])],4)])):n("",!0)]),_:1}))}}),A=Object.assign(f(U,[["__scopeId","data-v-089a69c7"]]),{__name:"GameNarrativeModal"});export{A as default};
