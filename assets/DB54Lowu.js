const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Cos6XRuz.js","./nps6eUVs.js","./Dt8P5mdA.js","./BQs_2Pl5.js","./CQmBsUcO.js","./entry.ZYuEnsux.css","./GameBattleModal.Dv2zXiUm.css","./BKUDGOA0.js","./CMEnD4Fu.js","./DILKY0-2.js","./Dh0tvbrx.js","./GameActiveCardsModal.B6r-ilfv.css","./Bx5XtIv_.js","./GameReincarnationModal.C7hrBNd4.css","./Vp-VQ4tz.js","./GamePassiveCardsModal.wFfEXFx1.css","./D3ztJqeB.js","./GameCardCollection.bWGxB5-_.css","./DJTalsxU.js","./GameCommandmentsModal.BpQvi8cF.css","./CfcinFgm.js","./GameAdvisorModal.DXEfPlk2.css","./DCPB24hm.js","./GameSynergyCardSelection.ZhzXQiyu.css","./DEi3f5zT.js","./GameSynergyCollection.1cVpPlsE.css","./CIfIrdgG.js","./GameSynergyGuide.cL9gEKXo.css","./CzEnhFjN.js","./GameDailyCardExchange.CMiIgq1D.css","./B-rtO9Je.js","./GameResourceHelp.N43b38by.css","./BKwCtdme.js","./GameAdventureMap.XlN80kuD.css","./CdJ7iWqH.js","./GameAdventureShop.D2NX9Ptm.css","./CH1yeJui.js","./GameAdventureRest.M5HIopu3.css","./COY0bOkK.js","./GameBattleCardSelection.l17zbuRP.css","./C5Azv4pl.js","./GameInteractiveTutorial.D-4ZfAS-.css","./BuCR35jw.js","./Y82zswZ7.js","./GameDiceRoulette.dpqu5kK7.css","./BwfG-Vqe.js"])))=>i.map(i=>d[i]);
import{_ as e,a}from"#entry";import{e as t,g as s,i as l,k as o,l as r,m as n,o as c,q as i,s as d,b as u,M as m,t as v,v as p,x as f}from"./CQmBsUcO.js";import{d as b,c as g,f as y,k as h,l as x,j as w,p as _,n as C,x as E,y as k,b as S,w as D,z as I,o as R,q as T,M as P,N as j,u as $,T as A,I as O}from"./nps6eUVs.js";import{u as N}from"./mxPzXiGG.js";const L={class:"resource-icon"},M={class:"resource-info"},B={class:"resource-label"},V={class:"resource-value"},G=["title"],q=b({__name:"ResourceDisplay",props:{icon:{},label:{},value:{},variant:{default:"default"},showPlus:{type:Boolean,default:!1},helpEnabled:{type:Boolean,default:!0}},emits:["show-help"],setup(e){const a=e,t=g(()=>{const e=Math.floor(a.value);return a.showPlus&&e>0?`+${e}`:e.toLocaleString()});return(a,s)=>(h(),y("div",{class:C(["resource-display",e.variant,"group relative"])},[x("span",L,_(e.icon),1),x("div",M,[x("span",B,_(e.label),1),x("span",V,_(t.value),1)]),e.helpEnabled?(h(),y("button",{key:0,onClick:s[0]||(s[0]=e=>a.$emit("show-help")),class:C(["help-button",`help-${e.label.toLowerCase()}`]),title:`${e.label} ë„ì›€ë§`}," ? ",10,G)):w("",!0)],2))}}),H=Object.assign(e(q,[["__scopeId","data-v-47f0e261"]]),{__name:"GameResourceDisplay"}),U={class:"md:hidden fixed top-2 left-2 right-2 z-50 flex flex-col gap-1.5 pointer-events-none"},z={class:"flex flex-col gap-1.5"},F={class:"flex justify-between gap-1.5"},J={class:"w-full pointer-events-auto"},W={class:"resource-info"},K={key:0,class:"resource-value text-xs"},Q={key:1,class:"resource-value text-xs text-red-400"},X={class:"flex justify-between gap-1.5"},Y={class:"flex-1 pointer-events-auto"},Z={class:"resource-display compact border-blue-500"},ee={class:"resource-info"},ae={class:"resource-value"},te={class:"flex-1 pointer-events-auto"},se={class:"resource-display compact border-amber-500"},le={class:"resource-info"},oe={class:"resource-value text-amber-300"},re={key:0,class:"pointer-events-auto"},ne={class:"resource-value text-xs w-full animate-pulse"},ce={key:1,class:"pointer-events-auto"},ie={class:"resource-display compact border-indigo-500 bg-indigo-900/30"},de={class:"resource-info w-full"},ue={class:"flex flex-wrap gap-1 mt-1"},me={class:"flex justify-between gap-1.5"},ve={class:"flex justify-between gap-1.5"},pe=b({__name:"GameMobileResources",props:{resources:{},timer:{},currentDay:{},reincarnationCount:{default:0},commandmentEffects:{default:null}},emits:["show-resource-help"],setup(e){const a=e,t=g(()=>{if(a.currentDay>=42)return 0;return 7*Math.ceil((a.currentDay+1)/7)-a.currentDay}),s=g(()=>a.currentDay>=42?"":0===t.value?"âš”ï¸ ì˜¤ëŠ˜ ì œêµ­ ì¹¨ëžµ!":1===t.value?"âš”ï¸ ë‚´ì¼ ì œêµ­ ì¹¨ëžµ!":`âš”ï¸ ${t.value}ì¼ í›„ ì œêµ­ ì¹¨ëžµ`),l=g(()=>{if(!a.commandmentEffects)return!1;const e=a.commandmentEffects;return 0!==e.morale||0!==e.gold||0!==e.military||0!==e.food||0!==e.population});return(a,o)=>(h(),y("div",U,[x("div",z,[x("div",F,[x("div",J,[x("div",{class:C(["resource-display compact",e.timer.isExpired?"border-red-500":e.timer.days<7?"border-yellow-500":"border-indigo-500"])},[o[5]||(o[5]=x("span",{class:"resource-icon"},"â°",-1)),x("div",W,[o[4]||(o[4]=x("span",{class:"resource-label"},"ì œêµ­ ì •ë³µ ê¸°í•œ",-1)),e.timer.isExpired?(h(),y("span",Q,"ì¢…ë£Œ!")):(h(),y("span",K,_(e.timer.days)+"ì¼ ë‚¨ìŒ ",1))])],2)])]),x("div",X,[x("div",Y,[x("div",Z,[o[7]||(o[7]=x("span",{class:"resource-icon"},"ðŸ“…",-1)),x("div",ee,[o[6]||(o[6]=x("span",{class:"resource-label"},"ê²Œìž„ ì¼ì°¨",-1)),x("span",ae,_(e.currentDay)+"ì¼",1)])])]),x("div",te,[x("div",se,[o[9]||(o[9]=x("span",{class:"resource-icon"},"â™»ï¸",-1)),x("div",le,[o[8]||(o[8]=x("span",{class:"resource-label"},"í™˜ìƒ",-1)),x("span",oe,_(e.reincarnationCount)+"íšŒ",1)])])])]),s.value?(h(),y("div",re,[x("div",{class:C(["resource-display compact text-center",t.value<=1?"border-red-500 bg-red-900/30":"border-yellow-500 bg-yellow-900/20"])},[x("span",ne,_(s.value),1)],2)])):w("",!0),e.commandmentEffects&&l.value?(h(),y("div",ce,[x("div",ie,[o[11]||(o[11]=x("span",{class:"resource-icon"},"âš–ï¸",-1)),x("div",de,[o[10]||(o[10]=x("span",{class:"resource-label"},"ê³„ëª… íš¨ê³¼ (ë§¤ì¼)",-1)),x("div",ue,[0!==e.commandmentEffects.morale?(h(),y("span",{key:0,class:C(["text-[9px] px-1.5 py-0.5 rounded",e.commandmentEffects.morale>0?"bg-emerald-500/30 text-emerald-200":"bg-red-500/30 text-red-200"])}," ë¯¼ì‹¬ "+_(e.commandmentEffects.morale>0?"+":"")+_(e.commandmentEffects.morale),3)):w("",!0),0!==e.commandmentEffects.gold?(h(),y("span",{key:1,class:C(["text-[9px] px-1.5 py-0.5 rounded",e.commandmentEffects.gold>0?"bg-emerald-500/30 text-emerald-200":"bg-red-500/30 text-red-200"])}," ê¸ˆ "+_(e.commandmentEffects.gold>0?"+":"")+_(e.commandmentEffects.gold),3)):w("",!0),0!==e.commandmentEffects.military?(h(),y("span",{key:2,class:C(["text-[9px] px-1.5 py-0.5 rounded",e.commandmentEffects.military>0?"bg-emerald-500/30 text-emerald-200":"bg-red-500/30 text-red-200"])}," ë³‘ë ¥ "+_(e.commandmentEffects.military>0?"+":"")+_(e.commandmentEffects.military),3)):w("",!0),0!==e.commandmentEffects.food?(h(),y("span",{key:3,class:C(["text-[9px] px-1.5 py-0.5 rounded",e.commandmentEffects.food>0?"bg-emerald-500/30 text-emerald-200":"bg-red-500/30 text-red-200"])}," ì‹ëŸ‰ "+_(e.commandmentEffects.food>0?"+":"")+_(e.commandmentEffects.food),3)):w("",!0),0!==e.commandmentEffects.population?(h(),y("span",{key:4,class:C(["text-[9px] px-1.5 py-0.5 rounded",e.commandmentEffects.population>0?"bg-emerald-500/30 text-emerald-200":"bg-red-500/30 text-red-200"])}," ì¸êµ¬ "+_(e.commandmentEffects.population>0?"+":"")+_(e.commandmentEffects.population),3)):w("",!0)])])])])):w("",!0),x("div",me,[E(H,{icon:"ðŸ–",label:"ì‹ëŸ‰",value:e.resources.food,variant:"compact",onShowHelp:o[0]||(o[0]=e=>a.$emit("show-resource-help","food"))},null,8,["value"]),E(H,{icon:"ðŸ’°",label:"ê¸ˆ",value:e.resources.gold,variant:"compact",onShowHelp:o[1]||(o[1]=e=>a.$emit("show-resource-help","gold"))},null,8,["value"])]),x("div",ve,[E(H,{icon:"âš”ï¸",label:"ë³‘ì‚¬",value:e.resources.soldiers,variant:"compact",onShowHelp:o[2]||(o[2]=e=>a.$emit("show-resource-help","soldiers"))},null,8,["value"]),E(H,{icon:"â¤ï¸",label:"ë¯¼ì‹¬",value:e.resources.morale,variant:"compact",onShowHelp:o[3]||(o[3]=e=>a.$emit("show-resource-help","morale"))},null,8,["value"])])])]))}}),fe=Object.assign(e(pe,[["__scopeId","data-v-df595d51"]]),{__name:"GameMobileResources"}),be={class:"md:hidden fixed bottom-0 left-0 right-0 bg-black/90 border-t border-gray-700 p-2 z-50"},ge={class:"grid grid-cols-3 gap-1.5"},ye=b({__name:"GameMobileActions",emits:["show-generals","show-commandments","show-passive-cards","show-card-deck","show-card-guide","start-normal-battle","recruit-soldiers"],setup:e=>(e,a)=>(h(),y("div",be,[x("div",ge,[x("button",{onClick:a[0]||(a[0]=a=>e.$emit("show-commandments")),class:"flex flex-col items-center justify-center bg-amber-700/80 border border-amber-600 rounded-lg p-1.5 active:bg-amber-600 transition-all"},[...a[6]||(a[6]=[x("div",{class:"text-xl mb-0.5"},"âœ¨",-1),x("h3",{class:"text-[9px] font-bold"},"ê³„ëª…",-1)])]),x("button",{onClick:a[1]||(a[1]=a=>e.$emit("show-passive-cards")),class:"flex flex-col items-center justify-center bg-purple-700/80 border border-purple-600 rounded-lg p-1.5 active:bg-purple-600 transition-all"},[...a[7]||(a[7]=[x("div",{class:"text-xl mb-0.5"},"ðŸŽ´",-1),x("h3",{class:"text-[9px] font-bold"},"ì¹´ë“œ",-1)])]),x("button",{onClick:a[2]||(a[2]=a=>e.$emit("show-card-deck")),class:"flex flex-col items-center justify-center bg-orange-700/80 border border-orange-600 rounded-lg p-1.5 active:bg-orange-600 transition-all"},[...a[8]||(a[8]=[x("div",{class:"text-xl mb-0.5"},"ðŸƒ",-1),x("h3",{class:"text-[9px] font-bold"},"ë±",-1)])]),x("button",{onClick:a[3]||(a[3]=a=>e.$emit("show-card-guide")),class:"flex flex-col items-center justify-center bg-indigo-700/80 border border-indigo-600 rounded-lg p-1.5 active:bg-indigo-600 transition-all"},[...a[9]||(a[9]=[x("div",{class:"text-xl mb-0.5"},"ðŸ“š",-1),x("h3",{class:"text-[9px] font-bold"},"ë„ê°",-1)])]),x("button",{onClick:a[4]||(a[4]=a=>e.$emit("start-normal-battle")),class:"flex flex-col items-center justify-center bg-green-700/80 border border-green-600 rounded-lg p-1.5 active:bg-green-600 transition-all"},[...a[10]||(a[10]=[x("div",{class:"text-lg mb-0.5"},"âš”ï¸",-1),x("h3",{class:"text-[8px] font-bold"},"ëª¨í—˜",-1)])]),x("button",{onClick:a[5]||(a[5]=a=>e.$emit("recruit-soldiers")),class:"flex flex-col items-center justify-center bg-gray-700/80 border border-gray-600 rounded-lg p-1.5 active:bg-gray-600 transition-all"},[...a[11]||(a[11]=[x("div",{class:"text-xl mb-0.5"},"ðŸ›¡ï¸",-1),x("h3",{class:"text-[9px] font-bold"},"ëª¨ì§‘",-1)])])])]))}),he=Object.assign(ye,{__name:"GameMobileActions"}),xe={class:"hidden md:flex bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 border-b border-slate-700 px-8 py-4"},we={class:"max-w-7xl mx-auto w-full flex items-center justify-between"},_e={class:"flex items-center gap-4"},Ce={class:"text-2xl font-bold text-amber-100"},Ee={class:"text-sm text-slate-400"},ke={class:"flex items-center gap-6"},Se={class:"flex items-center gap-2 bg-slate-800/50 border border-slate-600 rounded-lg px-4 py-2 relative group"},De={class:"text-lg font-bold"},Ie={class:"flex items-center gap-2 bg-slate-800/50 border border-slate-600 rounded-lg px-4 py-2 relative group"},Re={class:"text-lg font-bold"},Te={class:"flex items-center gap-2 bg-slate-800/50 border border-slate-600 rounded-lg px-4 py-2 relative group"},Pe={class:"text-lg font-bold"},je={class:"flex items-center gap-2 bg-slate-800/50 border border-slate-600 rounded-lg px-4 py-2 relative group"},$e={class:"text-lg font-bold"},Ae=b({__name:"GameDesktopHeader",props:{kingdomName:{},day:{},resources:{}},emits:["show-resource-help"],setup:e=>(a,t)=>(h(),y("header",xe,[x("div",we,[x("div",_e,[t[4]||(t[4]=x("div",{class:"text-4xl"},"ðŸ‘‘",-1)),x("div",null,[x("h1",Ce,_(e.kingdomName),1),x("p",Ee,"ì œ "+_(e.day)+"ì¼ í†µì¹˜",1)])]),x("div",ke,[x("div",Se,[t[6]||(t[6]=x("span",{class:"text-2xl"},"ðŸ–",-1)),x("div",null,[t[5]||(t[5]=x("p",{class:"text-xs text-slate-400"},"ì‹ëŸ‰",-1)),x("p",De,_(e.resources.food),1)]),x("button",{onClick:t[0]||(t[0]=e=>a.$emit("show-resource-help","food")),class:"absolute -top-1 -right-1 w-5 h-5 bg-green-600 hover:bg-green-500 rounded-full text-white text-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",title:"ì‹ëŸ‰ ë„ì›€ë§"}," ? ")]),x("div",Ie,[t[8]||(t[8]=x("span",{class:"text-2xl"},"ðŸ’°",-1)),x("div",null,[t[7]||(t[7]=x("p",{class:"text-xs text-slate-400"},"ê¸ˆí™”",-1)),x("p",Re,_(e.resources.gold),1)]),x("button",{onClick:t[1]||(t[1]=e=>a.$emit("show-resource-help","gold")),class:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-600 hover:bg-yellow-500 rounded-full text-white text-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",title:"ê¸ˆ ë„ì›€ë§"}," ? ")]),x("div",Te,[t[10]||(t[10]=x("span",{class:"text-2xl"},"âš”ï¸",-1)),x("div",null,[t[9]||(t[9]=x("p",{class:"text-xs text-slate-400"},"ë³‘ì‚¬",-1)),x("p",Pe,_(e.resources.soldiers),1)]),x("button",{onClick:t[2]||(t[2]=e=>a.$emit("show-resource-help","soldiers")),class:"absolute -top-1 -right-1 w-5 h-5 bg-red-600 hover:bg-red-500 rounded-full text-white text-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",title:"ë³‘ì‚¬ ë„ì›€ë§"}," ? ")]),x("div",je,[t[12]||(t[12]=x("span",{class:"text-2xl"},"â¤ï¸",-1)),x("div",null,[t[11]||(t[11]=x("p",{class:"text-xs text-slate-400"},"ì‚¬ê¸°",-1)),x("p",$e,_(e.resources.morale),1)]),x("button",{onClick:t[3]||(t[3]=e=>a.$emit("show-resource-help","morale")),class:"absolute -top-1 -right-1 w-5 h-5 bg-pink-600 hover:bg-pink-500 rounded-full text-white text-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",title:"ë¯¼ì‹¬ ë„ì›€ë§"}," ? ")])])])]))}),Oe=Object.assign(Ae,{__name:"GameDesktopHeader"}),Ne={key:0,class:"flex justify-center gap-4 text-center"},Le={class:"flex flex-col"},Me={class:"text-3xl font-bold"},Be={key:1,class:"text-center text-red-400 font-bold text-xl"},Ve=b({__name:"GameTimerCard",props:{days:{},hours:{},minutes:{},seconds:{},isExpired:{type:Boolean}},setup(e){const a=e,t=g(()=>a.isExpired?"border-red-500":a.days<7?"border-yellow-500":"border-indigo-500");return(a,s)=>(h(),y("div",{class:C(["bg-gradient-to-br from-indigo-900/50 to-slate-800/50 border-2 rounded-xl p-4",t.value])},[s[1]||(s[1]=x("div",{class:"flex items-center gap-2 mb-3"},[x("span",{class:"text-2xl"},"â°"),x("span",{class:"text-base font-semibold"},"ì œêµ­ ì •ë³µ ê¸°í•œ")],-1)),e.isExpired?(h(),y("div",Be,"ì‹œê°„ ì¢…ë£Œ!")):(h(),y("div",Ne,[x("div",Le,[x("span",Me,_(e.days),1),s[0]||(s[0]=x("span",{class:"text-sm text-slate-400"},"ì¼ ë‚¨ìŒ",-1))])]))],2))}}),Ge=Object.assign(Ve,{__name:"GameTimerCard"}),qe={class:"w-80 space-y-4"},He={class:"text-lg font-bold animate-pulse"},Ue={key:1,class:"bg-gradient-to-br from-indigo-900/40 to-purple-900/40 backdrop-blur-xl border-2 border-indigo-500/50 rounded-xl p-4"},ze={class:"flex flex-wrap gap-1.5"},Fe=b({__name:"GameLeftSidebar",props:{timer:{},currentDay:{},commandmentEffects:{}},setup(e){const a=e,t=g(()=>{if(a.currentDay>=42)return 0;return 7*Math.ceil((a.currentDay+1)/7)-a.currentDay}),s=g(()=>a.currentDay>=42?"":0===t.value?"âš”ï¸ ì˜¤ëŠ˜ ì œêµ­ ì¹¨ëžµ!":1===t.value?"âš”ï¸ ë‚´ì¼ ì œêµ­ ì¹¨ëžµ!":`âš”ï¸ ${t.value}ì¼ í›„ ì œêµ­ ì¹¨ëžµ`),l=g(()=>{if(!a.commandmentEffects)return!1;const e=a.commandmentEffects;return 0!==e.morale||0!==e.gold||0!==e.military||0!==e.food||0!==e.population});return(a,o)=>(h(),y("div",qe,[E(Ge,{days:e.timer.days,hours:e.timer.hours,minutes:e.timer.minutes,seconds:e.timer.seconds,"is-expired":e.timer.isExpired},null,8,["days","hours","minutes","seconds","is-expired"]),s.value?(h(),y("div",{key:0,class:C(["bg-gradient-to-br border-2 rounded-xl p-4 text-center",t.value<=1?"from-red-900/50 to-rose-900/50 border-red-500":"from-yellow-900/50 to-amber-900/50 border-yellow-500"])},[x("div",He,_(s.value),1)],2)):w("",!0),e.commandmentEffects&&l.value?(h(),y("div",Ue,[o[0]||(o[0]=x("h3",{class:"text-sm font-bold text-indigo-200 mb-3 flex items-center gap-2"},[x("span",null,"âš–ï¸"),k(" ê³„ëª… íš¨ê³¼ (ë§¤ì¼) ")],-1)),x("div",ze,[0!==e.commandmentEffects.morale?(h(),y("div",{key:0,class:C(["px-2.5 py-1 rounded-md text-xs font-semibold",e.commandmentEffects.morale>0?"bg-emerald-500/30 text-emerald-200 border border-emerald-500/40":"bg-red-500/30 text-red-200 border border-red-500/40"])}," ë¯¼ì‹¬ "+_(e.commandmentEffects.morale>0?"+":"")+_(e.commandmentEffects.morale),3)):w("",!0),0!==e.commandmentEffects.gold?(h(),y("div",{key:1,class:C(["px-2.5 py-1 rounded-md text-xs font-semibold",e.commandmentEffects.gold>0?"bg-emerald-500/30 text-emerald-200 border border-emerald-500/40":"bg-red-500/30 text-red-200 border border-red-500/40"])}," ê¸ˆ "+_(e.commandmentEffects.gold>0?"+":"")+_(e.commandmentEffects.gold),3)):w("",!0),0!==e.commandmentEffects.military?(h(),y("div",{key:2,class:C(["px-2.5 py-1 rounded-md text-xs font-semibold",e.commandmentEffects.military>0?"bg-emerald-500/30 text-emerald-200 border border-emerald-500/40":"bg-red-500/30 text-red-200 border border-red-500/40"])}," ë³‘ë ¥ "+_(e.commandmentEffects.military>0?"+":"")+_(e.commandmentEffects.military),3)):w("",!0),0!==e.commandmentEffects.food?(h(),y("div",{key:3,class:C(["px-2.5 py-1 rounded-md text-xs font-semibold",e.commandmentEffects.food>0?"bg-emerald-500/30 text-emerald-200 border border-emerald-500/40":"bg-red-500/30 text-red-200 border border-red-500/40"])}," ì‹ëŸ‰ "+_(e.commandmentEffects.food>0?"+":"")+_(e.commandmentEffects.food),3)):w("",!0),0!==e.commandmentEffects.population?(h(),y("div",{key:4,class:C(["px-2.5 py-1 rounded-md text-xs font-semibold",e.commandmentEffects.population>0?"bg-emerald-500/30 text-emerald-200 border border-emerald-500/40":"bg-red-500/30 text-red-200 border border-red-500/40"])}," ì¸êµ¬ "+_(e.commandmentEffects.population>0?"+":"")+_(e.commandmentEffects.population),3)):w("",!0)])])):w("",!0)]))}}),Je=Object.assign(Fe,{__name:"GameLeftSidebar"}),We=["disabled"],Ke={class:"action-icon"},Qe={class:"action-content"},Xe={class:"action-title"},Ye={key:0,class:"action-description"},Ze=b({__name:"ActionButton",props:{icon:{},title:{},description:{},variant:{default:"primary"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:a}){const t=e,s=a,l=e=>{t.disabled||s("click",e)};return(a,t)=>(h(),y("button",{class:C(["action-button",e.variant,{"action-button-disabled":e.disabled}]),disabled:e.disabled,onClick:l},[x("div",Ke,_(e.icon),1),x("div",Qe,[x("div",Xe,_(e.title),1),e.description?(h(),y("div",Ye,_(e.description),1)):w("",!0)])],10,We))}}),ea=Object.assign(e(Ze,[["__scopeId","data-v-1657d8d0"]]),{__name:"GameActionButton"}),aa={class:"w-80 space-y-3"},ta=b({__name:"GameActionPanel",emits:["show-generals","show-commandments","show-passive-cards","show-card-deck","show-card-guide","start-normal-battle","recruit-soldiers"],setup:e=>(e,a)=>(h(),y("div",aa,[E(ea,{icon:"âœ¨",title:"ì‹ ì˜ ê³„ëª…",description:"ì‹ ì´ ë‚´ë¦° ê³„ëª…ì„ í™•ì¸í•©ë‹ˆë‹¤",variant:"warning",onClick:a[0]||(a[0]=a=>e.$emit("show-commandments"))}),E(ea,{icon:"ðŸŽ´",title:"ë³´ìœ  ì¹´ë“œ",description:"ë³´ìœ í•œ íŒ¨ì‹œë¸Œ ì¹´ë“œë¥¼ í™•ì¸í•©ë‹ˆë‹¤",variant:"info",onClick:a[1]||(a[1]=a=>e.$emit("show-passive-cards"))}),E(ea,{icon:"ðŸƒ",title:"ì¹´ë“œ ë± ì„¤ì •",description:"ë‚´ì • 3ìž¥ + ì „íˆ¬ 3ìž¥ì„ ìž¥ì°©í•©ë‹ˆë‹¤",variant:"info",onClick:a[2]||(a[2]=a=>e.$emit("show-card-deck"))}),E(ea,{icon:"ðŸ“š",title:"ì¹´ë“œ ë„ê°",description:"ëª¨ë“  ì¹´ë“œì™€ ì‹œë„ˆì§€ íš¨ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤",variant:"info",onClick:a[3]||(a[3]=a=>e.$emit("show-card-guide"))}),E(ea,{icon:"âš”ï¸",title:"ëª¨í—˜",description:"ì  ì„¸ë ¥ê³¼ ì „íˆ¬ë¥¼ ë²Œìž…ë‹ˆë‹¤",variant:"success",onClick:a[4]||(a[4]=a=>e.$emit("start-normal-battle"))}),E(ea,{icon:"ðŸ›¡ï¸",title:"ë³‘ë ¥ ëª¨ì§‘",description:"ê¸ˆ 200ìœ¼ë¡œ ë³‘ë ¥ 100 ëª¨ì§‘",variant:"success",onClick:a[5]||(a[5]=a=>e.$emit("recruit-soldiers"))})]))}),sa=Object.assign(ta,{__name:"GameActionPanel"}),la={class:"relative z-10 flex flex-col min-h-screen"},oa={key:3,class:"hidden md:flex flex-1 max-w-7xl mx-auto w-full p-8 gap-8 justify-between"},ra={class:"text-2xl"},na={class:"font-semibold"},ca=b({__name:"game",setup(e){const b=j(()=>a(()=>import("./Cos6XRuz.js"),__vite__mapDeps([0,1]),import.meta.url)),k=j(()=>a(()=>import("./Dt8P5mdA.js"),__vite__mapDeps([2,1,3,4,5,6]),import.meta.url)),L=j(()=>a(()=>import("./BKUDGOA0.js"),__vite__mapDeps([7,1]),import.meta.url)),M=j(()=>a(()=>import("./CMEnD4Fu.js"),__vite__mapDeps([8,1]),import.meta.url)),B=j(()=>a(()=>import("./DILKY0-2.js"),__vite__mapDeps([9,1]),import.meta.url)),V=j(()=>a(()=>import("./Dh0tvbrx.js"),__vite__mapDeps([10,1,3,4,5,11]),import.meta.url)),G=j(()=>a(()=>import("./Bx5XtIv_.js"),__vite__mapDeps([12,1,3,4,5,13]),import.meta.url)),q=j(()=>a(()=>import("./Vp-VQ4tz.js"),__vite__mapDeps([14,1,3,4,5,15]),import.meta.url)),H=j(()=>a(()=>import("./D3ztJqeB.js"),__vite__mapDeps([16,1,4,3,5,17]),import.meta.url)),U=j(()=>a(()=>import("./DJTalsxU.js"),__vite__mapDeps([18,1,3,4,5,19]),import.meta.url)),z=j(()=>a(()=>import("./CfcinFgm.js"),__vite__mapDeps([20,1,3,4,5,21]),import.meta.url)),F=j(()=>a(()=>import("./DCPB24hm.js"),__vite__mapDeps([22,1,3,4,5,23]),import.meta.url)),J=j(()=>a(()=>import("./DEi3f5zT.js"),__vite__mapDeps([24,1,3,4,5,25]),import.meta.url)),W=j(()=>a(()=>import("./CIfIrdgG.js"),__vite__mapDeps([26,1,4,3,5,27]),import.meta.url)),K=j(()=>a(()=>import("./CzEnhFjN.js"),__vite__mapDeps([28,1,3,4,5,29]),import.meta.url)),Q=j(()=>a(()=>import("./B-rtO9Je.js"),__vite__mapDeps([30,1,3,4,5,31]),import.meta.url)),X=j(()=>a(()=>import("./BKwCtdme.js"),__vite__mapDeps([32,1,4,3,5,33]),import.meta.url)),Y=j(()=>a(()=>import("./CdJ7iWqH.js"),__vite__mapDeps([34,1,3,4,5,35]),import.meta.url)),Z=j(()=>a(()=>import("./CH1yeJui.js"),__vite__mapDeps([36,1,3,4,5,37]),import.meta.url)),ee=j(()=>a(()=>import("./COY0bOkK.js"),__vite__mapDeps([38,1,3,4,5,39]),import.meta.url)),ae=j(()=>a(()=>import("./C5Azv4pl.js"),__vite__mapDeps([40,1,3,4,5,41]),import.meta.url)),te=j(()=>a(()=>import("./BuCR35jw.js"),__vite__mapDeps([42,1]),import.meta.url)),se=j(()=>a(()=>import("./Y82zswZ7.js"),__vite__mapDeps([43,1,3,4,5,44]),import.meta.url)),le=j(()=>a(()=>import("./BwfG-Vqe.js"),__vite__mapDeps([45,1]),import.meta.url)),{nationState:oe,startCards:re}=N(),ne=S([]),{notification:ce,showNotification:ie}=(()=>{const e=S(null);return{notification:e,showNotification:(a,t="info")=>{e.value={message:a,type:t},setTimeout(()=>{e.value=null},3e3)}}})(),{tutorialState:de,advanceDay:ue,onRecruitSoldiers:me,completeStartCardSelection:ve,skipTutorial:pe}=t(),be=S(!1),ge=S(null),ye=S(!1),xe=g(()=>{const e=Math.max(0,42-Ye.value.day);return{days:e,hours:0,minutes:0,seconds:0,isExpired:0===e}}),we=g(()=>{if(!oe.value?.selectedCommandments||0===oe.value.selectedCommandments.length)return null;const e={morale:0,gold:0,military:0,food:0,population:0};return oe.value.selectedCommandments.forEach(a=>{e.morale+=a.effects.morale,e.gold+=a.effects.gold,e.military+=a.effects.military,e.food+=a.effects.food,e.population+=a.effects.population}),e}),{playerPassiveCards:_e,showPassiveCardSelection:Ce,availablePassiveCards:Ee}=l(),{cardDeck:ke,equippedCards:Se,availableDomesticCards:De,availableBattleCards:Ie,equipCard:Re,unequipCard:Te,loadDeck:Pe}=(e=>{const a=S({domestic:[null,null,null],battle:[null,null,null]}),t="cardDeck",s=e=>"daily"===e.trigger||"recruit"===e.trigger,l=e=>!0===e.isBattleCard||"battle_start"===e.trigger||"battle_win"===e.trigger||"battle_lose"===e.trigger,o=g(()=>[...a.value.domestic.filter(e=>null!==e),...a.value.battle.filter(e=>null!==e)]),r=g(()=>{const a=o.value.map(e=>e.id);return e.value.filter(e=>s(e)&&!a.includes(e.id))}),n=g(()=>{const a=o.value.map(e=>e.id);return e.value.filter(e=>l(e)&&!a.includes(e.id))}),c=()=>{{const e={domestic:a.value.domestic.map(e=>e?.id||null),battle:a.value.battle.map(e=>e?.id||null)};localStorage.setItem(t,JSON.stringify(e))}};return{cardDeck:a,equippedCards:o,availableDomesticCards:r,availableBattleCards:n,isDomesticCard:s,isBattleCard:l,equipCard:(e,t,r)=>!(r<0||r>2||"domestic"===t&&!s(e)||"battle"===t&&!l(e)||o.value.some(a=>a.id===e.id)||(a.value[t][r]=e,c(),0)),unequipCard:(e,t)=>!(t<0||t>2||(a.value[e][t]=null,c(),0)),saveDeck:c,loadDeck:()=>{{const l=localStorage.getItem(t);if(l)try{const t=JSON.parse(l);a.value.domestic=t.domestic.map(a=>a&&e.value.find(e=>e.id===a)||null),a.value.battle=t.battle.map(a=>a&&e.value.find(e=>e.id===a)||null)}catch(s){}}},resetDeck:()=>{a.value={domestic:[null,null,null],battle:[null,null,null]},c()},getActiveCardsForTrigger:e=>o.value.filter(a=>a.trigger===e)}})(_e),je=S(!1),{ownedActiveCards:$e,battleActiveCards:Ae,maxBattleCards:Ne,loadActiveCards:Le,addToBattleDeck:Me,removeFromBattleDeck:Be,clearBattleDeck:Ve,grantStarterCards:Ge}=o({showNotification:ie});Le();localStorage.getItem("hasGrantedStarterActiveCards")||0!==$e.value.length||(Ge(),localStorage.setItem("hasGrantedStarterActiveCards","true"));D($e,e=>{{const a=e.map(e=>e.id);localStorage.setItem("activeCards",JSON.stringify(a))}},{deep:!0});const qe=S([]),{playerCards:He,showCardSelection:Ue,availableCards:ze,activeSynergies:Fe,totalEffects:We,dailyEffects:Ke,battleEffects:Qe,selectCard:Xe}=r(),{kingdom:Ye,empire:Ze,recruitSoldiers:ea,calculateProduction:aa}=s(oe,ne,ie),ta=()=>{ea(),me()},ca=S(!1),ia=S(!1),da=S(!1),ua=S(!1),ma=S(!1),va=S([]),pa=S(!1),fa=S(!1),ba=S(!1),ga=S(null),ya=e=>{ga.value=e,ba.value=!0},ha=()=>{fa.value=!1,de.value.tutorialCompleted=!0,de.value.isActive=!1,localStorage.setItem("tutorialState",JSON.stringify(de.value)),ie("íŠœí† ë¦¬ì–¼ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤! ê²Œìž„ì„ ì‹œìž‘í•˜ì„¸ìš”!","success")},{showReincarnationModal:xa,reincarnationData:wa,loadReincarnationData:_a,selectInheritedCard:Ca,reincarnateWithoutCard:Ea}=n(Ye,_e,oe,ie);_a();const ka=e=>{if(Za.value){wa.value.inheritedCards.some(a=>a.id===e.id)||(wa.value.inheritedCards.length>=m&&wa.value.inheritedCards.shift(),wa.value.inheritedCards.push(e)),localStorage.setItem("reincarnationData",JSON.stringify(wa.value)),ie(`${e.name} ì¹´ë“œë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤! (ëˆ„ì  ìƒì† ì¹´ë“œ: ${wa.value.inheritedCards.length}ê°œ)`,"success"),xa.value=!1,Za.value=!1}else Ca(e)},Sa=()=>{Za.value?(ie("ì¹´ë“œë¥¼ ì„ íƒí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.","info"),xa.value=!1,Za.value=!1):Ea()},{adventureState:Da,moveCompletedNodeId:Ia,currentNode:Ra,startAdventure:Ta,moveToNode:Pa,completeNode:ja,completeAdventure:$a,retreatAdventure:Aa,rollDice:Oa,useNextDice:Na,startAutoMove:La,selectPath:Ma}=c(Ye.value.resources,ie),Ba=S(!1),Va=S(!1),Ga=S(!1),qa=S(!1),Ha=S(!1),Ua=async()=>{Ha.value=!0,await new Promise(e=>setTimeout(e,1e3)),Oa(),Ha.value=!1,ie("ë£°ë › 5ê°œ ìˆ«ìž ìƒì„±! í™•ì¸ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.","success")},za=()=>{Ga.value=!1,qa.value=!0,setTimeout(()=>{const e=Na();ie(`${e}ì¹¸ ì´ë™í•©ë‹ˆë‹¤!`,"info"),La(e)},300)},Fa=()=>{const e=Na();ie(`${e}ì¹¸ ì´ë™í•©ë‹ˆë‹¤!`,"info"),La(e)},Ja=()=>{Ta(),Ga.value=!0},Wa=S(!1),Ka=S({enemyName:"",enemyPower:0,battleType:"normal"}),Qa=S([]),Xa=S(!1),Ya=S(!1),Za=S(!1),{currentBattle:et,isScrolling:at,loadBattleRecords:tt,selectBattleType:st,startStoryBattle:lt,closeBattle:ot,currentBattleMode:rt,useActiveCard:nt,usedActiveCards:ct,attackerScore:it,defenderScore:dt,isPaused:ut,cardSelectionTime:mt,stopCardSelectionTimer:vt,manualPauseBattle:pt,manualResumeBattle:ft}=i({kingdom:Ye,enemyKingdoms:f,permanentEffects:ne,empire:Ze,showNotification:ie,synergyBattleEffects:Qe,isWeeklyInvasion:Xa,showReincarnationModal:xa,selectedBattleCards:Qa,battleActiveCards:Ae}),bt=()=>{const e=et.value?.result,a=rt.value;ot(),Da?.value?.active?$t(e):"defeat"===e&&"empire"===a&&setTimeout(()=>{Xa&&(Xa.value=!1),xa.value=!0},500)};tt(),re.value&&re.value.length>0&&re.value.forEach(e=>{_e.value.some(a=>a.id===e.id)||_e.value.push(e)});const{currentEvent:gt,currentCrossroad:yt,selectPassiveCard:ht,selectChoice:xt,closeEvent:wt,selectCrossroadChoice:_t,closeCrossroad:Ct}=d({kingdom:Ye,playerPassiveCards:_e,showPassiveCardSelection:Ce,availablePassiveCards:Ee,permanentEffects:ne,reincarnationData:wa,showReincarnationModal:xa,showNotification:ie,calculateProduction:aa,synergyDailyEffects:Ke,godGameState:oe});D(xa,e=>{e&&(qe.value=p(3))}),D(()=>Ia.value,e=>{e&&setTimeout(()=>{const a=Da.value.nodes.find(a=>a.id===e);a&&!a.completed?Dt(a):a&&a.completed&&Et(),Ia.value=null},100)});const Et=()=>{if(Da.value.active)if(Da.value.currentDiceIndex<Da.value.diceResults.length){const e=Na();ie(`${e}ì¹¸ ì´ë™í•©ë‹ˆë‹¤!`,"info"),setTimeout(()=>{La(e)},500)}else setTimeout(()=>{qa.value=!1,Ga.value=!0,ie("ëª¨ë“  ìˆ«ìžë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤! ë‹¤ì‹œ ë£°ë ›ì„ ëŒë ¤ì£¼ì„¸ìš”.","info")},500)},kt=()=>{if(be.value=!1,ge.value?.rewards){const e=ge.value.rewards;e.gold&&(Ye.value.resources.gold+=e.gold),e.food&&(Ye.value.resources.food+=e.food),e.soldiers&&(Ye.value.resources.soldiers+=e.soldiers)}ge.value=null},St=e=>{ht(e),Da.value?.active&&setTimeout(()=>{Et()},500)},Dt=e=>{switch(Pa(e.id),e.type){case"start":const a=Da.value.nodes.find(a=>a.id===e.id);a&&(a.status="completed",a.completed=!0),Da.value.currentNodeId=null,Da.value.active&&Et(),At();break;case"battle":case"elite":case"boss":e.enemy&&("boss"===e.type&&(Ya.value=!0),Ka.value={enemyName:e.enemy.name,enemyPower:e.enemy.power,battleType:"boss"===e.type?"empire":"normal"},jt([]));break;case"event":const t=Da.value.nodes.find(a=>a.id===e.id);t&&(t.status="completed",t.completed=!0),Da.value.currentNodeId=null,Da.value.active&&Et(),At();break;case"shop":Ba.value=!0;break;case"rest":Va.value=!0;break;case"treasure":const s={gold:Math.floor(300*Math.random())+200,food:Math.floor(200*Math.random())+100,cards:p(1)};ja(s),ie(`ðŸ’Ž ë³´ë¬¼ ë°œê²¬! ê¸ˆ +${s.gold}, ì‹ëŸ‰ +${s.food}`,"success");const l=Da.value.nodes.find(a=>a.id===e.id);l&&(l.status="completed",l.completed=!0),Da.value.currentNodeId=null,Da.value.active&&Et(),At()}},It=e=>{if(Da.value.isSelectingPath){if(Da.value.availablePaths.some(a=>a.id===e.id)){Ma(e.id);const a={battle:"âš”ï¸",elite:"ðŸ”¥",boss:"ðŸ‘‘",event:"â“",shop:"ðŸª",rest:"ðŸ•ï¸",treasure:"ðŸ’Ž",start:"ðŸšª"}[e.type]||"âž¡ï¸";ie(`${a} ë°©í–¥ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤!`,"info")}else ie("ì„ íƒ ê°€ëŠ¥í•œ ê²½ë¡œê°€ ì•„ë‹™ë‹ˆë‹¤.","error");return}if(e.completed)return Pa(e.id),void ie("ì´ë¯¸ ì™„ë£Œí•œ ì¹¸ìœ¼ë¡œ ë˜ëŒì•„ì™”ìŠµë‹ˆë‹¤.","info");ie("ë£°ë ›ì„ ëŒë ¤ì„œ ì´ë™í•´ì£¼ì„¸ìš”!","info")},Rt=()=>{Ba.value=!1,Ra.value&&(Ra.value.status="completed",Ra.value.completed=!0,Ra.value.connections.forEach(e=>{const a=Da.value.nodes.find(a=>a.id===e);a&&"locked"===a.status&&(a.status="available")}),Da.value.currentNodeId=null,Da.value.active&&Et(),At())},Tt=e=>{switch(e){case"soldiers":Ye.value.resources.gold>=400&&(Ye.value.resources.gold-=400,Ye.value.resources.soldiers+=200,ie("ë³‘ì‚¬ 200ëª… ëª¨ì§‘!","success"));break;case"food":Ye.value.resources.gold>=200&&(Ye.value.resources.gold-=200,Ye.value.resources.food+=500,ie("ì‹ëŸ‰ 500 êµ¬ë§¤!","success"));break;case"card":Ye.value.resources.gold>=300&&(Ye.value.resources.gold-=300,Ba.value=!1,Ra.value&&(Ra.value.status="completed",Ra.value.completed=!0,Ra.value.connections.forEach(e=>{const a=Da.value.nodes.find(a=>a.id===e);a&&"locked"===a.status&&(a.status="available")}),Da.value.currentNodeId=null,At()),Ce.value=!0,ie("ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”!","info"));break;case"heal":if(Ye.value.resources.food>=200){Ye.value.resources.food-=200;const e=Math.floor(.1*Da.value.startingResources.soldiers);Ye.value.resources.soldiers+=e,ie(`ë³‘ë ¥ ${e}ëª… íšŒë³µ!`,"success")}}},Pt=e=>{switch(e){case"heal":const e=Math.floor(.2*Da.value.startingResources.soldiers);Ye.value.resources.soldiers+=e,ie(`ðŸ•ï¸ íœ´ì‹ìœ¼ë¡œ ë³‘ë ¥ ${e}ëª… íšŒë³µ!`,"success");break;case"remove-card":ie("ðŸ—‘ï¸ ì¹´ë“œ ì •ë¦¬ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ìž…ë‹ˆë‹¤","info");break;case"meditate":const a=Math.floor(200*Math.random())+100,t=Math.floor(150*Math.random())+50;Ye.value.resources.gold+=a,Ye.value.resources.food+=t,ie(`ðŸ§˜ ëª…ìƒ... ê¸ˆ +${a}, ì‹ëŸ‰ +${t}`,"success")}Va.value=!1,Ra.value&&(Ra.value.status="completed",Ra.value.completed=!0,Ra.value.connections.forEach(e=>{const a=Da.value.nodes.find(a=>a.id===e);a&&"locked"===a.status&&(a.status="available")}),Da.value.currentNodeId=null,Da.value.active&&Et(),At())},jt=e=>{Qa.value=e,Wa.value=!1,Ve();const a=ke.value.battle.filter(e=>null!==e);a.forEach(e=>{Me(e)}),a.length,lt(Ka.value.enemyName,Ka.value.enemyPower,Ka.value.battleType)},$t=e=>{if(Ra.value&&Ra.value.enemy)if(Ya.value)if("victory"===e){const e={gold:5e3,food:3e3,soldiers:1e3};Ye.value.resources.gold+=e.gold,Ye.value.resources.food+=e.food,Ye.value.resources.soldiers+=e.soldiers,ie(`ðŸ‘‘ ë³´ìŠ¤ ì²˜ì¹˜! ê¸ˆ +${e.gold}, ì‹ëŸ‰ +${e.food}, ë³‘ë ¥ +${e.soldiers}`,"success"),$a(),setTimeout(()=>{Ya.value=!1,Za.value=!0,xa.value=!0},1e3)}else setTimeout(()=>{Ya.value=!1,Za.value=!1,xa.value=!0},500);else if("victory"===e){ja(Ra.value.enemy.rewards),ie(`ìŠ¹ë¦¬! ê¸ˆ +${Ra.value.enemy.rewards.gold}, ì‹ëŸ‰ +${Ra.value.enemy.rewards.food}`,"success");const e=Ra.value.enemy.rewards.cards&&Ra.value.enemy.rewards.cards.length>0;e&&(Ee.value=Ra.value.enemy.rewards.cards,Ce.value=!0),Ra.value.status="completed",Ra.value.completed=!0,Ra.value.connections.forEach(e=>{const a=Da.value.nodes.find(a=>a.id===e);a&&"locked"===a.status&&(a.status="available")}),Da.value.currentNodeId=null,Da.value.active&&!e?Et():Da.value.active,At()}else{const e=Math.floor(.3*Ye.value.resources.soldiers);Ye.value.resources.soldiers=Math.max(0,Ye.value.resources.soldiers-e),ie(`íŒ¨ë°°... ë³‘ë ¥ ${e}ëª… ì†ì‹¤. ëª¨í—˜ì€ ê³„ì†ë©ë‹ˆë‹¤.`,"error"),Ra.value.status="completed",Ra.value.completed=!0,Ra.value.connections.forEach(e=>{const a=Da.value.nodes.find(a=>a.id===e);a&&"locked"===a.status&&(a.status="available")}),Da.value.currentNodeId=null,Da.value.active&&Et(),At()}},At=()=>{if(Ye.value.day++,Da.value?.active)return void ie(`${Ye.value.day}ì¼ì°¨`,"info");const e=ue(Ye.value.day);if(e)return a=e,ge.value=a,void(be.value=!0);var a;if(Ye.value.day%7==0&&Ye.value.day>0&&Ye.value.day<42){const e=Ye.value.day/7;return ie(`âš”ï¸ ${e}ì£¼ì°¨! ì œêµ­êµ°ì´ ì „ë©´ ì¹¨ëžµí•´ì˜µë‹ˆë‹¤!`,"error"),Xa.value=!0,void st("pve","empire")}if(Ye.value.day>=42)return ie("ðŸ”„ 42ì¼ì´ ì§€ë‚¬ìŠµë‹ˆë‹¤. ê²Œìž„ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œìž‘í•©ë‹ˆë‹¤...","info"),void setTimeout(()=>{localStorage.removeItem("reincarnationData"),localStorage.removeItem("gameData"),localStorage.removeItem("passiveCards"),localStorage.removeItem("gameStartTime"),localStorage.removeItem("tutorialState"),localStorage.removeItem("synergyCards"),ie("ê²Œìž„ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œìž‘í•©ë‹ˆë‹¤...","info"),setTimeout(()=>{window.location.reload()},1e3)},2e3);ie(`${Ye.value.day}ì¼ì°¨ê°€ ì‹œìž‘ë˜ì—ˆìŠµë‹ˆë‹¤.`,"info")},Ot=()=>{ma.value=!1,ie("ì¹´ë“œ êµí™˜ì„ ê±´ë„ˆë›°ì—ˆìŠµë‹ˆë‹¤.","info")},Nt=(e,a)=>{const t=_e.value.findIndex(a=>a.id===e.id);-1!==t&&(_e.value.splice(t,1,a),ie(`${e.name}ì„(ë¥¼) ${a.name}(ìœ¼)ë¡œ êµí™˜í–ˆìŠµë‹ˆë‹¤!`,"success"),ma.value=!1)},Lt=e=>_e.value.some(a=>a.id===e.id)?(ie("ì´ë¯¸ ë³´ìœ í•œ ì¹´ë“œìž…ë‹ˆë‹¤!","error"),!1):_e.value.length>=v?(ie(`ìµœëŒ€ ${v}ìž¥ê¹Œì§€ë§Œ ë³´ìœ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤!`,"error"),!1):(_e.value.push(e),!0),Mt=e=>{Lt(e)&&(ie(`${e.name} ì¹´ë“œë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!`,"success"),ma.value=!1)},Bt=g(()=>(Ee.value||[]).filter(e=>"common"===e.rarity||"rare"===e.rarity).slice(0,9)),Vt=e=>{let a=0;e.forEach(e=>{Lt(e)&&a++}),ve(),ie(`${a}ê°œì˜ ì¹´ë“œë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!`,"success")},Gt=()=>{ft(),0===Ye.value.day?(Ye.value.day=1,ie("âš”ï¸ ì „íˆ¬ ì¤€ë¹„ ì™„ë£Œ! 1ì¼ì°¨ê°€ ì‹œìž‘ë©ë‹ˆë‹¤!","success")):ie("âš”ï¸ ì „íˆ¬ ê°€ì´ë“œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!","success")},qt=e=>{e&&(vt(),pt())},Ht=S(null);return I(()=>{{Pe(),setTimeout(()=>{fa.value=!0},500);const e=u();Ht.value=new Audio(e.app.baseURL+"/bgm/baseBgm.mp3"),Ht.value.loop=!0,Ht.value.volume=.3,Ht.value.play().catch(e=>{const a=()=>{Ht.value&&Ht.value.play().catch(e=>{}),document.removeEventListener("click",a)};document.addEventListener("click",a,{once:!0})})}}),R(()=>{Ht.value&&(Ht.value.pause(),Ht.value.currentTime=0,Ht.value=null)}),(e,a)=>(h(),y("div",{class:"min-h-screen text-white flex flex-col overflow-hidden relative bg-cover bg-center bg-no-repeat",style:O({backgroundImage:`url(${("useRuntimeConfig"in e?e.useRuntimeConfig:P(u))().app.baseURL}images/background/base_back_groud.png)`})},[a[22]||(a[22]=x("div",{class:"absolute inset-0 bg-black/40 z-0"},null,-1)),x("div",la,[P(de)?.storyCompleted&&!P(de)?.hasSelectedStartCards?(h(),T(P(b),{key:0,cards:Bt.value,onConfirm:Vt},null,8,["cards"])):w("",!0),E(P(ae),{show:fa.value,onComplete:ha,onSkip:P(pe)},null,8,["show","onSkip"]),P(Da)?.active?w("",!0):(h(),T(fe,{key:1,resources:P(Ye).resources,timer:xe.value,"current-day":P(Ye).day,"reincarnation-count":P(wa).count,"commandment-effects":we.value,onShowResourceHelp:ya},null,8,["resources","timer","current-day","reincarnation-count","commandment-effects"])),P(Da)?.active?w("",!0):(h(),T(Oe,{key:2,"kingdom-name":P(Ye).name,day:P(Ye).day,resources:P(Ye).resources,onShowResourceHelp:ya},null,8,["kingdom-name","day","resources"])),P(Da)?.active?w("",!0):(h(),y("div",oa,[E(Je,{timer:xe.value,"current-day":P(Ye).day,"commandment-effects":we.value},null,8,["timer","current-day","commandment-effects"]),E(sa,{"unlocked-features":P(de)?.unlockedFeatures||[],onShowCommandments:a[0]||(a[0]=e=>pa.value=!0),onShowPassiveCards:a[1]||(a[1]=e=>ca.value=!0),onShowCardDeck:a[2]||(a[2]=e=>je.value=!0),onShowCardGuide:a[3]||(a[3]=e=>ia.value=!0),onStartNormalBattle:Ja,onRecruitSoldiers:ta},null,8,["unlocked-features"])])),P(Da)?.active?w("",!0):(h(),T(he,{key:4,"unlocked-features":P(de)?.unlockedFeatures||[],onShowCommandments:a[4]||(a[4]=e=>pa.value=!0),onShowPassiveCards:a[5]||(a[5]=e=>ca.value=!0),onShowCardDeck:a[6]||(a[6]=e=>je.value=!0),onShowCardGuide:a[7]||(a[7]=e=>ia.value=!0),onStartNormalBattle:Ja,onRecruitSoldiers:ta},null,8,["unlocked-features"])),E(P(L),{event:P(gt),"current-resources":P(Ye).resources,onClose:P(wt),onSelectChoice:P(xt)},null,8,["event","current-resources","onClose","onSelectChoice"]),E(P(M),{crossroad:P(yt),onClose:P(Ct),onSelectChoice:P(_t)},null,8,["crossroad","onClose","onSelectChoice"]),E(P(k),{battle:P(et),"is-scrolling":P(at),"battle-active-cards":P(Ae),"used-active-cards":P(ct),"attacker-score":P(it),"defender-score":P(dt),"is-paused":P(ut),"card-selection-time":P(mt),"current-day":P(Ye).day,onClose:bt,onUseActiveCard:P(nt),onCompleteTutorial:Gt,onPauseTutorial:qt,onManualPause:P(pt),onManualResume:P(ft)},null,8,["battle","is-scrolling","battle-active-cards","used-active-cards","attacker-score","defender-score","is-paused","card-selection-time","current-day","onUseActiveCard","onManualPause","onManualResume"]),E(P(B),{show:P(Ce),cards:P(Ee),onSelectCard:St},null,8,["show","cards"]),E(P(V),{show:ye.value,"owned-active-cards":P($e),"battle-active-cards":P(Ae),"max-battle-cards":P(Ne),onClose:a[8]||(a[8]=e=>ye.value=!1),onAddToDeck:P(Me),onRemoveFromDeck:P(Be)},null,8,["show","owned-active-cards","battle-active-cards","max-battle-cards","onAddToDeck","onRemoveFromDeck"]),E(P(G),{show:P(xa),"available-cards":qe.value,"reincarnation-count":P(wa).count,"highest-day":Math.max(P(wa).highestDay,P(Ye).day),"total-days-played":P(wa).totalDaysPlayed+P(Ye).day,"inherited-cards-count":P(wa).inheritedCards?.length||0,onSelectCard:ka,onReincarnateWithoutCard:Sa},null,8,["show","available-cards","reincarnation-count","highest-day","total-days-played","inherited-cards-count"]),E(P(q),{show:ca.value,"passive-cards":P(_e),"inherited-card-ids":P(wa).inheritedCards.map(e=>e.id),onClose:a[9]||(a[9]=e=>ca.value=!1)},null,8,["show","passive-cards","inherited-card-ids"]),E(P(H),{show:ia.value,"player-cards":P(_e),onClose:a[10]||(a[10]=e=>ia.value=!1)},null,8,["show","player-cards"]),E(P(te),{modelValue:je.value,"onUpdate:modelValue":a[11]||(a[11]=e=>je.value=e),"card-deck":P(ke),"available-domestic-cards":P(De),"available-battle-cards":P(Ie),"equipped-cards":P(Se),onEquipCard:a[12]||(a[12]=(e,a,t)=>P(Re)(e,a,t)),onUnequipCard:a[13]||(a[13]=(e,a)=>P(Te)(e,a))},null,8,["modelValue","card-deck","available-domestic-cards","available-battle-cards","equipped-cards"]),E(P(U),{show:pa.value,commandments:P(oe)?.selectedCommandments||[],onClose:a[14]||(a[14]=e=>pa.value=!1)},null,8,["show","commandments"]),E(P(z),{show:be.value,title:ge.value?.title||"",message:ge.value?.message||"",rewards:ge.value?.rewards,urgent:ge.value?.urgent,important:ge.value?.important,final:ge.value?.final,onClose:kt,onConfirm:kt},null,8,["show","title","message","rewards","urgent","important","final"]),E(P(F),{show:P(Ue),cards:P(ze),onClose:a[15]||(a[15]=e=>Ue.value=!1),onSelectCard:P(Xe)},null,8,["show","cards","onSelectCard"]),E(P(J),{show:da.value,cards:P(He),synergies:P(Fe),"total-effects":P(We).totalEffects,onClose:a[16]||(a[16]=e=>da.value=!1)},null,8,["show","cards","synergies","total-effects"]),E(P(W),{show:ua.value,onClose:a[17]||(a[17]=e=>ua.value=!1)},null,8,["show"]),E(P(Q),{show:ba.value,"resource-type":ga.value,onClose:a[18]||(a[18]=e=>ba.value=!1)},null,8,["show","resource-type"]),E(P(K),{show:ma.value,"current-cards":P(_e),"new-cards":va.value,onClose:a[19]||(a[19]=e=>ma.value=!1),onSkip:Ot,onExchange:Nt,onAdd:Mt},null,8,["show","current-cards","new-cards"]),P(Da)?.active?(h(),T(P(X),{key:5,nodes:P(Da)?.nodes||[],"current-node-id":P(Da)?.currentNodeId||null,"accumulated-rewards":P(Da)?.accumulatedRewards||{},"visible-cells":P(Da)?.visibleCells||new Set,"is-selecting-path":P(Da)?.isSelectingPath||!1,"available-paths":P(Da)?.availablePaths||[],onNodeClick:It,onRetreat:P(Aa)},null,8,["nodes","current-node-id","accumulated-rewards","visible-cells","is-selecting-path","available-paths","onRetreat"])):w("",!0),E(P(Y),{show:Ba.value,"current-gold":P(Ye).resources.gold,"current-food":P(Ye).resources.food,onClose:Rt,onBuy:Tt},null,8,["show","current-gold","current-food"]),E(P(Z),{show:Va.value,onClose:a[20]||(a[20]=e=>Va.value=!1),onSelect:Pt},null,8,["show"]),E(P(ee),{show:Wa.value,"enemy-name":Ka.value.enemyName,"enemy-power":Ka.value.enemyPower,"player-power":P(Ye).resources.soldiers,"available-cards":P($e),onConfirm:jt,onCancel:a[21]||(a[21]=e=>Wa.value=!1)},null,8,["show","enemy-name","enemy-power","player-power","available-cards"]),E(P(se),{show:Ga.value,"dice-results":P(Da)?.diceResults||[],"current-index":P(Da)?.currentDiceIndex||0,"is-rolling":Ha.value,onRoll:Ua,onUseNext:Fa,onConfirm:za},null,8,["show","dice-results","current-index","is-rolling"]),E(P(le),{show:qa.value,"dice-results":P(Da)?.diceResults||[],"current-index":P(Da)?.currentDiceIndex||0},null,8,["show","dice-results","current-index"]),E(A,{name:"notification"},{default:$(()=>[P(ce)?(h(),y("div",{key:0,class:C(["fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[200px]",{"bg-green-600 border-2 border-green-400":"success"===P(ce).type,"bg-red-600 border-2 border-red-400":"error"===P(ce).type,"bg-blue-600 border-2 border-blue-400":"info"===P(ce).type}])},[x("span",ra,_("success"===P(ce).type?"âœ“":"error"===P(ce).type?"âœ—":"â„¹"),1),x("span",na,_(P(ce).message),1)],2)):w("",!0)]),_:1})])],4))}});export{ca as default};
