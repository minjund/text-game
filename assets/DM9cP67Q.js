import{u as e}from"./tGAXIjMb.js";import{b as a}from"./DpePsv-0.js";const u=a(null),l=a(null),t={main:"bgm/main_song1.mp3",adventure:"bgm/adventure_song.mp3",battle:"bgm/battle_song.mp3",base:"bgm/baseBgm.mp3",story:"bgm/story_song.mp3"},m=()=>{const a=e();return{playBGM:(e,m={})=>{if(l.value===e&&u.value&&!u.value.paused)return;if(u.value){try{u.value.pause(),u.value.currentTime=0}catch(n){}u.value=null}const s=`${a.app.baseURL}${t[e]}`,v=new Audio(s);v.loop=m.loop??!0,v.volume=m.volume??.3,u.value=v,l.value=e,v.play().then(()=>{}).catch(e=>{})},stopBGM:()=>{if(u.value){try{u.value.pause(),u.value.currentTime=0}catch(e){}u.value=null,l.value=null}},pauseBGM:()=>{u.value&&u.value.pause()},resumeBGM:()=>{u.value&&u.value.play().catch(e=>{})},setVolume:e=>{u.value&&(u.value.volume=Math.max(0,Math.min(1,e)))},currentType:l}};export{m as u};
