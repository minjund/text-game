import{u as e,a as t,p as a,r,n,j as l,b as u,h as i,w as o,c as s,d as c}from"./CQmBsUcO.js";import{o as v,r as f,c as p,p as d}from"#entry";import{d as h,D as g,b as y,z as m,E as b,G as q,H as x,c as S}from"./nps6eUVs.js";function C(o){const s=o.componentName||"NuxtLink";function c(e){return"string"==typeof e&&e.startsWith("#")}function C(t){const a=e(),s=u(),v=S(()=>!!t.target&&"_self"!==t.target),f=S(()=>{const e=t.to||t.href||"";return"string"==typeof e&&i(e,{acceptRelative:!0})}),p=x("RouterLink"),d=p&&"string"!=typeof p?p.useLink:void 0,h=S(()=>{if(t.external)return!0;const e=t.to||t.href||"";return"object"!=typeof e&&(""===e||f.value)}),g=S(()=>{const e=t.to||t.href||"";return h.value?e:function(e,t,a){const r=a??o.trailingSlash;if(!e||"append"!==r&&"remove"!==r)return e;if("string"==typeof e)return w(e,r);const n="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:w(n,r)}}(e,a.resolve,t.trailingSlash)}),y=h.value?void 0:d?.({...t,to:g}),m=S(()=>{const e=t.trailingSlash??o.trailingSlash;if(!g.value||f.value||c(g.value))return g.value;if(h.value){const t="object"==typeof g.value&&"path"in g.value?r(g.value):g.value;return w("object"==typeof t?a.resolve(t).href:t,e)}return"object"==typeof g.value?a.resolve(g.value)?.href??null:w(l(s.app.baseURL,g.value),e)});return{to:g,hasTarget:v,isAbsoluteUrl:f,isExternal:h,href:m,isActive:y?.isActive??S(()=>g.value===a.currentRoute.value.path),isExactActive:y?.isExactActive??S(()=>g.value===a.currentRoute.value.path),route:y?.route??S(()=>a.resolve(g.value)),async navigate(e){await n(m.value,{replace:t.replace,external:h.value||v.value})}}}return h({name:s,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:C,setup(n,{slots:l}){const u=e(),{to:i,href:s,navigate:h,isExternal:S,hasTarget:A,isAbsoluteUrl:w}=C(n),j=g(!1),k=y(null),O=e=>{k.value=n.custom?e?.$el?.nextElementSibling:e?.$el};function E(e){return!j.value&&("string"==typeof n.prefetchOn?n.prefetchOn===e:n.prefetchOn?.[e]??o.prefetchOn?.[e])&&!1!==(n.prefetch??o.prefetch)&&!0!==n.noPrefetch&&"_blank"!==n.target&&!function(){const e=navigator.connection;if(e&&(e.saveData||R.test(e.effectiveType)))return!0;return!1}()}async function L(e=t()){if(j.value)return;j.value=!0;const a="string"==typeof i.value?i.value:S.value?r(i.value):u.resolve(i.value).fullPath,n=S.value?new URL(a,window.location.href).href:a;await Promise.all([e.hooks.callHook("link:prefetch",n).catch(()=>{}),!S.value&&!A.value&&d(i.value,u).catch(()=>{})])}if(E("visibility")){const e=t();let a,r=null;m(()=>{const n=function(){const e=t();if(e._observer)return e._observer;let a=null;const r=new Map,n=(e,t)=>(a||=new IntersectionObserver(e=>{for(const t of e){const e=r.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&e&&e()}}),r.set(e,t),a.observe(e),()=>{r.delete(e),a?.unobserve(e),0===r.size&&(a?.disconnect(),a=null)}),l=e._observer={observe:n};return l}();v(()=>{a=f(()=>{k?.value?.tagName&&(r=n.observe(k.value,async()=>{r?.(),r=null,await L(e)}))})})}),b(()=>{a&&p(a),r?.(),r=null})}return()=>{if(!S.value&&!A.value&&!c(i.value)){const e={ref:O,to:i.value,activeClass:n.activeClass||o.activeClass,exactActiveClass:n.exactActiveClass||o.exactActiveClass,replace:n.replace,ariaCurrentValue:n.ariaCurrentValue,custom:n.custom};return n.custom||(E("interaction")&&(e.onPointerenter=L.bind(null,void 0),e.onFocus=L.bind(null,void 0)),j.value&&(e.class=n.prefetchedClass||o.prefetchedClass),e.rel=n.rel||void 0),q(x("RouterLink"),e,l.default)}const e=n.target||null,t=((...e)=>e.find(e=>void 0!==e))(n.noRel?"":n.rel,o.externalRelAttribute,w.value||A.value?"noopener noreferrer":"")||null;return n.custom?l.default?l.default({href:s.value,navigate:h,prefetch:L,get route(){if(!s.value)return;const e=new URL(s.value,window.location.href);return{path:e.pathname,fullPath:e.pathname,get query(){return a(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:s.value}},rel:t,target:e,isExternal:S.value||A.value,isActive:!1,isExactActive:!1}):null:q("a",{ref:k,href:s.value||null,rel:t,target:e,onClick:e=>{if(!S.value&&!A.value)return e.preventDefault(),n.replace?u.replace(s.value):u.push(s.value)}},l.default?.())}}})}const A=C(c);function w(e,t){const a="append"===t?o:s;return i(e)&&!e.startsWith("http")?e:a(e,!0)}const R=/2g/;export{A as _};
