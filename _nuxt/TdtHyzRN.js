import{s as e,r as a,e as t,g as r,h as s,a as i,i as o,t as n,b as l,c,o as d,w as u}from"./omZjjdJW.js";const g=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,m=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,p=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function f(e,a){if(!("__proto__"===e||"constructor"===e&&a&&"object"==typeof a&&"prototype"in a))return a}function y(e,a={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const t=e.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!p.test(e)){if(a.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(g.test(e)||m.test(e)){if(a.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,f)}return JSON.parse(e)}catch(r){if(a.strict)throw r;return e}}const v=/#/g,h=/&/g,b=/\//g,_=/=/g,k=/\+/g,w=/%5e/gi,T=/%60/gi,B=/%7c/gi,C=/%20/gi;function A(e){return(a="string"==typeof e?e:JSON.stringify(e),encodeURI(""+a).replace(B,"|")).replace(k,"%2B").replace(C,"+").replace(v,"%23").replace(h,"%26").replace(T,"`").replace(w,"^").replace(b,"%2F");var a}function S(e){return A(e).replace(_,"%3D")}function M(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function $(e){return M(e.replace(k," "))}function x(e){return M(e.replace(k," "))}function N(e=""){const a=Object.create(null);"?"===e[0]&&(e=e.slice(1));for(const t of e.split("&")){const e=t.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;const r=$(e[1]);if("__proto__"===r||"constructor"===r)continue;const s=x(e[2]||"");void 0===a[r]?a[r]=s:Array.isArray(a[r])?a[r].push(s):a[r]=[a[r],s]}return a}function R(e){return Object.keys(e).filter(a=>void 0!==e[a]).map(a=>{return t=a,"number"!=typeof(r=e[a])&&"boolean"!=typeof r||(r=String(r)),r?Array.isArray(r)?r.map(e=>`${S(t)}=${A(e)}`).join("&"):`${S(t)}=${A(r)}`:S(t);var t,r}).filter(Boolean).join("&")}const D=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,E=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,q=/^([/\\]\s*){2,}[^/\\]/,I=/^[\s\0]*(blob|data|javascript|vbscript):$/i,P=/\/$|\/\?|\/#/,O=/^\.?\//;function H(e,a={}){return"boolean"==typeof a&&(a={acceptRelative:a}),a.strict?D.test(e):E.test(e)||!!a.acceptRelative&&q.test(e)}function L(e="",a){return a?P.test(e):e.endsWith("/")}function j(e="",a){if(!a)return(L(e)?e.slice(0,-1):e)||"/";if(!L(e,!0))return e||"/";let t=e,r="";const s=e.indexOf("#");-1!==s&&(t=e.slice(0,s),r=e.slice(s));const[i,...o]=t.split("?");return((i.endsWith("/")?i.slice(0,-1):i)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function F(e="",a){if(!a)return e.endsWith("/")?e:e+"/";if(L(e,!0))return e||"/";let t=e,r="";const s=e.indexOf("#");if(-1!==s&&(t=e.slice(0,s),r=e.slice(s),!t))return r;const[i,...o]=t.split("?");return i+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function W(e,a){if(G(a)||H(e))return e;const t=j(a);return e.startsWith(t)?e:z(t,e)}function J(e,a){if(G(a))return e;const t=j(a);if(!e.startsWith(t))return e;const r=e.slice(t.length);return"/"===r[0]?r:"/"+r}function U(e,a){const t=X(e),r={...N(t.search),...a};return t.search=R(r),function(e){const a=e.pathname||"",t=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",r=e.hash||"",s=e.auth?e.auth+"@":"",i=e.host||"",o=e.protocol||e[Y]?(e.protocol||"")+"//":"";return o+s+i+a+t+r}(t)}function G(e){return!e||"/"===e}function z(e,...a){let t=e||"";for(const r of a.filter(e=>function(e){return e&&"/"!==e}(e)))if(t){const e=r.replace(O,"");t=F(t)+e}else t=r;return t}function K(...e){const a=/\/(?!\/)/,t=e.filter(Boolean),r=[];let s=0;for(const o of t)if(o&&"/"!==o)for(const[e,t]of o.split(a).entries())if(t&&"."!==t)if(".."!==t)1===e&&r[r.length-1]?.endsWith(":/")?r[r.length-1]+="/"+t:(r.push(t),s++);else{if(1===r.length&&H(r[0]))continue;r.pop(),s--}let i=r.join("/");return s>=0?t[0]?.startsWith("/")&&!i.startsWith("/")?i="/"+i:t[0]?.startsWith("./")&&!i.startsWith("./")&&(i="./"+i):i="../".repeat(-1*s)+i,t[t.length-1]?.endsWith("/")&&!i.endsWith("/")&&(i+="/"),i}function V(e,a){return M(j(e))===M(j(a))}const Y=Symbol.for("ufo:protocolRelative");function X(e="",a){const t=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(t){const[,e,a=""]=t;return{protocol:e.toLowerCase(),pathname:a,href:e+a,auth:"",host:"",search:"",hash:""}}if(!H(e,{acceptRelative:!0}))return Z(e);const[,r="",s,i=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",n=""]=i.match(/([^#/?]*)(.*)?/)||[];"file:"===r&&(n=n.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:d}=Z(n);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:o,pathname:l,search:c,hash:d,[Y]:!r}}function Z(e=""){const[a="",t="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:a,search:t,hash:r}}function Q(e,a={},t){for(const r in e){const s=e[r],i=t?`${t}:${r}`:r;"object"==typeof s&&null!==s?Q(s,a,i):"function"==typeof s&&(a[i]=s)}return a}const ee={run:e=>e()},ae=void 0!==console.createTask?console.createTask:()=>ee;function te(e,a){const t=a.shift(),r=ae(t);return e.reduce((e,t)=>e.then(()=>r.run(()=>t(...a))),Promise.resolve())}function re(e,a){const t=a.shift(),r=ae(t);return Promise.all(e.map(e=>r.run(()=>e(...a))))}function se(e,a){for(const t of[...e])t(a)}class ie{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,a,t={}){if(!e||"function"!=typeof a)return()=>{};const r=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!t.allowDeprecated){let e=s.message;e||(e=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||this._deprecatedMessages.add(e)}if(!a.name)try{Object.defineProperty(a,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(a),()=>{a&&(this.removeHook(e,a),a=void 0)}}hookOnce(e,a){let t,r=(...e)=>("function"==typeof t&&t(),t=void 0,r=void 0,a(...e));return t=this.hook(e,r),t}removeHook(e,a){if(this._hooks[e]){const t=this._hooks[e].indexOf(a);-1!==t&&this._hooks[e].splice(t,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,a){this._deprecatedHooks[e]="string"==typeof a?{to:a}:a;const t=this._hooks[e]||[];delete this._hooks[e];for(const r of t)this.hook(e,r)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const a in e)this.deprecateHook(a,e[a])}addHooks(e){const a=Q(e),t=Object.keys(a).map(e=>this.hook(e,a[e]));return()=>{for(const e of t.splice(0,t.length))e()}}removeHooks(e){const a=Q(e);for(const t in a)this.removeHook(t,a[t])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...a){return a.unshift(e),this.callHookWith(te,e,...a)}callHookParallel(e,...a){return a.unshift(e),this.callHookWith(re,e,...a)}callHookWith(e,a,...t){const r=this._before||this._after?{name:a,args:t,context:{}}:void 0;this._before&&se(this._before,r);const s=e(a in this._hooks?[...this._hooks[a]]:[],t);return s instanceof Promise?s.finally(()=>{this._after&&r&&se(this._after,r)}):(this._after&&r&&se(this._after,r),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const a=this._before.indexOf(e);-1!==a&&this._before.splice(a,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const a=this._after.indexOf(e);-1!==a&&this._after.splice(a,1)}}}}function oe(){return new ie}const ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:"undefined"!=typeof window?window:{},le="__unctx__",ce=ne[le]||(ne[le]=function(e={}){const a={};return{get:(t,r={})=>(a[t]||(a[t]=function(e={}){let a,t=!1;const r=e=>{if(a&&a!==e)throw new Error("Context conflict")};let s;if(e.asyncContext){const a=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;a&&(s=new a)}const i=()=>{if(s){const e=s.getStore();if(void 0!==e)return e}return a};return{use:()=>{const e=i();if(void 0===e)throw new Error("Context is not available");return e},tryUse:()=>i(),set:(e,s)=>{s||r(e),a=e,t=!0},unset:()=>{a=void 0,t=!1},call:(e,i)=>{r(e),a=e;try{return s?s.run(e,i):i()}finally{t||(a=void 0)}},async callAsync(e,r){a=e;const i=()=>{a=e},o=()=>a===e?i:void 0;ue.add(o);try{const i=s?s.run(e,r):r();return t||(a=void 0),await i}finally{ue.delete(o)}}}}({...e,...r})),a[t])}}()),de="__unctx_async_handlers__",ue=ne[de]||(ne[de]=new Set);function ge(e){const a=[];for(const s of ue){const e=s();e&&a.push(e)}const t=()=>{for(const e of a)e()};let r=e();return r&&"object"==typeof r&&"catch"in r&&(r=r.catch(e=>{throw t(),e})),[r,t]}const me=!1,pe=!1,fe={id:"__nuxt-loader"},ye={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},ve="#__nuxt",he="nuxt-app",be=36e5;function _e(e=he){return((e,a={})=>ce.get(e,a))(e,{asyncContext:!1})}const ke="__nuxt_plugin";function we(s){let i=0;const o={_id:s.id||he||"nuxt-app",_scope:t(),provide:void 0,versions:{get nuxt(){return"4.1.3"},get vue(){return o.vueApp.version}},payload:e({...s.ssrContext?.payload||{},data:e({}),state:a({}),once:new Set,_errors:e({})}),static:{data:{}},runWithContext:e=>o._scope.active&&!r()?o._scope.run(()=>Ae(o,e)):Ae(o,e),isHydrating:!0,deferHydration(){if(!o.isHydrating)return()=>{};i++;let e=!1;return()=>{if(!e)return e=!0,i--,0===i?(o.isHydrating=!1,o.callHook("app:suspense:resolve")):void 0}},_asyncDataPromises:{},_asyncData:e({}),_payloadRevivers:{},...s};{const e=window.__NUXT__;if(e)for(const a in e)switch(a){case"data":case"state":case"_errors":Object.assign(o.payload[a],e[a]);break;default:o.payload[a]=e[a]}}o.hooks=oe(),o.hook=o.hooks.hook,o.callHook=o.hooks.callHook,o.provide=(e,a)=>{const t="$"+e;$e(o,t,a),$e(o.vueApp.config.globalProperties,t,a)},$e(o.vueApp,"$nuxt",o),$e(o.vueApp.config.globalProperties,"$nuxt",o);{window.addEventListener("vite:preloadError",e=>{o.callHook("app:chunkError",{error:e.payload}),e.payload.message.includes("Unable to preload CSS")&&e.preventDefault()}),window.useNuxtApp||=Se;const e=o.hook("app:error",(...e)=>{});o.hook("app:mounted",e)}const n=o.payload.config;return o.provide("config",n),o}function Te(e,a){a.hooks&&e.hooks.addHooks(a.hooks)}async function Be(e,a){const t=new Set,r=[],s=[];let i,o=0;async function n(l){const c=l.dependsOn?.filter(e=>a.some(a=>a._name===e)&&!t.has(e))??[];if(c.length>0)r.push([new Set(c),l]);else{const a=async function(e,a){if("function"==typeof a){const{provide:t}=await e.runWithContext(()=>a(e))||{};if(t&&"object"==typeof t)for(const a in t)e.provide(a,t[a])}}(e,l).then(async()=>{l._name&&(t.add(l._name),await Promise.all(r.map(async([e,a])=>{e.has(l._name)&&(e.delete(l._name),0===e.size&&(o++,await n(a)))})))}).catch(a=>{if(!l.parallel&&!e.payload.error)throw a;i||=a});l.parallel?s.push(a):await a}}for(const l of a)Te(e,l);for(const l of a)await n(l);if(await Promise.all(s),o)for(let l=0;l<o;l++)await Promise.all(s);if(i)throw e.payload.error||i}function Ce(e){if("function"==typeof e)return e;const a=e._name||e.name;return delete e.name,Object.assign(e.setup||(()=>{}),e,{[ke]:!0,_name:a})}function Ae(e,a,t){const r=()=>a();return _e(e._id).set(e),e.vueApp.runWithContext(r)}function Se(e){const a=function(e){let a;return s()&&(a=i()?.appContext.app.$nuxt),a||=_e(e).tryUse(),a||null}(e);if(!a)throw new Error("[nuxt] instance unavailable");return a}function Me(e){return Se().$config}function $e(e,a,t){Object.defineProperty(e,a,{get:()=>t})}function xe(e,a){return{ctx:{table:e},matchAll:a=>De(a,e)}}function Ne(e){const a={};for(const t in e)a[t]="dynamic"===t?new Map(Object.entries(e[t]).map(([e,a])=>[e,Ne(a)])):new Map(Object.entries(e[t]));return a}function Re(e){return xe(Ne(e))}function De(e,a,t){e.endsWith("/")&&(e=e.slice(0,-1)||"/");const r=[];for(const[i,o]of Ee(a.wildcard))(e===i||e.startsWith(i+"/"))&&r.push(o);for(const[i,o]of Ee(a.dynamic))if(e.startsWith(i+"/")){const a="/"+e.slice(i.length).split("/").splice(2).join("/");r.push(...De(a,o))}const s=a.static.get(e);return s&&r.push(s),r.filter(Boolean)}function Ee(e){return[...e.entries()].sort((e,a)=>e[0].length-a[0].length)}function qe(e){if(null===e||"object"!=typeof e)return!1;const a=Object.getPrototypeOf(e);return(null===a||a===Object.prototype||null===Object.getPrototypeOf(a))&&(!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e)))}function Ie(e,a,t=".",r){if(!qe(a))return Ie(e,{},t,r);const s=Object.assign({},a);for(const i in e){if("__proto__"===i||"constructor"===i)continue;const a=e[i];null!=a&&(r&&r(s,i,a,t)||(Array.isArray(a)&&Array.isArray(s[i])?s[i]=[...a,...s[i]]:qe(a)&&qe(s[i])?s[i]=Ie(a,s[i],(t?`${t}.`:"")+i.toString(),r):s[i]=a))}return s}const Pe=(...e)=>e.reduce((e,a)=>Ie(e,a,"",Oe),{});var Oe;class He extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,a={}){super(e,a),a.cause&&!this.cause&&(this.cause=a.cause)}toJSON(){const e={message:this.message,statusCode:Fe(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=je(this.statusMessage)),void 0!==this.data&&(e.data=this.data),e}}const Le=/[^\u0009\u0020-\u007E]/g;function je(e=""){return e.replace(Le,"")}function Fe(e,a=200){return e?("string"==typeof e&&(e=Number.parseInt(e,10)),e<100||e>999?a:e):a}"undefined"==typeof setImmediate||setImmediate;const We=Symbol("layout-meta"),Je=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const Ue=()=>Se()?.$router,Ge=()=>s()?o(Je,Se()._route):Se()._route;function ze(e){return e}const Ke=(e,a)=>{e||="/";const t="string"==typeof e?e:"path"in e?Ve(e):Ue().resolve(e).href;if(a?.open){const{target:e="_blank",windowFeatures:r={}}=a.open,s=[];for(const[a,t]of Object.entries(r))void 0!==t&&s.push(`${a.toLowerCase()}=${t}`);return open(t,e,s.join(", ")),Promise.resolve()}const r=H(t,{acceptRelative:!0}),s=a?.external||r;if(s){if(!a?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:e}=new URL(t,window.location.href);if(e&&function(e){return!!e&&I.test(e)}(e))throw new Error(`Cannot navigate to a URL with '${e}' protocol.`)}const i=(()=>{try{if(Se()._processingMiddleware)return!0}catch{return!1}return!1})();if(!s&&i){if(a?.replace){if("string"==typeof e){const{pathname:a,search:t,hash:r}=X(e);return{path:a,...t&&{query:N(t)},...r&&{hash:r},replace:!0}}return{...e,replace:!0}}return e}const o=Ue(),n=Se();return s?(n._scope.stop(),a?.replace?location.replace(t):location.href=t,i?!!n.isHydrating&&new Promise(()=>{}):Promise.resolve()):a?.replace?o.replace(e):o.push(e)};function Ve(e){return U(e.path||"",e.query||{})+(e.hash||"")}const Ye="__nuxt_error",Xe=()=>n(Se().payload,"error"),Ze=e=>{const a=aa(e);try{const e=Xe();Se().hooks.callHook("app:error",a);e.value||=a}catch{throw a}return a},Qe=async(e={})=>{const a=Se(),t=Xe();a.callHook("app:error:cleared",e),e.redirect&&await Ue().replace(e.redirect),t.value=void 0},ea=e=>!!e&&"object"==typeof e&&Ye in e,aa=e=>{const a=function(e){if("string"==typeof e)return new He(e);if(function(e){return!0===e?.constructor?.__h3_error__}(e))return e;const a=new He(e.message??e.statusMessage??"",{cause:e.cause||e});if(function(e,a){try{return a in e}catch{return!1}}(e,"stack"))try{Object.defineProperty(a,"stack",{get:()=>e.stack})}catch{try{a.stack=e.stack}catch{}}e.data&&(a.data=e.data),e.statusCode?a.statusCode=Fe(e.statusCode,a.statusCode):e.status&&(a.statusCode=Fe(e.status,a.statusCode)),e.statusMessage?a.statusMessage=e.statusMessage:e.statusText&&(a.statusMessage=e.statusText),a.statusMessage&&(a.statusMessage,je(a.statusMessage));return void 0!==e.fatal&&(a.fatal=e.fatal),void 0!==e.unhandled&&(a.unhandled=e.unhandled),a}(e);return Object.defineProperty(a,Ye,{value:!0,configurable:!1,writable:!1}),a},ta=15,ra=[{id:"trade-synergy-2",name:"ë¬´ì—­ ë„¤íŠ¸ì›Œí¬",description:"ë¬´ì—­ ì¹´ë“œ 2ê°œ: ë§¤ì¼ ì¶”ê°€ ê¸ˆ +100",icon:"ğŸŒ",tag:"trade",requiredCards:2,effect:{gold:100}},{id:"trade-synergy-3",name:"ë¬´ì—­ ì œêµ­",description:"ë¬´ì—­ ì¹´ë“œ 3ê°œ: ë§¤ì¼ ì¶”ê°€ ê¸ˆ +300, ë¯¼ì‹¬ +2",icon:"ğŸ‘‘",tag:"trade",requiredCards:3,effect:{gold:300,morale:2}},{id:"military-synergy-2",name:"êµ°ì‚¬ í›ˆë ¨",description:"êµ°ì‚¬ ì¹´ë“œ 2ê°œ: ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +15%",icon:"âš”ï¸",tag:"military",requiredCards:2,effect:{attackBonus:15}},{id:"military-synergy-3",name:"ë¬´ì ì˜ êµ°ë‹¨",description:"êµ°ì‚¬ ì¹´ë“œ 3ê°œ: ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +30%, ë°©ì–´ë ¥ +20%",icon:"ğŸ›¡ï¸",tag:"military",requiredCards:3,effect:{attackBonus:30,defenseBonus:20}},{id:"agriculture-synergy-2",name:"í’ë…„ì˜ ì¶•ë³µ",description:"ë†ì—… ì¹´ë“œ 2ê°œ: ë§¤ì¼ ì¶”ê°€ ì‹ëŸ‰ +150",icon:"ğŸŒ¾",tag:"agriculture",requiredCards:2,effect:{food:150}},{id:"agriculture-synergy-3",name:"ê³¡ì°½ ì§€ëŒ€",description:"ë†ì—… ì¹´ë“œ 3ê°œ: ë§¤ì¼ ì¶”ê°€ ì‹ëŸ‰ +400, ì¸êµ¬ +50",icon:"ğŸŒ»",tag:"agriculture",requiredCards:3,effect:{food:400,population:50}},{id:"culture-synergy-2",name:"ë¬¸í™” ë¶€í¥",description:"ë¬¸í™” ì¹´ë“œ 2ê°œ: ë§¤ì¼ ë¯¼ì‹¬ +3",icon:"ğŸ­",tag:"culture",requiredCards:2,effect:{morale:3}},{id:"culture-synergy-3",name:"í™©ê¸ˆ ì‹œëŒ€",description:"ë¬¸í™” ì¹´ë“œ 3ê°œ: ë§¤ì¼ ë¯¼ì‹¬ +5, ê¸ˆ +200",icon:"âœ¨",tag:"culture",requiredCards:3,effect:{morale:5,gold:200}},{id:"magic-synergy-2",name:"ë§ˆë²• ì—°êµ¬",description:"ë§ˆë²• ì¹´ë“œ 2ê°œ: ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +20%, ë§¤ì¼ ê¸ˆ +100",icon:"ğŸ”®",tag:"magic",requiredCards:2,effect:{attackBonus:20,gold:100}},{id:"magic-synergy-3",name:"ëŒ€ë§ˆë²•ì‚¬ì˜ íƒ‘",description:"ë§ˆë²• ì¹´ë“œ 3ê°œ: ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +40%, ë§¤ì¼ ê¸ˆ +300, ë¯¼ì‹¬ +3",icon:"ğŸŒŸ",tag:"magic",requiredCards:3,effect:{attackBonus:40,gold:300,morale:3}},{id:"technology-synergy-2",name:"ì‚°ì—… í˜ëª…",description:"ê¸°ìˆ  ì¹´ë“œ 2ê°œ: ë§¤ì¼ ê¸ˆ +200, ë³‘ë ¥ +30",icon:"âš™ï¸",tag:"technology",requiredCards:2,effect:{gold:200,military:30}},{id:"technology-synergy-3",name:"ê³¼í•™ ì‹œëŒ€",description:"ê¸°ìˆ  ì¹´ë“œ 3ê°œ: ë§¤ì¼ ê¸ˆ +400, ë³‘ë ¥ +80, ë¯¼ì‹¬ +2",icon:"ğŸ”¬",tag:"technology",requiredCards:3,effect:{gold:400,military:80,morale:2}},{id:"religion-synergy-2",name:"ì‹ ì•™ì˜ í˜",description:"ì¢…êµ ì¹´ë“œ 2ê°œ: ë§¤ì¼ ë¯¼ì‹¬ +4, ì‹ëŸ‰ +100",icon:"â›ª",tag:"religion",requiredCards:2,effect:{morale:4,food:100}},{id:"religion-synergy-3",name:"ì„±ì§€ ìˆœë¡€",description:"ì¢…êµ ì¹´ë“œ 3ê°œ: ë§¤ì¼ ë¯¼ì‹¬ +7, ê¸ˆ +250, ì‹ëŸ‰ +150",icon:"ğŸ•Œ",tag:"religion",requiredCards:3,effect:{morale:7,gold:250,food:150}},{id:"conquest-synergy-2",name:"ì •ë³µìì˜ ì•¼ì‹¬",description:"ì •ë³µ ì¹´ë“œ 2ê°œ: ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ì¶”ê°€ ê¸ˆ +300",icon:"âš¡",tag:"conquest",requiredCards:2,effect:{gold:300}},{id:"conquest-synergy-3",name:"ì œêµ­ì˜ ì˜ê´‘",description:"ì •ë³µ ì¹´ë“œ 3ê°œ: ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ì¶”ê°€ ê¸ˆ +600, ë³‘ë ¥ +100",icon:"ğŸ‘¹",tag:"conquest",requiredCards:3,effect:{gold:600,military:100}}],sa=[{id:"c-trade-1",name:"ì‘ì€ ìƒì ",description:"ë§¤ì¼ ê¸ˆ +80",icon:"ğŸª",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:80}},{id:"c-trade-2",name:"í–‰ìƒì¸",description:"ë§¤ì¼ ê¸ˆ +75",icon:"ğŸ’",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:75}},{id:"c-trade-3",name:"ì„¸ê¸ˆ ì§•ìˆ˜",description:"ë§¤ì¼ ê¸ˆ +70, ë¯¼ì‹¬ -1",icon:"ğŸ“œ",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:70,morale:-1}},{id:"c-trade-4",name:"ë„ë§¤ ì‹œì¥",description:"ë§¤ì¼ ê¸ˆ +85",icon:"ğŸ¬",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:85}},{id:"c-agri-1",name:"í…ƒë°­",description:"ë§¤ì¼ ì‹ëŸ‰ +80",icon:"ğŸ¥¬",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:80}},{id:"c-agri-2",name:"ì–´ë¶€ì˜ ê·¸ë¬¼",description:"ë§¤ì¼ ì‹ëŸ‰ +75",icon:"ğŸ£",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:75}},{id:"c-agri-3",name:"ê°€ì¶• ì‚¬ìœ¡",description:"ë§¤ì¼ ì‹ëŸ‰ +70",icon:"ğŸ„",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:70}},{id:"c-agri-4",name:"ê³¼ìˆ˜ì›",description:"ë§¤ì¼ ì‹ëŸ‰ +85",icon:"ğŸ",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:85}},{id:"c-culture-1",name:"ì¶•ì œì˜ ì „í†µ",description:"ë§¤ì¼ ë¯¼ì‹¬ +2",icon:"ğŸ­",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["culture"],effect:{type:"resource",morale:2}},{id:"c-culture-2",name:"ê±°ë¦¬ ê³µì—°ì¥",description:"ë§¤ì¼ ë¯¼ì‹¬ +2",icon:"ğŸª",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["culture"],effect:{type:"resource",morale:2}},{id:"c-culture-3",name:"ì˜ˆìˆ ê°€ í›„ì›",description:"ë§¤ì¼ ë¯¼ì‹¬ +2, ê¸ˆ -20",icon:"ğŸ¨",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["culture"],effect:{type:"resource",morale:2,gold:-20}},{id:"c-culture-4",name:"ì‘ì€ ë„ì„œê´€",description:"ë§¤ì¼ ë¯¼ì‹¬ +1, ê¸ˆ +30",icon:"ğŸ“š",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["culture"],effect:{type:"resource",morale:1,gold:30}},{id:"c-military-1",name:"ê°•ì²  ë¬´ê¸°",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +8%",icon:"âš”ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:8}},{id:"c-military-2",name:"ëª©ì±…",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +8%",icon:"ğŸšï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",defenseBonus:8}},{id:"c-military-3",name:"ë¯¼ë³‘ëŒ€",description:"ì „íˆ¬ ì‹œì‘ ì‹œ ë³‘ë ¥ +80",icon:"ğŸ›¡ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",military:80}},{id:"c-military-4",name:"ë³‘ì˜",description:"ë§¤ì¼ ë³‘ë ¥ +30",icon:"â›º",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["military"],effect:{type:"resource",military:30}},{id:"c-military-5",name:"í›ˆë ¨ì¥",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +7%",icon:"ğŸ¯",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:7}},{id:"c-military-6",name:"ë³´ë£¨",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +7%",icon:"ğŸ°",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",defenseBonus:7}},{id:"c-magic-1",name:"ë§ˆë²• ìƒì ",description:"ë§¤ì¼ ê¸ˆ +85",icon:"ğŸ”®",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["magic"],effect:{type:"resource",gold:85}},{id:"c-magic-2",name:"ì—°ê¸ˆìˆ ì‚¬",description:"ë§¤ì¼ ê¸ˆ +70, ì‹ëŸ‰ +30",icon:"âš—ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["magic"],effect:{type:"resource",gold:70,food:30}},{id:"c-magic-3",name:"ë§ˆë²• ë¶€ì ",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +9%",icon:"ğŸ§¿",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,synergyTags:["magic"],effect:{type:"combat",attackBonus:9}},{id:"c-magic-4",name:"ì ì„±ìˆ ì‚¬",description:"ë§¤ì¼ ë¯¼ì‹¬ +1, ê¸ˆ +40",icon:"ğŸŒ™",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["magic"],effect:{type:"resource",morale:1,gold:40}},{id:"c-tech-1",name:"ì—°êµ¬ì†Œ",description:"ë§¤ì¼ ê¸ˆ +70",icon:"ğŸ”¬",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["technology"],effect:{type:"resource",gold:70}},{id:"c-tech-2",name:"ëŒ€ì¥ê°„",description:"ë§¤ì¼ ê¸ˆ +60, ë³‘ë ¥ +20",icon:"ğŸ”¨",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["technology"],effect:{type:"resource",gold:60,military:20}},{id:"c-tech-3",name:"ë¬¼ë ˆë°©ì•„",description:"ë§¤ì¼ ì‹ëŸ‰ +50, ê¸ˆ +30",icon:"âš™ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["technology"],effect:{type:"resource",food:50,gold:30}},{id:"c-tech-4",name:"ê´‘ì‚°",description:"ë§¤ì¼ ê¸ˆ +75",icon:"â›ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["technology"],effect:{type:"resource",gold:75}},{id:"c-religion-1",name:"ì‘ì€ ì‹ ì „",description:"ë§¤ì¼ ë¯¼ì‹¬ +2",icon:"â›ª",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["religion"],effect:{type:"resource",morale:2}},{id:"c-religion-2",name:"ìˆ˜ë„ì‚¬",description:"ë§¤ì¼ ë¯¼ì‹¬ +1, ì‹ëŸ‰ +40",icon:"ğŸ‘¼",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["religion"],effect:{type:"resource",morale:1,food:40}},{id:"c-religion-3",name:"ì„±ìœ ë¬¼",description:"ë§¤ì¼ ë¯¼ì‹¬ +2, ê¸ˆ +30",icon:"ğŸ“¿",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",synergyTags:["religion"],effect:{type:"resource",morale:2,gold:30}},{id:"c-conquest-1",name:"ì „ë¦¬í’ˆ ìˆ˜ì§‘",description:"ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ê¸ˆ +200",icon:"ğŸ’",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_win",synergyTags:["conquest"],effect:{type:"resource",gold:200}},{id:"c-conquest-2",name:"ì•½íƒˆ ë¶€ëŒ€",description:"ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ê¸ˆ +180, ì‹ëŸ‰ +50",icon:"âš¡",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_win",synergyTags:["conquest"],effect:{type:"resource",gold:180,food:50}},{id:"c-conquest-3",name:"ì •ë³µ ê¹ƒë°œ",description:"ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ë¯¼ì‹¬ +2",icon:"ğŸš©",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_win",synergyTags:["conquest"],effect:{type:"resource",morale:2}},{id:"c-neutral-1",name:"ì‹œì¥ ê°œì„¤",description:"ë§¤ì¼ ê¸ˆ +110 (ì•ˆì •ì ì¸ ìˆ˜ì…)",icon:"ğŸ’°",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",gold:110}},{id:"c-neutral-2",name:"ì‘ì€ ë†ì¥",description:"ë§¤ì¼ ì‹ëŸ‰ +120 (ì•ˆì •ì ì¸ ìƒì‚°)",icon:"ğŸŒ¾",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",food:120}},{id:"c-neutral-3",name:"ì´ë¯¼ ì •ì±…",description:"ë§¤ì¼ ì¸êµ¬ +40",icon:"ğŸ‘¥",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",population:40}},{id:"c-neutral-4",name:"ì‘ì€ ë²ˆì˜",description:"ë§¤ì¼ ê¸ˆ +70, ì‹ëŸ‰ +70 (ê· í˜•ì¡íŒ ì„±ì¥)",icon:"ğŸŒŸ",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",gold:70,food:70}},{id:"c-neutral-5",name:"ì˜ìš©êµ°",description:"ì „íˆ¬ ì‹œì‘ ì‹œ ë³‘ë ¥ +110",icon:"ğŸª–",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",military:110}},{id:"c-neutral-6",name:"ëª¨ì§‘ ìº í˜ì¸",description:"ë³‘ë ¥ ëª¨ì§‘ ì‹œ ì¶”ê°€ +40 ë³‘ë ¥",icon:"ğŸ“£",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"recruit",effect:{type:"resource",military:40}},{id:"c-neutral-7",name:"ì¬ê¸°ì˜ ì˜ì§€",description:"ì „íˆ¬ íŒ¨ë°° ì‹œ ë¯¼ì‹¬ í”¼í•´ -4 ê°ì†Œ",icon:"ğŸ’ª",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_lose",effect:{type:"resource",morale:4}},{id:"c-neutral-8",name:"ê³µê³µ ì‚¬ì—…",description:"ë§¤ì¼ ë¯¼ì‹¬ +2, ê¸ˆ -20",icon:"ğŸ—ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",morale:2,gold:-20}},{id:"c-neutral-9",name:"ì ˆì•½ ì •ì±…",description:"ë§¤ì¼ ê¸ˆ +80",icon:"ğŸ’µ",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",gold:80}},{id:"c-neutral-10",name:"ì €ì¥ ì°½ê³ ",description:"ë§¤ì¼ ì‹ëŸ‰ +90",icon:"ğŸšï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",food:90}},{id:"c-neutral-11",name:"ë³´ê¸‰ ì²´ê³„",description:"ì „íˆ¬ ì‹œì‘ ì‹œ ë³‘ë ¥ +80",icon:"ğŸ“¦",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",military:80}},{id:"c-neutral-12",name:"ë§ˆì„ ì¶•ì œ",description:"ë§¤ì¼ ë¯¼ì‹¬ +3",icon:"ğŸ‰",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",morale:3}},{id:"c-neutral-13",name:"ìš©ë³‘ ê³ ìš©",description:"ë³‘ë ¥ ëª¨ì§‘ ì‹œ ì¶”ê°€ +35 ë³‘ë ¥, ê¸ˆ -30",icon:"ğŸ—¡ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"recruit",effect:{type:"resource",military:35}},{id:"curse-1",name:"ë¶€íŒ¨í•œ ê´€ë£Œ",description:"ë§¤ì¼ ê¸ˆ -50 (ë¶€íŒ¨ í™•ì‚°)",icon:"ğŸ’¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",gold:-50}},{id:"curse-2",name:"ê¸°ê·¼",description:"ë§¤ì¼ ì‹ëŸ‰ -40 (í‰ì‘)",icon:"ğŸŒ‘",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",food:-40}},{id:"curse-3",name:"ë¯¼ì‹¬ ë™ìš”",description:"ë§¤ì¼ ë¯¼ì‹¬ -1 (ë¶ˆë§Œ í™•ì‚°)",icon:"ğŸ˜¡",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",morale:-1}},{id:"curse-4",name:"ë‚¡ì€ ì¥ë¹„",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ -5%",icon:"ğŸ—¡ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",attackBonus:-5}},{id:"curse-5",name:"íƒˆì˜ë³‘",description:"ì „íˆ¬ ì‹œì‘ ì‹œ ë³‘ë ¥ -50",icon:"ğŸƒ",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",military:-50}},{id:"curse-6",name:"ì „ì—¼ë³‘",description:"ë§¤ì¼ ì¸êµ¬ -20, ë¯¼ì‹¬ -1",icon:"ğŸ¦ ",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",population:-20,morale:-1}},{id:"curse-7",name:"ë„ì  ì¶œëª°",description:"ë§¤ì¼ ê¸ˆ -40",icon:"ğŸ´â€â˜ ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",gold:-40}},{id:"curse-8",name:"ê°€ë­„",description:"ë§¤ì¼ ì‹ëŸ‰ -35",icon:"â˜€ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",food:-35}},{id:"curse-9",name:"ë°˜ë€ì˜ ì¡°ì§",description:"ë§¤ì¼ ë¯¼ì‹¬ -2",icon:"âš ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",morale:-2}},{id:"curse-10",name:"í›ˆë ¨ ë¶€ì¡±",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ -6%",icon:"ğŸ›¡ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",defenseBonus:-6}},{id:"curse-11",name:"ì‚¬ê¸° ì €í•˜",description:"ì „íˆ¬ ì‹œì‘ ì‹œ ë³‘ë ¥ -40",icon:"ğŸ˜°",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",military:-40}},{id:"curse-12",name:"ë†’ì€ ì„¸ê¸ˆ",description:"ë§¤ì¼ ê¸ˆ +50, ë¯¼ì‹¬ -2",icon:"ğŸ“œ",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"daily",effect:{type:"resource",gold:50,morale:-2}},{id:"r-trade-1",name:"ìƒì¸ ê¸¸ë“œ",description:"ë§¤ì¼ ê¸ˆ +180",icon:"ğŸ›ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:180}},{id:"r-trade-2",name:"ë¬´ì—­ë¡œ ê°œì²™",description:"ë§¤ì¼ ê¸ˆ +200",icon:"ğŸš¢",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:200}},{id:"r-trade-3",name:"í•­êµ¬ ë„ì‹œ",description:"ë§¤ì¼ ê¸ˆ +170, ì‹ëŸ‰ +50",icon:"â›µ",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:170,food:50}},{id:"r-trade-4",name:"ê´€ì„¸ ê°œí˜",description:"ë§¤ì¼ ê¸ˆ +190",icon:"ğŸ“Š",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:190}},{id:"r-agri-1",name:"ë¹„ì˜¥í•œ ë•…",description:"ë§¤ì¼ ì‹ëŸ‰ +180",icon:"ğŸŒ»",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:180}},{id:"r-agri-2",name:"ë†ì¥ í™•ì¥",description:"ë§¤ì¼ ì‹ëŸ‰ +200",icon:"ğŸšœ",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:200}},{id:"r-agri-3",name:"ê³¡ë¬¼ ì°½ê³ ",description:"ë§¤ì¼ ì‹ëŸ‰ +170, ê¸ˆ +40",icon:"ğŸª",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:170,gold:40}},{id:"r-agri-4",name:"ë°­ê°ˆì´ ê°œì„ ",description:"ë§¤ì¼ ì‹ëŸ‰ +190",icon:"ğŸŒ½",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:190}},{id:"r-culture-1",name:"ëŒ€ê·¹ì¥",description:"ë§¤ì¼ ë¯¼ì‹¬ +4",icon:"ğŸª",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["culture"],effect:{type:"resource",morale:4}},{id:"r-culture-2",name:"ì™•ë¦½ ìŒì•…ì›",description:"ë§¤ì¼ ë¯¼ì‹¬ +3, ê¸ˆ +80",icon:"ğŸµ",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["culture"],effect:{type:"resource",morale:3,gold:80}},{id:"r-culture-3",name:"êµ­ë¦½ ë¯¸ìˆ ê´€",description:"ë§¤ì¼ ë¯¼ì‹¬ +4, ê¸ˆ +60",icon:"ğŸ–¼ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["culture"],effect:{type:"resource",morale:4,gold:60}},{id:"r-military-1",name:"ì „ìˆ  êµë²”",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +18%",icon:"ğŸ“œ",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:18}},{id:"r-military-2",name:"ì„±ë²½ ê°•í™”",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +18%",icon:"ğŸ°",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",defenseBonus:18}},{id:"r-military-3",name:"ì „ìŸì˜ ê¸°ìˆ ",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +12%, ë°©ì–´ë ¥ +12%",icon:"âš”ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:12,defenseBonus:12}},{id:"r-military-4",name:"ì¤‘ì¥ê°‘ ê¸°ë³‘",description:"ì „íˆ¬ ì‹œì‘ ì‹œ ë³‘ë ¥ +150, ê³µê²©ë ¥ +8%",icon:"ğŸ´",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",military:150,attackBonus:8}},{id:"r-military-5",name:"ê¶ë³‘ëŒ€",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +15%",icon:"ğŸ¹",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:15}},{id:"r-magic-1",name:"ë§ˆë²• ë„ì„œê´€",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +15%",icon:"ğŸ“š",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["magic"],effect:{type:"combat",attackBonus:15}},{id:"r-magic-2",name:"ë§ˆë²•ì‚¬ í•™êµ",description:"ë§¤ì¼ ê¸ˆ +150, ë¯¼ì‹¬ +1",icon:"ğŸ“",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["magic"],effect:{type:"resource",gold:150,morale:1}},{id:"r-magic-3",name:"ë§ˆë‚˜ ìƒ˜",description:"ë§¤ì¼ ê¸ˆ +140, ì‹ëŸ‰ +60",icon:"ğŸ’§",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["magic"],effect:{type:"resource",gold:140,food:60}},{id:"r-magic-4",name:"ë§ˆë²• ì§„ì§€",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +16%",icon:"ğŸŒ€",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["magic"],effect:{type:"combat",defenseBonus:16}},{id:"r-tech-1",name:"ë°œëª…ê°€ ê¸¸ë“œ",description:"ë§¤ì¼ ê¸ˆ +150",icon:"âš™ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["technology"],effect:{type:"resource",gold:150}},{id:"r-tech-2",name:"ê³µì„± ë¬´ê¸°",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +16%",icon:"ğŸ¹",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["technology"],effect:{type:"combat",attackBonus:16}},{id:"r-tech-3",name:"ì¸ì‡„ê¸°",description:"ë§¤ì¼ ê¸ˆ +130, ë¯¼ì‹¬ +2",icon:"ğŸ“°",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["technology"],effect:{type:"resource",gold:130,morale:2}},{id:"r-tech-4",name:"ë‚˜ì¹¨ë°˜",description:"ë§¤ì¼ ê¸ˆ +140, ì‹ëŸ‰ +50",icon:"ğŸ§­",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["technology"],effect:{type:"resource",gold:140,food:50}},{id:"r-religion-1",name:"ëŒ€ì„±ë‹¹",description:"ë§¤ì¼ ë¯¼ì‹¬ +3, ê¸ˆ +100",icon:"â›ª",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",synergyTags:["religion"],effect:{type:"resource",morale:3,gold:100}},{id:"r-religion-2",name:"ì„±ì „ ê¸°ì‚¬ë‹¨",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +14%, ë¯¼ì‹¬ +1",icon:"âš”ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["religion"],effect:{type:"combat",attackBonus:14}},{id:"r-conquest-1",name:"ì „ë¦¬í’ˆ ì•½íƒˆ",description:"ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ê¸ˆ +400",icon:"ğŸ’°",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_win",synergyTags:["conquest"],effect:{type:"resource",gold:400}},{id:"r-conquest-2",name:"ì˜í†  í™•ì¥",description:"ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ê¸ˆ +350, ì¸êµ¬ +30",icon:"ğŸ—ºï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_win",synergyTags:["conquest"],effect:{type:"resource",gold:350,population:30}},{id:"r-neutral-1",name:"ë²ˆì˜ì˜ ì‹œëŒ€",description:"ë§¤ì¼ ê¸ˆ +150, ì‹ëŸ‰ +150 (ê· í˜•ì¡íŒ ë°œì „)",icon:"ğŸŒˆ",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",effect:{type:"resource",gold:150,food:150}},{id:"r-neutral-2",name:"ì˜ˆë¹„êµ° ì†Œì§‘",description:"ì „íˆ¬ ì‹œì‘ ì‹œ ë³‘ë ¥ +220",icon:"ğŸ–ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",military:220}},{id:"r-neutral-3",name:"ì§•ë³‘ì œ ê°œì„ ",description:"ë³‘ë ¥ ëª¨ì§‘ ì‹œ ì¶”ê°€ +80 ë³‘ë ¥",icon:"ğŸ¯",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"recruit",effect:{type:"resource",military:80}},{id:"r-neutral-4",name:"í’ìš”ë¡œìš´ ìˆ˜í™•",description:"ë§¤ì¼ ì‹ëŸ‰ +180, ë¯¼ì‹¬ +2",icon:"ğŸŒ¾",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",effect:{type:"resource",food:180,morale:2}},{id:"r-neutral-5",name:"ìƒì—… ì¤‘ì‹¬ì§€",description:"ë§¤ì¼ ê¸ˆ +190, ì¸êµ¬ +30",icon:"ğŸª",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"daily",effect:{type:"resource",gold:190,population:30}},{id:"r-neutral-6",name:"ì „íˆ¬ ê²½í—˜",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +16%",icon:"âš”ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",attackBonus:16}},{id:"r-neutral-7",name:"ë°©ì–´ ì „ìˆ ",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +17%",icon:"ğŸ›¡ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",defenseBonus:17}},{id:"r-neutral-8",name:"ìŠ¹ì „ ì¶•í•˜",description:"ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ë¯¼ì‹¬ +5, ê¸ˆ +250",icon:"ğŸ‰",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_win",effect:{type:"resource",morale:5,gold:250}},{id:"r-neutral-9",name:"ë¶ˆêµ´ì˜ ì •ì‹ ",description:"ì „íˆ¬ íŒ¨ë°° ì‹œ ë¯¼ì‹¬ í”¼í•´ -6 ê°ì†Œ",icon:"ğŸ’ª",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_lose",effect:{type:"resource",morale:6}},{id:"e-trade-1",name:"ì‹¤í¬ë¡œë“œ",description:"ë§¤ì¼ ê¸ˆ +350",icon:"ğŸª",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:350}},{id:"e-trade-2",name:"ë¬´ì—­ ë…ì ",description:"ë§¤ì¼ ê¸ˆ +320, ë¯¼ì‹¬ +2",icon:"ğŸ‘‘",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:320,morale:2}},{id:"e-trade-3",name:"ìƒì—… ì œêµ­",description:"ë§¤ì¼ ê¸ˆ +300, ì‹ëŸ‰ +100",icon:"ğŸŒ",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:300,food:100}},{id:"e-agri-1",name:"ê´€ê°œ ì‹œìŠ¤í…œ",description:"ë§¤ì¼ ì‹ëŸ‰ +350",icon:"ğŸ’§",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:350}},{id:"e-agri-2",name:"ë¹„ì˜¥í•œ ëŒ€ì§€",description:"ë§¤ì¼ ì‹ëŸ‰ +320, ì¸êµ¬ +40",icon:"ğŸŒ¾",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:320,population:40}},{id:"e-agri-3",name:"ë†ì—… í˜ëª…",description:"ë§¤ì¼ ì‹ëŸ‰ +300, ê¸ˆ +100",icon:"ğŸšœ",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:300,gold:100}},{id:"e-culture-1",name:"ë°•ë¬¼ê´€",description:"ë§¤ì¼ ë¯¼ì‹¬ +5, ê¸ˆ +150",icon:"ğŸ›ï¸",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["culture"],effect:{type:"resource",morale:5,gold:150}},{id:"e-culture-2",name:"ë¬¸í™” ì¤‘ì‹¬ì§€",description:"ë§¤ì¼ ë¯¼ì‹¬ +6, ê¸ˆ +120",icon:"ğŸ¨",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["culture"],effect:{type:"resource",morale:6,gold:120}},{id:"e-military-1",name:"ì •ì˜ˆ ê·¼ìœ„ëŒ€",description:"ì „íˆ¬ ì‹œì‘ ì‹œ ë³‘ë ¥ +350",icon:"ğŸ›¡ï¸",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",military:350}},{id:"e-military-2",name:"ì „ìŸì˜ ì‹ ",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +20%, ë°©ì–´ë ¥ +20%",icon:"âš¡",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:20,defenseBonus:20}},{id:"e-military-3",name:"ì „ëµê°€",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +25%",icon:"ğŸ–ï¸",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:25}},{id:"e-military-4",name:"ìš”ìƒˆ",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +25%",icon:"ğŸ°",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",defenseBonus:25}},{id:"e-magic-1",name:"ë¹„ì „ì˜ íƒ‘",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +28%",icon:"ğŸ—¼",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["magic"],effect:{type:"combat",attackBonus:28}},{id:"e-magic-2",name:"ìˆ˜ì • ê¶ì „",description:"ë§¤ì¼ ê¸ˆ +250, ë¯¼ì‹¬ +3",icon:"ğŸ’",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["magic"],effect:{type:"resource",gold:250,morale:3}},{id:"e-magic-3",name:"ë§ˆë²• ê²°ê³„",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +23%",icon:"ğŸ”®",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["magic"],effect:{type:"combat",defenseBonus:23}},{id:"e-tech-1",name:"ì¦ê¸° ê¸°ê´€",description:"ë§¤ì¼ ê¸ˆ +300, ë³‘ë ¥ +50",icon:"âš™ï¸",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["technology"],effect:{type:"resource",gold:300,military:50}},{id:"e-tech-2",name:"í™”ì•½ ë¬´ê¸°",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +24%",icon:"ğŸ’£",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["technology"],effect:{type:"combat",attackBonus:24}},{id:"e-religion-1",name:"ì„±ì§€",description:"ë§¤ì¼ ë¯¼ì‹¬ +6, ê¸ˆ +150, ì‹ëŸ‰ +80",icon:"ğŸ•Œ",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["religion"],effect:{type:"resource",morale:6,gold:150,food:80}},{id:"e-religion-2",name:"ì‹ ì˜ ì€ì´",description:"ë§¤ì¼ ë¯¼ì‹¬ +5, ì‹ëŸ‰ +120",icon:"âœ¨",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"daily",synergyTags:["religion"],effect:{type:"resource",morale:5,food:120}},{id:"e-conquest-1",name:"ì •ë³µì˜ ê¹ƒë°œ",description:"ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ê¸ˆ +600, ë¯¼ì‹¬ +3",icon:"ğŸš©",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_win",synergyTags:["conquest"],effect:{type:"resource",gold:600,morale:3}},{id:"l-trade-1",name:"ì„¸ê³„ ë¬´ì—­ë§",description:"ë§¤ì¼ ê¸ˆ +600, ì‹ëŸ‰ +200, ë¯¼ì‹¬ +3",icon:"ğŸŒ",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"daily",synergyTags:["trade"],effect:{type:"resource",gold:600,food:200,morale:3}},{id:"l-agri-1",name:"ëŒ€ì§€ì˜ ì¶•ë³µ",description:"ë§¤ì¼ ì‹ëŸ‰ +700, ì¸êµ¬ +80, ë¯¼ì‹¬ +3",icon:"ğŸŒ¾",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"daily",synergyTags:["agriculture"],effect:{type:"resource",food:700,population:80,morale:3}},{id:"l-culture-1",name:"ë¬¸í™”ì˜ ì •ìˆ˜",description:"ë§¤ì¼ ë¯¼ì‹¬ +8, ê¸ˆ +300, ì¸êµ¬ +50",icon:"ğŸ­",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"daily",synergyTags:["culture"],effect:{type:"resource",morale:8,gold:300,population:50}},{id:"l-military-1",name:"ë¶ˆíŒ¨ì˜ êµ°ë‹¨",description:"ì „íˆ¬ ì‹œì‘ ì‹œ ë³‘ë ¥ +600, ê³µê²©ë ¥ +35%",icon:"ğŸ‘¹",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",military:600,attackBonus:35}},{id:"l-magic-1",name:"ëŒ€ë§ˆë²•ì‚¬ì˜ ìœ ì‚°",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +40%, ë§¤ì¼ ê¸ˆ +400",icon:"ğŸ”®",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"battle_start",isBattleCard:!0,synergyTags:["magic"],effect:{type:"combat",attackBonus:40}},{id:"l-tech-1",name:"ë¯¸ë˜ ê¸°ìˆ ",description:"ë§¤ì¼ ê¸ˆ +500, ë³‘ë ¥ +100, ë¯¼ì‹¬ +3",icon:"ğŸš€",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"daily",synergyTags:["technology"],effect:{type:"resource",gold:500,military:100,morale:3}},{id:"l-religion-1",name:"ì‹ ì˜ ì¶•ë³µ",description:"ë§¤ì¼ ê¸ˆ +500, ì‹ëŸ‰ +400, ë¯¼ì‹¬ +4",icon:"âœ¨",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"daily",synergyTags:["religion"],effect:{type:"resource",gold:500,food:400,morale:4}},{id:"l-conquest-1",name:"ì œêµ­ì˜ ì•¼ë§",description:"ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ê¸ˆ +1000, ë³‘ë ¥ +150, ë¯¼ì‹¬ +6",icon:"ğŸ”¥",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"battle_win",synergyTags:["conquest"],effect:{type:"resource",gold:1e3,military:150,morale:6}},{id:"gen-c-1",name:"ê²€ì‚¬ ì´í•œ",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +5%",icon:"âš”ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",attackBonus:5}},{id:"gen-c-2",name:"ê¶ìˆ˜ ë¯¼ì„œ",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +4%",icon:"ğŸ¹",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",attackBonus:4}},{id:"gen-c-3",name:"ë°©íŒ¨ë³‘ ì¤€í˜¸",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +5%",icon:"ğŸ›¡ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",defenseBonus:5}},{id:"gen-c-4",name:"ì°½ë³‘ ì„œì—°",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +5%",icon:"ğŸ”±",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",attackBonus:5}},{id:"gen-c-5",name:"ê¸°ë³‘ íƒœì¤€",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +5%, ë°©ì–´ë ¥ +3%",icon:"ğŸ´",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",attackBonus:5,defenseBonus:3}},{id:"gen-c-6",name:"ì°¸ëª¨ ì§€ìš°",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +6%",icon:"ğŸ“œ",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",defenseBonus:6}},{id:"gen-c-7",name:"ë„ë¼ë³‘ ê°•ë¯¼",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +6%",icon:"ğŸª“",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",attackBonus:6}},{id:"gen-c-8",name:"ì¹˜ìœ ì‚¬ í˜œì§„",description:"ì „íˆ¬ ìŠ¹ë¦¬ ì‹œ ë³‘ë ¥ +50",icon:"ğŸ’Š",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_win",effect:{type:"resource",military:50}},{id:"gen-c-9",name:"ì •ì°°ë³‘ ìœ ì§„",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +4%, ë°©ì–´ë ¥ +3%",icon:"ğŸ”",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",attackBonus:4,defenseBonus:3}},{id:"gen-c-10",name:"ëŒ€ì¥ì¥ì´ ì„±í˜¸",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +4%, ë°©ì–´ë ¥ +4%",icon:"ğŸ”¨",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,effect:{type:"combat",attackBonus:4,defenseBonus:4}},{id:"gen-r-1",name:"ê²€ì„± ë¦¬ì•ˆ",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +10%",icon:"âš”ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:10}},{id:"gen-r-2",name:"ì‹ ê¶ ì•„ë¼",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +9%",icon:"ğŸ¹",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:9}},{id:"gen-r-3",name:"ì² ë²½ íƒœì˜¤",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +11%",icon:"ğŸ›¡ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",defenseBonus:11}},{id:"gen-r-4",name:"ì²œì¬ ì±…ì‚¬ í˜„ìš°",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +10%",icon:"ğŸ“š",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",defenseBonus:10}},{id:"gen-r-5",name:"ê¸°ë§ˆëŒ€ì¥ ì†Œë¼",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +8%, ë°©ì–´ë ¥ +7%",icon:"ğŸ´",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:8,defenseBonus:7}},{id:"gen-r-6",name:"ì•”ì‚´ì ì¹´ì¸",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +11%",icon:"ğŸ—¡ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:11}},{id:"gen-r-7",name:"ë§ˆë²•ì‚¬ ë£¨ë‚˜",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +9%, ë°©ì–´ë ¥ +6%",icon:"ğŸ”®",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["magic","military"],effect:{type:"combat",attackBonus:9,defenseBonus:6}},{id:"gen-r-8",name:"ì¤‘ì¥ë³´ë³‘ ì§„ìš°",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +8%, ë°©ì–´ë ¥ +8%",icon:"âš”ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:8,defenseBonus:8}},{id:"gen-e-1",name:"ì „ìŸêµ°ì£¼ ì—˜ë¦¬ìŠ¤",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +17%, ë°©ì–´ë ¥ +10%",icon:"ğŸ‘‘",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","conquest"],effect:{type:"combat",attackBonus:17,defenseBonus:10}},{id:"gen-e-2",name:"ìš©ê¸°ì‚¬ ë“œë ˆì´í¬",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +20%, ë°©ì–´ë ¥ +8%",icon:"ğŸ‰",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","conquest"],effect:{type:"combat",attackBonus:20,defenseBonus:8}},{id:"gen-e-3",name:"ëŒ€ë§ˆë²•ì‚¬ ì„¸ë¼í•Œ",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +18%, ë°©ì–´ë ¥ +10%",icon:"ğŸŒŸ",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["magic","military"],effect:{type:"combat",attackBonus:18,defenseBonus:10}},{id:"gen-e-4",name:"ìˆ˜í˜¸ì ì•„ì´ì–¸",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +22%, ê³µê²©ë ¥ +8%",icon:"ğŸ›¡ï¸",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",defenseBonus:22,attackBonus:8}},{id:"gen-e-5",name:"ì•”ì‚´ì ì œë¡œ",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +19%, ë°©ì–´ë ¥ +7%",icon:"ğŸŒ‘",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","conquest"],effect:{type:"combat",attackBonus:19,defenseBonus:7}},{id:"gen-l-1",name:"ë¶ˆë©¸ì˜ í™©ì œ ì•„ë¥´í…Œë¯¸ìŠ¤",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +30%, ë°©ì–´ë ¥ +20%",icon:"ğŸ‘‘",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","conquest"],effect:{type:"combat",attackBonus:30,defenseBonus:20}},{id:"gen-l-2",name:"ì‹ ì˜ ì‚¬ë„ ë¯¸ì¹´ì—˜",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +25%, ë°©ì–´ë ¥ +25%",icon:"âœ¨",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","religion"],effect:{type:"combat",attackBonus:25,defenseBonus:25}},{id:"gen-c-11",name:"ë°©íŒ¨ì˜ ìˆ˜í˜¸ì ë¸Œëœ",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +6%",icon:"ğŸ›¡ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",defenseBonus:6}},{id:"gen-c-12",name:"ë‚ ìŒ˜ ì •ì°°ë³‘ ì¹´ì¼",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +5%",icon:"ğŸƒ",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:5}},{id:"gen-c-13",name:"ë…¸ë ¨í•œ ìš©ë³‘ ê·¸ë ‰",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +4%, ë°©ì–´ë ¥ +3%",icon:"âš”ï¸",image:"/images/passive/solderAdd.png",rarity:"common",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",attackBonus:4,defenseBonus:3}},{id:"gen-r-9",name:"ë§ˆë²•ê²€ì‚¬ ì—˜ë¦¬ë‚˜",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +12%",icon:"ğŸ—¡ï¸",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","magic"],effect:{type:"combat",attackBonus:12}},{id:"gen-r-10",name:"ì² ë²½ì˜ ê¸°ì‚¬ ë¡œë Œ",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +11%",icon:"ğŸ°",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military"],effect:{type:"combat",defenseBonus:11}},{id:"gen-r-11",name:"ì•”í‘ê¸°ì‚¬ ì œì´í¬",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +10%, ë°©ì–´ë ¥ +5%",icon:"âš«",image:"/images/passive/solderAdd.png",rarity:"rare",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","magic"],effect:{type:"combat",attackBonus:10,defenseBonus:5}},{id:"gen-e-6",name:"ë“œë˜ê³¤ ìŠ¬ë ˆì´ì–´ ì‹œê·¸ë¬¸íŠ¸",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +18%",icon:"ğŸ‰",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","conquest"],effect:{type:"combat",attackBonus:18}},{id:"gen-e-7",name:"ì„±ë…€ ì´ì‚¬ë²¨ë¼",description:"ì „íˆ¬ ì‹œ ë°©ì–´ë ¥ +16%",icon:"ğŸ’«",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","religion"],effect:{type:"combat",defenseBonus:16}},{id:"gen-e-8",name:"ì „ì„¤ì˜ ìš©ì‚¬ ê°ˆë€",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +15%, ë°©ì–´ë ¥ +10%",icon:"âš¡",image:"/images/passive/solderAdd.png",rarity:"epic",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","conquest"],effect:{type:"combat",attackBonus:15,defenseBonus:10}},{id:"gen-l-3",name:"ì²œìƒì˜ ìˆ˜í˜¸ì ê°€ë¸Œë¦¬ì—˜",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +28%, ë°©ì–´ë ¥ +22%",icon:"ğŸŒŸ",image:"/images/passive/solderAdd.png",rarity:"legendary",trigger:"battle_start",isBattleCard:!0,synergyTags:["military","religion","magic"],effect:{type:"combat",attackBonus:28,defenseBonus:22}}],ia={common:50,rare:30,epic:15,legendary:5};function oa(e=3){const a=[],t=[...sa];for(let r=0;r<e&&t.length>0;r++){const e=t.reduce((e,a)=>e+ia[a.rarity],0);let r=Math.random()*e,s=null;for(const a of t)if(r-=ia[a.rarity],r<=0){s=a;break}if(s){a.push(s);const e=t.findIndex(e=>e.id===s.id);e>-1&&t.splice(e,1)}}return a}const na={thunderStrike:{id:"thunderStrike",name:"ì²œë‘¥ê²©",description:"í•˜ëŠ˜ì˜ ë²ˆê°œë¥¼ ë¶ˆëŸ¬ ì ì—ê²Œ ê°•ë ¥í•œ í”¼í•´ë¥¼ ì…íŒë‹¤",successRate:65,effect:{type:"damage",value:300}},ironDefense:{id:"ironDefense",name:"ì² ë²½ìˆ˜ë¹„",description:"ì•„êµ°ì˜ ë°©ì–´ë ¥ì„ ëŒ€í­ ìƒìŠ¹ì‹œí‚¨ë‹¤",successRate:75,effect:{type:"defense",value:200}},"ç­–ç•¥":{id:"strategy",name:"ê¸°ë¬˜í•œ ì±…ëµ",description:"ì ì˜ í—ˆì ì„ ì°Œë¥´ëŠ” ê³„ëµì„ í¼ì¹œë‹¤",successRate:55,effect:{type:"damage",value:250}},healingRitual:{id:"healingRitual",name:"ì¹˜ìœ ì˜ì‹",description:"ì•„êµ°ì˜ ì‚¬ê¸°ë¥¼ íšŒë³µì‹œí‚¨ë‹¤",successRate:80,effect:{type:"buff",value:150}},duel:{id:"duel",name:"ì¼ê¸°í† ",description:"ì  ì¥ìˆ˜ì—ê²Œ ì¼ëŒ€ì¼ ê²°íˆ¬ë¥¼ ì‹ ì²­í•œë‹¤",successRate:50,effect:{type:"damage",value:400}},arrowRain:{id:"arrowRain",name:"í™”ì‚´ë¹„",description:"ì êµ°ì—ê²Œ ë¬´ìˆ˜í•œ í™”ì‚´ì„ ìŸì•„ë¶“ëŠ”ë‹¤",successRate:70,effect:{type:"damage",value:200}},flameBurst:{id:"flameBurst",name:"í™”ì—¼í­ë°œ",description:"ë¶ˆê¸¸ì´ ì ì§„ì„ íœ©ì“´ë‹¤",successRate:60,effect:{type:"damage",value:280}},iceLance:{id:"iceLance",name:"ë¹™ì°½",description:"ì–¼ìŒì˜ ì°½ìœ¼ë¡œ ì ì„ ê´€í†µí•œë‹¤",successRate:68,effect:{type:"damage",value:260}},windSlash:{id:"windSlash",name:"í’ì‹ ì°¸",description:"ë°”ëŒì˜ ì¹¼ë‚ ë¡œ ì ì„ ë² ì–´ë²„ë¦°ë‹¤",successRate:72,effect:{type:"damage",value:240}},earthquake:{id:"earthquake",name:"ëŒ€ì§€ì§„ë™",description:"ë•…ì„ í”ë“¤ì–´ ì ì˜ ê· í˜•ì„ ë¬´ë„ˆëœ¨ë¦°ë‹¤",successRate:58,effect:{type:"damage",value:290}},shadowStrike:{id:"shadowStrike",name:"ì•”ì˜ìŠµê²©",description:"ê·¸ë¦¼ìì—ì„œ ê¸°ìŠµê³µê²©ì„ ê°€í•œë‹¤",successRate:62,effect:{type:"damage",value:270}},holyLight:{id:"holyLight",name:"ì„±ìŠ¤ëŸ¬ìš´ ë¹›",description:"ì‹ ì„±í•œ ë¹›ìœ¼ë¡œ ì•„êµ°ì„ ë³´í˜¸í•œë‹¤",successRate:78,effect:{type:"buff",value:180}},berserk:{id:"berserk",name:"ê´‘ì „ì‚¬ì˜ ë¶„ë…¸",description:"ì´ì„±ì„ ë²„ë¦¬ê³  í˜ì„ í­ë°œì‹œí‚¨ë‹¤",successRate:45,effect:{type:"damage",value:450}},poisonMist:{id:"poisonMist",name:"ë…ë¬´",description:"ë…ì•ˆê°œë¡œ ì ì˜ ì „ë ¥ì„ ì•½í™”ì‹œí‚¨ë‹¤",successRate:65,effect:{type:"damage",value:220}},lightningChain:{id:"lightningChain",name:"ì—°ì‡„ë²ˆê°œ",description:"ë²ˆê°œê°€ ì—¬ëŸ¬ ì ì„ ê´€í†µí•œë‹¤",successRate:55,effect:{type:"damage",value:310}},ironWall:{id:"ironWall",name:"ì² ë²½ì§„",description:"ë‚œê³µë¶ˆë½ì˜ ë°©ì–´ì§„ì„ êµ¬ì¶•í•œë‹¤",successRate:82,effect:{type:"defense",value:250}},swordDance:{id:"swordDance",name:"ê²€ë¬´",description:"í™”ë ¤í•œ ê²€ìˆ ë¡œ ì ì„ ì••ë„í•œë‹¤",successRate:70,effect:{type:"damage",value:230}},dragonRoar:{id:"dragonRoar",name:"ìš©ì˜ í¬íš¨",description:"ìš©ì˜ í•¨ì„±ìœ¼ë¡œ ì ì„ ìœ„ì••í•œë‹¤",successRate:52,effect:{type:"damage",value:320}},meteorStrike:{id:"meteorStrike",name:"ìœ ì„±ë‚™í•˜",description:"í•˜ëŠ˜ì—ì„œ ìš´ì„ì„ ë–¨ì–´ëœ¨ë¦°ë‹¤",successRate:48,effect:{type:"damage",value:420}},healingWave:{id:"healingWave",name:"ì¹˜ìœ ì˜ ë¬¼ê²°",description:"ì¹˜ìœ ì˜ íŒŒë™ìœ¼ë¡œ ì•„êµ° ì „ì²´ë¥¼ íšŒë³µì‹œí‚¨ë‹¤",successRate:85,effect:{type:"buff",value:200}}},la=Object.values(na),ca={id:"1",name:"ì•„ìŠ¤íŠ¸ë„ ì™•êµ­",ruler:"í”Œë ˆì´ì–´",resources:{food:5e3,gold:3e3,soldiers:2e3,morale:75},day:0},da=[{id:"event1",title:"ë– ëŒì´ ìƒì¸",description:"ë¨¼ ì´êµ­ì—ì„œ ì˜¨ ìƒì¸ì´ ì‹ëŸ‰ì„ íŒ”ê² ë‹¤ê³  ì œì•ˆí•©ë‹ˆë‹¤.",choices:[{text:"ê¸ˆ 500ì„ ì£¼ê³  ì‹ëŸ‰ 1000ì„ êµ¬ë§¤í•œë‹¤",cost:{gold:500},reward:{food:1e3}},{text:"ê±°ì ˆí•œë‹¤",reward:{}}]},{id:"event2",title:"ì—­ë³‘ ë°œìƒ",description:"ë§ˆì„ì— ì•Œ ìˆ˜ ì—†ëŠ” ë³‘ì´ í¼ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì‹ ì†í•œ ëŒ€ì‘ì´ í•„ìš”í•©ë‹ˆë‹¤.",choices:[{text:"ì‹ëŸ‰ 800ì„ ì†Œëª¨í•˜ì—¬ ì¹˜ë£Œí•œë‹¤",cost:{food:800},reward:{morale:10}},{text:"ë°©ì¹˜í•œë‹¤ (ë¯¼ì‹¬ í•˜ë½)",reward:{morale:-20}}]},{id:"event3",title:"í’ë…„",description:"ì˜¬í•´ëŠ” ë‚ ì”¨ê°€ ì¢‹ì•„ ë†ì‚¬ê°€ ëŒ€í’ì´ì—ˆìŠµë‹ˆë‹¤!",choices:[{text:"ìˆ˜í™•ì„ ê±°ë‘”ë‹¤",reward:{food:1500,morale:5}}]},{id:"event4",title:"ë¬´ê¸° ìƒì¸",description:"ë¨¼ ë‚˜ë¼ì—ì„œ ì˜¨ ë¬´ê¸° ìƒì¸ì´ í›Œë¥­í•œ ê²€ê³¼ ê°‘ì˜·ì„ íŒ”ê³  ìˆìŠµë‹ˆë‹¤.",choices:[{text:"ê¸ˆ 1000ì„ ì£¼ê³  ë¬´ê¸°ë¥¼ êµ¬ë§¤í•œë‹¤",cost:{gold:1e3},reward:{soldiers:300,morale:5}},{text:"ê±°ì ˆí•œë‹¤",reward:{}}]},{id:"event5",title:"ë°˜ë€ì˜ ì¡°ì§",description:"ì˜í†  ë³€ê²½ì—ì„œ ë¯¼ë€ì˜ ê¸°ìš´ì´ ê°ì§€ë©ë‹ˆë‹¤.",choices:[{text:"ê¸ˆ 600ì„ íˆ¬ìí•˜ì—¬ ì§„ì••í•œë‹¤",cost:{gold:600},reward:{morale:5}},{text:"ë³‘ë ¥ 300ì„ íŒŒê²¬í•œë‹¤",cost:{soldiers:300},reward:{morale:-5}}]},{id:"event6",title:"ì˜ë¬¸ì˜ ë³´ë¬¼",description:"ì„± ì§€í•˜ì—ì„œ ì˜¤ë˜ëœ ë³´ë¬¼ ìƒìë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.",choices:[{text:"ì—´ì–´ë³¸ë‹¤",reward:{gold:800}},{text:"ë¬´ì‹œí•œë‹¤",reward:{}}]}],ua=[{name:"ê²€ì€ ì„±ì±„",generals:[{id:"e1",name:"ì•”í‘ê¸°ì‚¬ ëª¨ë¥´ê°„",title:"ì–´ë‘ ì˜ êµ°ì£¼",stats:{power:85,intelligence:60,leadership:75},skills:[na.thunderStrike,na.duel],assignedSoldiers:1500},{id:"e2",name:"ê·¸ë¦¼ì ì•”ì‚´ì",title:"ë°¤ì˜ ì¶”ì ì",stats:{power:78,intelligence:70,leadership:65},skills:[na.ç­–ç•¥,na.arrowRain],assignedSoldiers:1200}]},{name:"ì€ë¹› ì œêµ­",generals:[{id:"e3",name:"ì„±ê¸°ì‚¬ ë ˆì˜¨",title:"ë¹›ì˜ ìˆ˜í˜¸ì",stats:{power:80,intelligence:75,leadership:88},skills:[na.ironDefense,na.healingRitual],assignedSoldiers:1800}]}],ga={name:"ì•„ì¹´ìƒ¤ ëŒ€ì œêµ­",generals:[{id:"emp1",name:"ì œêµ­ í™©ì œ ì•„ì¹´ìƒ¤",title:"ì ˆëŒ€ êµ°ì£¼",stats:{power:99,intelligence:98,leadership:99},skills:[na.thunderStrike,na.duel,na.ç­–ç•¥],assignedSoldiers:5e3},{id:"emp2",name:"ì œêµ­ ì›ìˆ˜ ë“œë¼ì½”",title:"ìš©ì˜ í™”ì‹ ",stats:{power:97,intelligence:90,leadership:96},skills:[na.thunderStrike,na.ironDefense],assignedSoldiers:4500},{id:"emp3",name:"ëŒ€ì¥êµ° ë°œí‚¤ë¦¬",title:"ì „ì¥ì˜ ì—¬ì‹ ",stats:{power:95,intelligence:88,leadership:94},skills:[na.duel,na.arrowRain],assignedSoldiers:4e3},{id:"emp4",name:"ëŒ€í˜„ì ì•„ë¥´ì¹´ëˆ„ìŠ¤",title:"ë§ˆë²•ì˜ í˜„ì",stats:{power:75,intelligence:99,leadership:92},skills:[na.ç­–ç•¥,na.healingRitual],assignedSoldiers:3500},{id:"emp5",name:"ì² ë²½ì¥êµ° ì•„ì´ì–¸í´ë˜ë“œ",title:"ë¶ˆíŒ¨ì˜ ë°©íŒ¨",stats:{power:93,intelligence:85,leadership:95},skills:[na.ironDefense,na.duel],assignedSoldiers:4e3}]},ma=["ê°•ì² ì˜","ë¶ˆê½ƒì˜","ì–¼ìŒì˜","ê·¸ë¦¼ì","ë¹›ì˜","ì–´ë‘ ì˜","ë²ˆê°œ","í­í’ì˜","ëŒ€ì§€ì˜","ì²œìƒì˜","ì§€ì˜¥ì˜","ì˜ì›í•œ","ë¶ˆë©¸ì˜","ê´‘ê¸°ì˜","ì§€í˜œì˜","ìš©ë§¹í•œ","ì”í˜¹í•œ","ëƒ‰í˜¹í•œ","ê³ ë…í•œ","ê´‘ë€ì˜","ì¹¨ë¬µì˜","ì ˆë§ì˜","í¬ë§ì˜","ë¶„ë…¸ì˜","ë³µìˆ˜ì˜","ì •ì˜ì˜","ì•…ë§ˆì˜","ì²œì‚¬ì˜","ì‹ ì„±í•œ","ì €ì£¼ë°›ì€"],pa=["ì¹´ë¡ ","ì—˜ë¦¬ì˜¨","ë¦¬ë‚˜","ì•„ë¥´í…Œë¯¸ìŠ¤","ë“œë¼ì½”","ë°œí‚¤ë¦¬","ì•„ë¥´ì¹´ëˆ„ìŠ¤","ëª¨ë¥´ê°„","ë ˆì˜¨","ì œìš°ìŠ¤","ì„€ë„ìš°","ëª¨ë¥´ê°€ë‚˜","ì´ê·¸ë‹ˆìŠ¤","ë©”ë¥¼ë¦°","ê³µëª…","ë¬´ëª…","íƒ€ë…¸ìŠ¤","ë¡œë¹ˆ","ì•„í‚¬ë ˆìŠ¤","í—¥í† ë¥´","ì˜¤ë”˜","í† ë¥´","ë¡œí‚¤","í”„ë ˆì´ì•¼","í—¤ë¼","ì•„í…Œë‚˜","í¬ì„¸ì´ëˆ","í•˜ë°ìŠ¤","ì•„ë ˆìŠ¤","ì•„í´ë¡ "],fa=["ë¶ˆíŒ¨ì˜ ë§¹ì¥","ì§€í˜œì˜ ì±…ì‚¬","ì‹ ê¶","ë°±ì „ë…¸ì¥","ìš©ì˜ í™”ì‹ ","ì „ì¥ì˜ ì—¬ì‹ ","ë§ˆë²•ì˜ í˜„ì","ì–´ë‘ ì˜ êµ°ì£¼","ë¹›ì˜ ìˆ˜í˜¸ì","ì²œë‘¥ì˜ ì£¼ì¸","ì–´ë‘ ì˜ ê²€","ì €ì£¼ì˜ ë§ˆë…€","ìš©ì‚´ì","ê²€ì˜ ë‹¬ì¸","ë¶ˆíŒ¨ì˜ ìˆ˜í˜¸ì","ë°±ë°œë°±ì¤‘","ì „ì‚¬ì˜ ì™•","ì•”í‘ê¸°ì‚¬","ì„±ê²€ì˜ ì£¼ì¸","ê´‘ì „ì‚¬","ë¬´ìŒì˜ ì˜ì›…","ì² ë²½ì˜ ë°©íŒ¨","ì§ˆí’ì˜ ì¹¼ë‚ ","í˜ˆì „ì˜ ê·€ì‹ ","ì „ëµì˜ ëŒ€ê°€","íŒŒê´´ì","í•™ì‚´ì","êµ¬ì›ì","ì‹¬íŒì"],ya=()=>{const e=ma[Math.floor(Math.random()*ma.length)],a=pa[Math.floor(Math.random()*pa.length)],t=fa[Math.floor(Math.random()*fa.length)],r=2+Math.floor(2*Math.random()),s=[],i=[...la];for(let g=0;g<r&&i.length>0;g++){const e=Math.floor(Math.random()*i.length),a=i[e];a&&(s.push(a),i.splice(e,1))}const o=60+Math.floor(36*Math.random()),n=60+Math.floor(36*Math.random()),l=60+Math.floor(36*Math.random()),c=1e3+Math.floor(1501*Math.random()),d=o+n+l;let u;return u=d>=250?"epic":d>=220?"rare":"common",{id:`random-${Date.now()}-${Math.random()}`,name:`${e} ${a}`,title:t||"ì „ì‚¬",rarity:u,stats:{power:o,intelligence:n,leadership:l},skills:s,assignedSoldiers:c}},va=e=>{const a=e||1+Math.floor(3*Math.random()),t=[];for(let r=0;r<a;r++)t.push(ya());return t},ha="tutorialState",ba=()=>{const e=l({isActive:!0,currentDay:0,tutorialCompleted:!1,storyCompleted:!1,hasSelectedStartCards:!1,hasRecruitedSoldiers:!1,hasAssignedGenerals:!1,hasCompletedFirstBattle:!1,hasSeenBattleTutorial:!1,hasSeenCardSelectionTutorial:!1,unlockedFeatures:[],shownMessages:[]}),a=()=>{localStorage.setItem(ha,JSON.stringify(e.value))},t=t=>{e.value.unlockedFeatures.includes(t)||(e.value.unlockedFeatures.push(t),a())};return(()=>{const t=(()=>{const e=localStorage.getItem(ha);if(!e)return null;try{return JSON.parse(e)}catch(a){return null}})();t?(e.value={...e.value,...t,unlockedFeatures:t.unlockedFeatures||[],shownMessages:t.shownMessages||[]},void 0===e.value.storyCompleted&&(e.value.storyCompleted=!0),void 0===e.value.hasSelectedStartCards&&(e.value.hasSelectedStartCards=!0),void 0===e.value.hasSeenBattleTutorial&&(e.value.hasSeenBattleTutorial=!1,a()),void 0===e.value.hasSeenCardSelectionTutorial&&(e.value.hasSeenCardSelectionTutorial=!1,a()),e.value.unlockedFeatures.includes("synergyCards")||(e.value.unlockedFeatures.push("synergyCards"),a())):(e.value.unlockedFeatures=[],a())})(),{tutorialState:e,isFeatureUnlocked:a=>e.value.unlockedFeatures.includes(a),hasShownMessage:a=>e.value.shownMessages.includes(a),advanceDay:a=>e.value.isActive?(e.value.currentDay=a,null):null,onRecruitSoldiers:()=>{e.value.hasRecruitedSoldiers=!0,a()},onAssignGenerals:()=>{e.value.hasAssignedGenerals||(e.value.hasAssignedGenerals=!0,t("battle"),a())},onCompleteFirstBattle:()=>{e.value.hasCompletedFirstBattle=!0,a()},completeBattleTutorial:()=>{e.value.hasSeenBattleTutorial=!0,a()},completeCardSelectionTutorial:()=>{e.value.hasSeenCardSelectionTutorial=!0,a()},completeStory:()=>{e.value.storyCompleted=!0,a()},completeStartCardSelection:()=>{e.value.hasSelectedStartCards=!0,e.value.unlockedFeatures=["nextDay","futureCards","commandments","synergyCards"],e.value.tutorialCompleted=!0,e.value.isActive=!1,a()},resetTutorial:()=>{localStorage.removeItem(ha),e.value={isActive:!0,currentDay:1,tutorialCompleted:!1,storyCompleted:!1,hasSelectedStartCards:!1,hasRecruitedSoldiers:!1,hasAssignedGenerals:!1,hasCompletedFirstBattle:!1,hasSeenBattleTutorial:!1,hasSeenCardSelectionTutorial:!1,unlockedFeatures:[],shownMessages:[]},a()},skipTutorial:()=>{e.value.isActive=!1,e.value.tutorialCompleted=!0,e.value.unlockedFeatures=["nextDay","recruit","generals","battle","warTimer","warCounter","futureCards","commandments","synergyCards"],a()},unlockFeature:t,markMessageShown:t=>{e.value.shownMessages.includes(t)||(e.value.shownMessages.push(t),a())}}},_a=(e,a,t)=>{const r=()=>{{const a=localStorage.getItem("playerName")||"í”Œë ˆì´ì–´",t=localStorage.getItem("kingdomName")||"ì•„ìŠ¤íŠ¸ë„ ì™•êµ­",r=JSON.parse(JSON.stringify(ca));return e.value&&e.value.name?(r.name=e.value.name,r.ruler=a,r.resources.food=e.value.stats.food,r.resources.gold=e.value.stats.gold,r.resources.soldiers=e.value.stats.military,r.resources.morale=Math.max(0,Math.min(100,e.value.stats.morale))):(r.name=t,r.ruler=a),r}},s=l(r()),i=l({name:"ëŒ€ì œêµ­",defeated:!1,totalFortresses:1});return{kingdom:s,empire:i,loadPlayerData:r,recruitSoldiers:()=>{let e=0;a.value.forEach(a=>{a.value?.recruitDiscount&&(e+=a.value.recruitDiscount)});const r=Math.floor(200*(1-e/100));if(s.value.resources.gold>=r){const e=s.value.resources.morale,a=100,i=Math.floor(1.6*(e-50)),o=Math.max(20,a+i);s.value.resources.gold-=r,s.value.resources.soldiers+=o,e>=80?t(`âœ¨ ë†’ì€ ë¯¼ì‹¬! ë³‘ë ¥ ${o}ëª… ëª¨ì§‘ (ë¹„ìš©: ê¸ˆ ${r})`,"success"):e>=50?t(`ë³‘ë ¥ ${o}ëª… ëª¨ì§‘ (ë¹„ìš©: ê¸ˆ ${r})`,"success"):e>=30?t(`âš ï¸ ë‚®ì€ ë¯¼ì‹¬ìœ¼ë¡œ ë³‘ë ¥ ${o}ëª…ë§Œ ëª¨ì§‘ë¨ (ë¹„ìš©: ê¸ˆ ${r})`,"info"):t(`ğŸš¨ ë§¤ìš° ë‚®ì€ ë¯¼ì‹¬! ë³‘ë ¥ ${o}ëª…ë§Œ ëª¨ì§‘ë¨ (ë¹„ìš©: ê¸ˆ ${r})`,"error")}else t(`ê¸ˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤! (í•„ìš”: ${r})`,"error")},calculateProduction:()=>{let e=0,t=0,r=0;a.value.forEach(a=>{a.value?.foodBonus&&(e+=a.value.foodBonus),a.value?.goldBonus&&(t+=a.value.goldBonus),a.value?.upkeepDiscount&&(r+=a.value.upkeepDiscount)});const i=Math.floor(10*s.value.resources.morale),o=100+Math.floor(5*s.value.day),n=Math.floor(i*(1+e/100)),l=Math.floor(o*(1+t/100)),c=Math.floor(1*s.value.resources.soldiers);return{foodProduction:n,goldProduction:l,soldierUpkeep:Math.floor(c*(1-r/100))}}}},ka=()=>{const e=l([]),a=l(!1),t=l([]),r=c(()=>e.value);return{playerPassiveCards:e,showPassiveCardSelection:a,availablePassiveCards:t,availableCardsForReincarnation:r}},wa=[{id:"first-reincarnation",name:"í™˜ìƒì˜ ì¶•ë³µ",description:"ì²« í™˜ìƒ ë‹¬ì„±! ì‹œì‘ ìì› +10%",icon:"âœ¨",effect:{gold:100,food:100,military:50}},{id:"veteran-soul",name:"ìˆ™ë ¨ëœ ì˜í˜¼",description:"2íšŒ í™˜ìƒ ë‹¬ì„±! ì‹œì‘ ìì› +20%",icon:"ğŸ”®",effect:{gold:200,food:200,military:100,morale:5}},{id:"master-reincarnator",name:"í™˜ìƒì˜ ëŒ€ê°€",description:"3íšŒ í™˜ìƒ ë‹¬ì„±! ì‹œì‘ ìì› +30%",icon:"ğŸ‘‘",effect:{gold:300,food:300,military:150,morale:10}},{id:"immortal-legend",name:"ë¶ˆë©¸ì˜ ì „ì„¤",description:"5íšŒ í™˜ìƒ ë‹¬ì„±! ì‹œì‘ ìì› +50%",icon:"ğŸ’«",effect:{gold:500,food:500,military:250,morale:15,population:100}}];function Ta(e){const a=[];return e>=1&&a.push(wa[0]),e>=2&&a.push(wa[1]),e>=3&&a.push(wa[2]),e>=5&&a.push(wa[3]),a}function Ba(e){return e.reduce((e,a)=>({morale:(e.morale||0)+(a.effect.morale||0),gold:(e.gold||0)+(a.effect.gold||0),military:(e.military||0)+(a.effect.military||0),food:(e.food||0)+(a.effect.food||0),population:(e.population||0)+(a.effect.population||0)}),{morale:0,gold:0,military:0,food:0,population:0})}const Ca=(e,a,t,r)=>{const s=l(!1),i=l({count:0,inheritedCard:null,inheritedCards:[],totalDaysPlayed:0,highestDay:0,bonuses:[]});return{showReincarnationModal:s,reincarnationData:i,loadReincarnationData:()=>{{const t=localStorage.getItem("reincarnationData");if(t){const r=JSON.parse(t);if(r.inheritedCards||(r.inheritedCards=[]),i.value=r,i.value.inheritedCards.length>0&&(a.value=[...i.value.inheritedCards]),i.value.bonuses.length>0){const a=Ba(i.value.bonuses);a.gold&&(e.value.resources.gold+=a.gold),a.food&&(e.value.resources.food+=a.food),a.military&&(e.value.resources.soldiers+=a.military),a.morale&&(e.value.resources.morale=Math.min(100,e.value.resources.morale+a.morale))}}}},resetGameKeepProgress:()=>{let r={food:1e3,gold:1e3,soldiers:500,morale:50};t.value&&t.value.stats&&(r.food=t.value.stats.food,r.gold=t.value.stats.gold,r.soldiers=t.value.stats.military,r.morale=Math.max(0,Math.min(100,t.value.stats.morale)));const o=Ba(i.value.bonuses);o.gold&&(r.gold+=o.gold),o.food&&(r.food+=o.food),o.military&&(r.soldiers+=o.military),o.morale&&(r.morale=Math.min(100,r.morale+o.morale)),e.value.day=0,e.value.resources={...r,population:t.value?.stats.population||1e3},a.value=[...i.value.inheritedCards],localStorage.setItem("gameData",JSON.stringify(e.value)),s.value=!1},selectInheritedCard:a=>{i.value.inheritedCard=a;i.value.inheritedCards.some(e=>e.id===a.id)||(i.value.inheritedCards.length>=6&&i.value.inheritedCards.shift(),i.value.inheritedCards.push(a)),i.value.count++,i.value.bonuses=Ta(i.value.count),!i.value.kingdomName&&e.value.name&&(i.value.kingdomName=e.value.name),localStorage.setItem("reincarnationData",JSON.stringify(i.value)),r(`${a.name} ì¹´ë“œë¥¼ ê°€ì§€ê³  í™˜ìƒí•©ë‹ˆë‹¤! (ëˆ„ì  ìƒì† ì¹´ë“œ: ${i.value.inheritedCards.length}ê°œ)`,"success"),s.value=!1,setTimeout(()=>{localStorage.removeItem("gameData"),localStorage.removeItem("passiveCards"),localStorage.removeItem("turnSystemState"),localStorage.removeItem("gameStartTime"),localStorage.removeItem("synergyCards"),window.location.href="/story"},2e3)},reincarnateWithoutCard:()=>{i.value.inheritedCard=null,i.value.count++,i.value.bonuses=Ta(i.value.count),!i.value.kingdomName&&e.value.name&&(i.value.kingdomName=e.value.name),localStorage.setItem("reincarnationData",JSON.stringify(i.value)),r(`ì¹´ë“œ ì—†ì´ í™˜ìƒí•©ë‹ˆë‹¤. (ëˆ„ì  ìƒì† ì¹´ë“œ: ${i.value.inheritedCards.length}ê°œ)`,"info"),s.value=!1,setTimeout(()=>{localStorage.removeItem("gameData"),localStorage.removeItem("passiveCards"),localStorage.removeItem("turnSystemState"),localStorage.removeItem("gameStartTime"),localStorage.removeItem("synergyCards"),window.location.href="/story"},2e3)}}},Aa=globalThis.setInterval,Sa=e=>{const{kingdom:a,enemyKingdoms:t,permanentEffects:r,empire:s,showNotification:i,synergyBattleEffects:o,isWeeklyInvasion:n,showReincarnationModal:c,selectedBattleCards:g,battleActiveCards:m}=e,{isBattleRunning:p,isPaused:f,startRealtimeBattle:y,stopBattle:v,pauseBattle:h,resumeBattle:b}=(()=>{const e=l(!1),a=l(!1),t=l(0),r=l(null),s=l([]),i=()=>{r.value&&(clearInterval(r.value),r.value=null),e.value=!1,a.value=!1};return{isBattleRunning:e,isPaused:a,currentTurnIndex:t,startRealtimeBattle:(a,o)=>{e.value=!0,t.value=0,s.value=o,a.log=[],r.value=Aa(()=>{if(t.value>=s.value.length)return void i();const e=s.value[t.value];a.log.push(e),t.value++,setTimeout(()=>{const e=document.querySelector(".overflow-y-auto");e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},50)},800)},stopBattle:i,pauseBattle:()=>{r.value&&(clearInterval(r.value),r.value=null),a.value=!0},resumeBattle:o=>{a.value&&e.value&&(a.value=!1,r.value=Aa(()=>{if(t.value>=s.value.length)return void i();const e=s.value[t.value];o.log.push(e),t.value++,setTimeout(()=>{const e=document.querySelector(".overflow-y-auto");e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},50)},800))},skipToEnd:e=>{i(),e.log=[...s.value],t.value=s.value.length}}})(),_=l(null),k=l("pve"),w=l("normal"),T=l("normal"),B=l([]),C=l(null),A=l(!1),S=l([]),M=l([]),$=l(0),x=l(0),N=l(0),R=l(0),D=l(0),E=l(0),q=l(null),I=l("íŒ½íŒ½í•œ ì ‘ì „");d(()=>{v(),q.value&&(clearInterval(q.value),q.value=null)});const P=()=>{q.value&&(clearInterval(q.value),q.value=null),E.value=0};u(S,e=>{f.value&&m?.value&&e.length>=m.value.length&&m.value.length>0&&(i("ëª¨ë“  ì¹´ë“œë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤! ì „íˆ¬ë¥¼ ì¬ê°œí•©ë‹ˆë‹¤.","info"),P(),_.value&&b(_.value))},{deep:!0}),u(p,(e,a)=>{if(a&&!e&&_.value&&!_.value.result){const e=N.value>R.value?"victory":"defeat";_.value.result=e,K(e)}});const O=e=>{if(!e)return;const t={...e,timestamp:(new Date).toISOString(),kingdomName:a.value.name};B.value.unshift(t),B.value.length>50&&(B.value=B.value.slice(0,50)),localStorage.setItem("battleRecords",JSON.stringify(B.value))},H=(e,a,t,r)=>{const s=t?[`${e.name}ì´(ê°€) ${a.name}ì„(ë¥¼) ì‹œì „í–ˆë‹¤! ì ì§„ì´ ìˆ ë ì´ë©° í˜¼ë€ì— ë¹ ì§„ë‹¤.`,`"ì´ê±¸ë¡œ ëì´ë‹¤!" ${e.name}ì˜ ${a.name}ì´(ê°€) ì „ì¥ì„ ê°€ë¥¸ë‹¤. ì ë³‘ë“¤ì´ ë¹„ëª…ì„ ì§€ë¥´ë©° ì“°ëŸ¬ì§„ë‹¤.`,`${e.name}ì´(ê°€) ì „ì¥ì„ ëˆ„ë¹„ë©° ${a.name}ì„(ë¥¼) í¼ì³¤ë‹¤. ì ì˜ ëŒ€í˜•ì´ ë¬´ë„ˆì§„ë‹¤!`,`ìˆœì‹ê°„ì— ${e.name}ì´(ê°€) ì „ì§„í•˜ë©° ${a.name}! ì ì§„ì—ì„œ ë¹„ëª…ì†Œë¦¬ê°€ ìš¸ë ¤í¼ì§„ë‹¤.`,`${e.name}ì˜ ê³µê²©ì´ ë¹›ì„ ë°œí•œë‹¤. ${a.name}ì˜ ìœ„ë ¥ì´ ì „ì¥ì„ ë’¤í”ë“ ë‹¤!`,`${e.name}ì´(ê°€) ë§ì„ ëª°ê³  ëŒì§„í•œë‹¤! ${a.name}ì´(ê°€) ì‘ë ¬í•˜ë©° ì ì§„ì— êµ¬ë©ì´ ëš«ë¦°ë‹¤!`,`ì „ì¥ì— ì„¬ê´‘ì´ ë²ˆì©ì¸ë‹¤! ${e.name}ì˜ ${a.name}ì´(ê°€) ì ì„ ê°•íƒ€í•œë‹¤!`,`${e.name}ì´(ê°€) í•¨ì„±ê³¼ í•¨ê»˜ ${a.name}ì„(ë¥¼) ë°œë™í–ˆë‹¤! ì êµ°ì˜ ëŒ€ì—´ì´ í¬ê²Œ í”ë“¤ë¦°ë‹¤!`,`í”¼ì™€ ë•€ì´ ë’¤ì„ì¸ ì „ì¥ì—ì„œ ${e.name}ì˜ ${a.name}ì´(ê°€) ë¹›ì„ ë°œí•œë‹¤!`,`"ì§€ê¸ˆì´ë‹¤!" ${e.name}ì´(ê°€) ì™¸ì¹˜ë©° ${a.name}ì„(ë¥¼) í¼ì¹œë‹¤. ì êµ°ì´ ê³µí¬ì— ì§ˆë ¤ ë’¤ë¡œ ë¬¼ëŸ¬ì„ ë‹¤!`,`${e.name}ì˜ ëˆˆë¹›ì´ ë²ˆëœ©ì¸ë‹¤. ${a.name}ì˜ ìœ„ë ¥ ì•ì— ì êµ°ì´ ì†ìˆ˜ë¬´ì±…ìœ¼ë¡œ ë¬´ë„ˆì§„ë‹¤!`,`ì „ì¥ì˜ ë¨¼ì§€ê°€ ê°€ë¼ì•‰ì ${e.name}ì˜ ${a.name}ì´(ê°€) ì ì§„ì„ ì´ˆí† í™”ì‹œí‚¨ ëª¨ìŠµì´ ë“œëŸ¬ë‚œë‹¤!`,`${e.name}ì´(ê°€) ì „ìˆ ì  ê¸°íšŒë¥¼ í¬ì°©í–ˆë‹¤! ${a.name}ì´(ê°€) ì™„ë²½í•˜ê²Œ ì‘ë™í•œë‹¤!`,`ì êµ°ì˜ ë¹ˆí‹ˆì„ ë…¸ë ¤ ${e.name}ì´(ê°€) ${a.name}ì„(ë¥¼) ê°€í•œë‹¤! ì¹˜ëª…íƒ€ë‹¤!`,`í•˜ëŠ˜ì„ ì°Œë¥´ëŠ” í•¨ì„±ê³¼ í•¨ê»˜ ${e.name}ì˜ ${a.name}ì´(ê°€) ì ì„ ì œì••í•œë‹¤!`]:[`${e.name}ì´(ê°€) ${a.name}ì„(ë¥¼) ì‹œë„í–ˆìœ¼ë‚˜ ì ì´ ì´ë¥¼ ë§‰ì•„ëƒˆë‹¤.`,`"ì  ì¥!" ${e.name}ì˜ ${a.name}ì´(ê°€) ë¹—ë‚˜ê°”ë‹¤. ì ì´ ë¹„ì›ƒìœ¼ë©° ë°˜ê²©ì„ ì¤€ë¹„í•œë‹¤.`,`${e.name}ì´(ê°€) ê³µê²©í–ˆìœ¼ë‚˜ ì ì˜ ë°©ì–´ê°€ ê²¬ê³ í•˜ë‹¤. ${a.name}ì´(ê°€) ë¬´ìœ„ë¡œ ëŒì•„ê°„ë‹¤.`,`${e.name}ì˜ ${a.name}ì´(ê°€) ì‹¤íŒ¨í–ˆë‹¤! ì ì¥ì´ ì˜ê¸°ì–‘ì–‘í•˜ê²Œ ì™¸ì¹œë‹¤.`,`ì§‘ì¤‘ë ¥ì´ ííŠ¸ëŸ¬ì¡Œë‹¤. ${e.name}ì˜ ${a.name}ì´(ê°€) ì œëŒ€ë¡œ ë°œë™ë˜ì§€ ì•Šì•˜ë‹¤.`,`${e.name}ì´(ê°€) ${a.name}ì„(ë¥¼) ì‹œì „í•˜ë ¤ í–ˆìœ¼ë‚˜ ì ì´ ì¬ë¹ ë¥´ê²Œ íšŒí”¼í–ˆë‹¤!`,`íƒ€ì´ë°ì„ ì˜ëª» ì¡ì•˜ë‹¤! ${e.name}ì˜ ${a.name}ì´(ê°€) í—ˆê³µì„ ê°€ë¥¸ë‹¤.`,`ì êµ°ì´ ë°©ì§„ì„ êµ³ê²Œ êµ¬ì¶•í–ˆë‹¤. ${e.name}ì˜ ${a.name}ì´(ê°€) ë§‰í˜”ë‹¤!`,`"ë„ˆë¬´ ëŠ¦ì—ˆë‹¤!" ì ì¥ì´ ì™¸ì¹œë‹¤. ${e.name}ì˜ ${a.name}ì´(ê°€) ë¬´ë ¥í™”ë˜ì—ˆë‹¤.`,`${e.name}ì´(ê°€) ê· í˜•ì„ ìƒìœ¼ë©° ë¹„í‹€ê±°ë¦°ë‹¤. ${a.name}ì´(ê°€) ë¹—ë‚˜ê°€ë²„ë ¸ë‹¤!`,`ì êµ°ì˜ ì„ ì œ ë°©ì–´ë¡œ ${e.name}ì˜ ${a.name}ì´(ê°€) ë´‰ì‡„ë‹¹í–ˆë‹¤!`,`ì „ì¥ì˜ í˜¼ë€ ì†ì—ì„œ ${e.name}ì˜ ${a.name}ì´(ê°€) ì œëŒ€ë¡œ ë°œíœ˜ë˜ì§€ ëª»í–ˆë‹¤.`,`"ë§‰ì•„ë¼!" ì ì˜ í•¨ì„±ê³¼ í•¨ê»˜ ${e.name}ì˜ ${a.name}ì´(ê°€) ì €ì§€ë˜ì—ˆë‹¤!`,`${e.name}ì´(ê°€) ë°˜ê²©ì„ ë°›ìœ¼ë©° ${a.name}ì„(ë¥¼) ì œëŒ€ë¡œ ì™„ì„±í•˜ì§€ ëª»í–ˆë‹¤!`,`ì ì¥ì˜ ë›°ì–´ë‚œ íŒë‹¨ë ¥ì´ ${e.name}ì˜ ${a.name}ì„(ë¥¼) ë¬´ë ¥í™”ì‹œì¼°ë‹¤!`];return s[Math.floor(Math.random()*s.length)]},L=(e,a,t)=>{if(t){const e=["í¬ì•„ì•…! ì´ ì •ë„ ì‹¤ë ¥ìœ¼ë¡œ ê°íˆ!","ì´ê²ƒì´ ë‚˜ì˜ í˜ì´ë‹¤!","í•˜í•˜í•˜! ì–´ë”” í•œë²ˆ ë§‰ì•„ë³´ì‹œì§€!","ì´ ì •ë„ë¡œëŠ” ë¶€ì¡±í•˜ì§€!","ë” ì„¸ê²Œ! ë” ë¹ ë¥´ê²Œ!","ì´ê²ƒìœ¼ë¡œ ëì´ ì•„ë‹ˆë‹¤!","ì, ë‹¤ìŒì€ ëˆ„êµ¬ëƒ?!","í¥, ìƒê°ë³´ë‹¤ ì•½í•˜êµ°.","ë‚˜ì˜ ê²€ì„ ë°›ì•„ë¼!","ì´ ì •ë„ëŠ” ì˜ˆìƒí–ˆë‹¤!","ì™„ë²½í•œ íƒ€ì´ë°ì´ë‹¤!","ì „ì„¸ê°€ ê¸°ìš¸ì—ˆë‹¤!","ìŠ¹ë¦¬ëŠ” ìš°ë¦¬ ê²ƒì´ë‹¤!","ë¬´ë¦ì„ ê¿‡ì–´ë¼!","ì´ê²ƒì´ ì§„ì •í•œ ì „ì‚¬ì˜ í˜ì´ë‹¤!","íí, ì¬ë¯¸ìˆêµ°!","ì˜¤ëŠ˜ì´ ë„¤ ë§ˆì§€ë§‰ ë‚ ì´ë‹¤!","í•­ë³µí•˜ëŠ” ê²ƒì´ í˜„ëª…í•  ê²ƒì´ë‹¤!","ë‚´ ì•ì„ ë§‰ì„ ìëŠ” ì—†ë‹¤!","ì „ì¥ì€ ë‚˜ì˜ ë¬´ëŒ€ë‹¤!"];return e[Math.floor(Math.random()*e.length)]}{const e=["í¬ìœ½... ì´ëŸ´ ìˆ˜ê°€!","ì  ì¥, ë¹—ë‚˜ê°”ì–´!","ì•„ì§ ëë‚˜ì§€ ì•Šì•˜ë‹¤!","ì´ë²ˆì—” ë‚´ê°€ ë°©ì‹¬í–ˆì„ ë¿!","ë‹¤ìŒì—” ë°˜ë“œì‹œ...!","í , ìƒëŒ€ê°€ ë§Œë§Œì¹˜ ì•Šêµ°.","ì´ ì •ë„ì¼ ì¤„ì´ì•¼...","í›„í‡´í•˜ì§€ ë§ˆë¼! ê³„ì† ì‹¸ì›Œë¼!","ì´ëŸ´ ë¦¬ê°€ ì—†ëŠ”ë°...","ì¬ì •ë¹„ê°€ í•„ìš”í•˜ë‹¤!","ì¹¨ì°©í•˜ê²Œ, ì¹¨ì°©í•˜ê²Œ!","ì•„ì§ ê¸°íšŒëŠ” ìˆë‹¤!","ë‹¤ì‹œ í•œë²ˆë§Œ...!","ì‹¤ìˆ˜í–ˆë‹¤... í•˜ì§€ë§Œ!","ì´ëŸ°, ê³„ì‚° ì°©ì˜¤ì˜€ë‚˜!","ë°©ì‹¬ì€ ê¸ˆë¬¼ì´ë‹¤!","ì ì´ ì˜ˆìƒë³´ë‹¤ ê°•í•˜êµ°!","ì „ì—´ì„ ì¬ì •ë¹„í•˜ë¼!","í¬ê¸°í•  ìˆ˜ ì—†ë‹¤!","ë°˜ë“œì‹œ ìŠ¹ë¦¬í•œë‹¤!"];return e[Math.floor(Math.random()*e.length)]}},j=()=>{let e=0;return M.value.forEach(a=>{"power_boost"!==a.type&&"morale_boost"!==a.type||(e+=a.power)}),e},F=()=>{let e=0;return M.value.forEach(a=>{"enemy_weaken"===a.type&&(e+=a.power)}),e},W=()=>{M.value=M.value.filter(e=>(e.remainingTurns-=1,e.remainingTurns>0))},J=e=>({common:95,rare:90,epic:85,legendary:80}[e.rarity]||90),U=(e,t)=>{const r=[];if(!t){const a=[`âœ¨ ${e.name}ì„(ë¥¼) ë°œë™í•˜ë ¤ í–ˆìœ¼ë‚˜ ì‹¤íŒ¨í–ˆë‹¤! ë§ˆë ¥ì´ ì œëŒ€ë¡œ ì‘ì§‘ë˜ì§€ ì•ŠëŠ”ë‹¤!`,`âš¡ ${e.name}ì˜ ë°œë™ì„ ì‹œë„í–ˆì§€ë§Œ ì „ì¥ì˜ í˜¼ë€ìœ¼ë¡œ ì§‘ì¤‘í•  ìˆ˜ ì—†ì—ˆë‹¤!`,`ğŸ’« ${e.name}ì„(ë¥¼) ì‚¬ìš©í•˜ë ¤ëŠ” ìˆœê°„, ì ì˜ ë°©í•´ë¡œ íš¨ê³¼ê°€ ë¬´ì‚°ë˜ì—ˆë‹¤!`,`ğŸŒŸ ${e.name}ì´(ê°€) ë¹›ì„ ë°œí•˜ë ¤ í–ˆìœ¼ë‚˜ ê³§ ì‚¬ê·¸ë¼ë“¤ì—ˆë‹¤. íƒ€ì´ë°ì„ ë†“ì³¤ë‹¤!`,`â­ ${e.name}ì˜ ë°œë™ì— ì‹¤íŒ¨í–ˆë‹¤! ë” ì‹ ì¤‘í•œ íƒ€ì´ë°ì´ í•„ìš”í–ˆë‹¤!`];return r.push({turn:D.value,generalName:"",action:e.name,success:!1,message:"",story:a[Math.floor(Math.random()*a.length)],narrativeType:"narration"}),r}switch(r.push({turn:D.value,generalName:"í”Œë ˆì´ì–´",action:e.name,success:!0,message:"",story:`âœ¨ ${e.name}ì„(ë¥¼) ë°œë™í–ˆë‹¤! ${e.battleDescription}`,narrativeType:"narration"}),e.effectType){case"instant_damage":const t=Math.floor(5*e.power),s=Math.min(t,R.value);R.value-=s,x.value=Math.max(0,x.value-1),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:"ğŸ’¥ ê°•ë ¬í•œ ì¼ê²©ì´ ì ì§„ì„ ê°•íƒ€í–ˆë‹¤! ì êµ°ì˜ ì „ì—´ì´ í¬ê²Œ í”ë“¤ë¦°ë‹¤!",narrativeType:"narration"}),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:`âš”ï¸ ì êµ° ${s.toLocaleString()}ëª…ì´ ë¹„ëª…ì„ ì§€ë¥´ë©° ì“°ëŸ¬ì§„ë‹¤! (ì”ì—¬ ë³‘ë ¥: ${R.value.toLocaleString()}ëª…)`,narrativeType:"narration"});break;case"heal":const i=Math.floor(3*e.power);N.value+=i,$.value+=1,r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:"ğŸ©¹ ë”°ëœ»í•œ ë¹›ì´ ì•„êµ°ì„ ê°ì‹¼ë‹¤! ë¶€ìƒë³‘ë“¤ì´ ë‹¤ì‹œ ì¼ì–´ì„ ë‹¤!",narrativeType:"narration"}),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:`ğŸ’š ì•„êµ° ${i.toLocaleString()}ëª…ì´ ì „íˆ¬ì— ë³µê·€í–ˆë‹¤! (í˜„ì¬ ë³‘ë ¥: ${N.value.toLocaleString()}ëª…)`,narrativeType:"narration"});break;case"turn_skip":M.value.push({type:"turn_skip",power:e.power,duration:e.duration||e.power,remainingTurns:e.duration||e.power}),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:"ğŸŒªï¸ ê°•ë ¥í•œ ê¸°ìš´ì´ ì „ì¥ì„ íœ©ì“´ë‹¤! ì êµ°ì´ ì›€ì§ì´ì§€ ëª»í•˜ê³  ê²½ì§ë˜ì—ˆë‹¤!",narrativeType:"narration"}),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:`â¸ï¸ ${e.power}í„´ ë™ì•ˆ ì ì˜ ê³µê²©ì´ ë¬´ë ¥í™”ëœë‹¤! ì ˆí˜¸ì˜ ê¸°íšŒë‹¤!`,narrativeType:"narration"});break;case"power_boost":case"defense_boost":case"morale_boost":M.value.push({type:e.effectType,power:e.power,duration:e.duration||2,remainingTurns:e.duration||2});const o="power_boost"===e.effectType?"ê³µê²©ë ¥":"defense_boost"===e.effectType?"ë°©ì–´ë ¥":"ì‚¬ê¸°";r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:`ğŸ”¥ ì•„êµ°ì—ê²Œ ê°•ë ¥í•œ ë²„í”„ê°€ ê±¸ë ¸ë‹¤! ${o}ì´(ê°€) ê¸‰ìƒìŠ¹í•œë‹¤!`,narrativeType:"narration"}),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:`âš¡ ${e.duration||2}í„´ ë™ì•ˆ ì „íˆ¬ë ¥ì´ ${e.power}% ì¦ê°€! ì´ì œ ì ì„ ì••ë„í•  ìˆ˜ ìˆë‹¤!`,narrativeType:"narration"});break;case"critical_strike":M.value.push({type:"critical_strike",power:100,duration:1,remainingTurns:1}),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:"âš”ï¸ ê²€ì´ ë¶‰ì€ ë¹›ìœ¼ë¡œ ë¬¼ë“¤ì—ˆë‹¤! ë‹¤ìŒ ê³µê²©ì€ ì¹˜ëª…íƒ€ê°€ ë  ê²ƒì´ë‹¤!",narrativeType:"narration"});break;case"reverse_momentum":const n=Math.floor(3*e.power),l=Math.min(n,R.value);R.value-=l,N.value+=Math.floor(n/2),$.value+=1,x.value=Math.max(0,x.value-1),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:"ğŸŒŠ ì „ì¥ì˜ íë¦„ì´ ì™„ì „íˆ ì—­ì „ë˜ì—ˆë‹¤! ì ˆë§ì ì´ë˜ ìƒí™©ì´ ë°˜ì „ëœë‹¤!",narrativeType:"narration"}),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:`ğŸ”„ ì êµ° ${l.toLocaleString()}ëª…ì´ í˜¼ë€ì— ë¹ ì¡Œê³ , ì•„êµ° ${Math.floor(n/2).toLocaleString()}ëª…ì´ ì¬ê¸°í–ˆë‹¤!`,narrativeType:"narration"}),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:`ğŸ“Š ì•„êµ°: ${N.value.toLocaleString()}ëª… vs ì êµ°: ${R.value.toLocaleString()}ëª…`,narrativeType:"narration"});break;case"multi_strike":let c=0;for(let d=0;d<e.power;d++){$.value+=1;const t=Math.floor(10*e.power),s=Math.min(t,R.value);R.value-=s,c+=s,r.push({turn:D.value,generalName:a.value.ruler||"ì§€íœ˜ê´€",action:`ì—°ì† ê³µê²© ${d+1}`,success:!0,message:"",story:`âš¡ ${a.value.ruler||"ì§€íœ˜ê´€"}ì˜ ${d+1}ë²ˆì§¸ ì—°ì† ê³µê²©! ì êµ° ${s.toLocaleString()}ëª…ì´ ì“°ëŸ¬ì§„ë‹¤!`,narrativeType:"action"})}r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:`ğŸ’« ì™„ë²½í•œ ì—°ì† ê³µê²©ì´ì—ˆë‹¤! ì´ ${c.toLocaleString()}ëª…ì˜ ì ì´ ë¬´ë„ˆì¡Œë‹¤! (ì”ì—¬ ë³‘ë ¥: ${R.value.toLocaleString()}ëª…)`,narrativeType:"narration"});break;case"enemy_weaken":M.value.push({type:"enemy_weaken",power:e.power,duration:e.duration||3,remainingTurns:e.duration||3}),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:"â˜ ï¸ ì–´ë‘ ì˜ ê¸°ìš´ì´ ì êµ°ì„ ê°ì‹¼ë‹¤! ì €ì£¼ê°€ ê±¸ë ¸ë‹¤!",narrativeType:"narration"}),r.push({turn:D.value,generalName:"",action:"",success:!0,message:"",story:`ğŸŒ‘ ${e.duration||3}í„´ ë™ì•ˆ ì ì˜ ì „íˆ¬ë ¥ì´ ${e.power}% ê°ì†Œí•œë‹¤! ì ì¥ì´ ë‹¹í™©í•˜ê³  ìˆë‹¤!`,narrativeType:"narration"})}return r},G=async()=>{if(!_.value)return;$.value=0,x.value=0,D.value=0,S.value=[],M.value=[],I.value="",P(),N.value=_.value.attacker.generals.reduce((e,a)=>e+(a.assignedSoldiers||0),0),R.value=_.value.defender.generals.reduce((e,a)=>e+(a.assignedSoldiers||0),0);const e=[];e.push({turn:0,generalName:"",action:"",success:!0,message:"",story:`âš”ï¸ ${_.value.attacker.kingdomName}ì˜ êµ°ëŒ€ê°€ ${_.value.defender.kingdomName}ì˜ ì˜í† ì— ì§„ì…í–ˆë‹¤.`,narrativeType:"narration"}),e.push({turn:0,generalName:"",action:"",success:!0,message:"",story:"ğŸ° ì–‘êµ°ì´ ëŒ€ì¹˜í•˜ë©° ì‚´ê¸°ê°€ ê°€ë“í•œ ì‹œì„ ì„ êµí™˜í•œë‹¤. ì „ìŸì˜ ì„œë§‰ì´ ì˜¤ë¥¸ë‹¤...",narrativeType:"narration"}),e.push({turn:0,generalName:"",action:"",success:!0,message:"",story:`ğŸ“Š ì•„êµ° ë³‘ë ¥: ${N.value.toLocaleString()}ëª… vs ì êµ° ë³‘ë ¥: ${R.value.toLocaleString()}ëª…`,narrativeType:"narration"});const a=[{turn:3,story:"ğŸŒ§ï¸ ê°‘ìê¸° ë¹„ê°€ ë‚´ë¦¬ê¸° ì‹œì‘í–ˆë‹¤! ì‹œì•¼ê°€ íë ¤ì§„ë‹¤!"},{turn:4,story:"â˜€ï¸ í–‡ë¹›ì´ ìš°ë¦¬ í¸ì„ ë¹„ì¶˜ë‹¤! ì•„êµ°ì˜ ì‚¬ê¸°ê°€ ì˜¬ë¼ê°„ë‹¤!"},{turn:6,story:"ğŸŒªï¸ ê°•í’ì´ ë¶ˆì–´ì˜¨ë‹¤! í™”ì‚´ ê³µê²©ì´ ë¹—ë‚˜ê°€ê¸° ì‰¬ì›Œì¡Œë‹¤!"},{turn:7,story:"âš¡ ì²œë‘¥ì†Œë¦¬ê°€ ì „ì¥ì„ ë’¤í”ë“ ë‹¤! ì–‘êµ° ëª¨ë‘ ì ì‹œ ì›€ì°”í•œë‹¤!"},{turn:8,story:"ğŸ”¥ ì „ì¥ í•œìª½ì—ì„œ í™”ì—¼ì´ ë²ˆì§„ë‹¤! í˜¼ë€ì´ ê°€ì¤‘ëœë‹¤!"},{turn:9,story:"â„ï¸ ì°¨ê°€ìš´ ë°”ëŒì´ ë¶„ë‹¤! ë³‘ì‚¬ë“¤ì´ ëª¸ì„ ì›€ì¸ ë¦°ë‹¤!"},{turn:11,story:"ğŸŒ‘ ë¨¹êµ¬ë¦„ì´ í•´ë¥¼ ê°€ë¦°ë‹¤! ì „ì¥ì´ ì–´ë‘ì›Œì¡Œë‹¤!"},{turn:12,story:"ğŸ¦… ë…ìˆ˜ë¦¬ ë–¼ê°€ ë‚ ì•„ê°„ë‹¤! ë¶ˆê¸¸í•œ ì§•ì¡°ì¸ê°€?"},{turn:13,story:"ğŸ’€ ì „ì‚¬ìë“¤ì˜ ì‹œì²´ê°€ ìŒ“ì—¬ê°„ë‹¤... ì°¸í˜¹í•œ ê´‘ê²½ì´ë‹¤!"},{turn:14,story:"ğŸŒŸ í•˜ëŠ˜ì—ì„œ ë¹›ì´ ë‚´ë ¤ì˜¨ë‹¤! ì‹ ì˜ ê°€í˜¸ì¸ê°€!"}],t=15+Math.floor(4*Math.random());for(let g=1;g<=t;g++){if(D.value=g,Math.random()<.3){const t=a.filter(e=>e.turn===g);if(t.length>0){const a=t[Math.floor(Math.random()*t.length)];e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:a.story,narrativeType:"narration"})}}if(5===g)N.value,R.value,N.value,R.value,e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:"âš¡ ì „íˆ¬ê°€ ì ì  ì¹˜ì—´í•´ì§„ë‹¤! ì–‘ì¸¡ ëª¨ë‘ í•œ ì¹˜ì˜ ì–‘ë³´ë„ ì—†ì´ ë§ì„œê³  ìˆë‹¤!",narrativeType:"narration"}),e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:`ğŸ“Š í˜„ì¬ ë³‘ë ¥: ì•„êµ° ${N.value.toLocaleString()}ëª… vs ì êµ° ${R.value.toLocaleString()}ëª…`,narrativeType:"narration"});else if(10===g){N.value,R.value;const a=N.value/(R.value||1);if(a>1.3){const a=["ğŸ”¥ ìš°ë¦¬ êµ°ì´ ìš°ì„¸í•˜ë‹¤! ì êµ°ì˜ ì‚¬ê¸°ê°€ ë–¨ì–´ì§€ê¸° ì‹œì‘í–ˆë‹¤!","ğŸ’ª ì•„êµ°ì˜ ê¸°ì„¸ê°€ í•˜ëŠ˜ì„ ì°Œë¥¸ë‹¤! ì ë“¤ì´ ë‘ë ¤ì›€ì— ë–¨ê³  ìˆë‹¤!","ğŸ¯ ì™„ë²½í•œ ì „ìˆ ì´ë‹¤! ì ì˜ ëŒ€í˜•ì´ ë¬´ë„ˆì§€ê¸° ì‹œì‘í–ˆë‹¤!","âš¡ ìŠ¹ê¸°ë¥¼ ì¡ì•˜ë‹¤! ì´ëŒ€ë¡œ ë°€ì–´ë¶™ì´ë©´ ìŠ¹ë¦¬í•  ìˆ˜ ìˆë‹¤!"];e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:a[Math.floor(Math.random()*a.length)],narrativeType:"narration"})}else if(a<.7){const a=["âš ï¸ ì „ì„¸ê°€ ë¶ˆë¦¬í•˜ë‹¤! ë°˜ê²©ì˜ ê¸°íšŒë¥¼ ë…¸ë ¤ì•¼ í•œë‹¤!","ğŸ˜° ì•„êµ°ì´ ë°€ë¦¬ê³  ìˆë‹¤! ì‚¬ê¸°ê°€ ë–¨ì–´ì§€ê³  ìˆë‹¤!","ğŸ’” ì´ëŒ€ë¡œëŠ” ìœ„í—˜í•˜ë‹¤! ë¬´ì–¸ê°€ ëŒíŒŒêµ¬ê°€ í•„ìš”í•˜ë‹¤!","ğŸš¨ ì ì˜ ê³µì„¸ê°€ ê±°ì„¸ë‹¤! ë°©ì–´ì„ ì„ ì¬ì •ë¹„í•´ì•¼ í•œë‹¤!"];e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:a[Math.floor(Math.random()*a.length)],narrativeType:"narration"})}else{const a=["âš”ï¸ íŒ½íŒ½í•œ ì ‘ì „ì´ ì´ì–´ì§„ë‹¤! ëˆ„ê°€ ë¨¼ì € ë¬´ë„ˆì§ˆ ê²ƒì¸ê°€!","âš–ï¸ ì–‘ìª½ ëª¨ë‘ ì¼ì§„ì¼í‡´ë¥¼ ê±°ë“­í•˜ê³  ìˆë‹¤! ê¸´ì¥ê°ì´ ê°ëˆë‹¤!","ğŸ”¥ ë§‰ìƒë§‰í•˜ì˜ ëŒ€ê²°! ì¡°ê¸ˆì˜ ì‹¤ìˆ˜ê°€ ìŠ¹ë¶€ë¥¼ ê°€ë¥¼ ê²ƒì´ë‹¤!","ğŸ’« ë°±ì¤‘ì§€ì„¸ë‹¤! ë‹¤ìŒ ìˆœê°„ì´ ìŠ¹íŒ¨ë¥¼ ê²°ì •ì§€ì„ ê²ƒì´ë‹¤!"];e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:a[Math.floor(Math.random()*a.length)],narrativeType:"narration"})}e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:`ğŸ“Š í˜„ì¬ ë³‘ë ¥: ì•„êµ° ${N.value.toLocaleString()}ëª… vs ì êµ° ${R.value.toLocaleString()}ëª…`,narrativeType:"narration"})}else 15===g&&(e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:"ğŸ’€ ì „íˆ¬ê°€ ë§‰ë°”ì§€ì— ì´ë¥´ë €ë‹¤! ì´ì œ ê³§ ìŠ¹ë¶€ê°€ ê²°ì •ëœë‹¤!",narrativeType:"narration"}),e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:`ğŸ“Š í˜„ì¬ ë³‘ë ¥: ì•„êµ° ${N.value.toLocaleString()}ëª… vs ì êµ° ${R.value.toLocaleString()}ëª…`,narrativeType:"narration"}));const t=g%2==1,s=t?_.value.attacker.generals:_.value.defender.generals;if(0===s.length)continue;const i=s[Math.floor(Math.random()*s.length)];if(!i.skills||0===i.skills.length)continue;const n=i.skills[Math.floor(Math.random()*i.skills.length)];let l=0;t?(r.value.forEach(e=>{e.value?.battleBonus&&(l+=e.value.battleBonus)}),o?.value?.attackBonus&&(l+=o.value.attackBonus),l+=j()):l-=F();const c=M.value.some(e=>"turn_skip"===e.type);let d=!1;if(!t&&c)d=!1,e.push({turn:g,generalName:i.name,action:n.name,success:!1,message:"",story:`ğŸš« ${i.name}ì´(ê°€) ê³µê²©ì„ ì‹œë„í–ˆìœ¼ë‚˜ ë¬´ë ¥í™”ë˜ì—ˆë‹¤! ëª¸ì´ êµ³ì–´ ì›€ì§ì¼ ìˆ˜ ì—†ë‹¤!`,narrativeType:"action"});else{const a=Math.min(95,n.successRate+l);d=100*Math.random()<a;const r=H(i,n,d);e.push({turn:g,generalName:i.name,action:n.name,success:d,message:"",story:r,narrativeType:"action"});const s=i.stats.power||50,o=(i.assignedSoldiers||100)/1e3,c=(n.effect?.value||100)/100,u=M.value.some(e=>"critical_strike"===e.type),m=u?2:1,p=d?1:.3,f=Math.floor(s*o*c*m*p*(1+l/100));if(t){const a=Math.min(f,R.value);R.value-=a,d?($.value+=1,e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:`âš”ï¸ ì êµ° ${a.toLocaleString()}ëª…ì´ ì“°ëŸ¬ì¡Œë‹¤! (ì”ì—¬ ë³‘ë ¥: ${R.value.toLocaleString()}ëª…)`,narrativeType:"narration"}),u&&(e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:"ğŸ’¥ ì¹˜ëª…íƒ€ ë°œë™! 2ë°°ì˜ í”¼í•´ë¥¼ ì…í˜”ë‹¤!",narrativeType:"narration"}),M.value=M.value.filter(e=>"critical_strike"!==e.type))):a>0&&e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:`ğŸ©¸ ê³µê²©ì´ ë¹—ë‚˜ê°”ì§€ë§Œ ì êµ° ${a.toLocaleString()}ëª…ì´ í¬ìƒë˜ì—ˆë‹¤. (ì”ì—¬ ë³‘ë ¥: ${R.value.toLocaleString()}ëª…)`,narrativeType:"narration"})}else{const a=Math.min(f,N.value);N.value-=a,d?(x.value+=1,e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:`ğŸ’” ì•„êµ° ${a.toLocaleString()}ëª…ì´ ì „ì‚¬í–ˆë‹¤! (ì”ì—¬ ë³‘ë ¥: ${N.value.toLocaleString()}ëª…)`,narrativeType:"narration"})):a>0&&e.push({turn:g,generalName:"",action:"",success:!0,message:"",story:`ğŸ›¡ï¸ ë°©ì–´ì— ì„±ê³µí–ˆì§€ë§Œ ì•„êµ° ${a.toLocaleString()}ëª…ì´ ë¶€ìƒë‹¹í–ˆë‹¤. (ì”ì—¬ ë³‘ë ¥: ${N.value.toLocaleString()}ëª…)`,narrativeType:"narration"})}if(N.value<=0||R.value<=0)break;if(Math.random()>.6){const a=L(0,0,d);e.push({turn:g,generalName:i.name,action:"",success:d,message:"",speaker:i.name,dialogue:a,narrativeType:"dialogue"})}}W()}const s=N.value>R.value?"victory":"defeat",i=_.value.attacker.generals.reduce((e,a)=>e+(a.assignedSoldiers||0),0),n=_.value.defender.generals.reduce((e,a)=>e+(a.assignedSoldiers||0),0),l=Math.floor(100*(1-N.value/i)),c=Math.floor(100*(1-R.value/n));"victory"===s?(e.push({turn:998,generalName:"",action:"",success:!0,message:"",story:"ğŸ† ê²°ì •ì ì¸ ìˆœê°„! ì êµ°ì˜ ë°©ì–´ì„ ì´ ë¬´ë„ˆì§„ë‹¤!",narrativeType:"narration"}),e.push({turn:998,generalName:"",action:"",success:!0,message:"",story:"ğŸ³ï¸ ì ì¥ì´ í›„í‡´ë¥¼ ëª…ë ¹í•œë‹¤! ì êµ°ì´ ì „ì¥ì—ì„œ ë„ë§ì¹˜ê¸° ì‹œì‘í–ˆë‹¤!",narrativeType:"narration"})):(e.push({turn:998,generalName:"",action:"",success:!0,message:"",story:"ğŸ’” ì•„êµ°ì˜ ì „ì„ ì´ ë¬´ë„ˆì§€ê³  ìˆë‹¤! ë” ì´ìƒ ë²„í‹¸ ìˆ˜ ì—†ë‹¤!",narrativeType:"narration"}),e.push({turn:998,generalName:"",action:"",success:!0,message:"",story:"ğŸ³ï¸ ë¶€ë“ì´í•˜ê²Œ í›„í‡´ ëª…ë ¹ì´ ë–¨ì–´ì§„ë‹¤... ì¬ì •ë¹„ê°€ í•„ìš”í•˜ë‹¤.",narrativeType:"narration"}));const d="victory"===s?`ğŸ‰ ì¹˜ì—´í•œ ì „íˆ¬ ëì— ${_.value.attacker.kingdomName}ì´(ê°€) ìŠ¹ë¦¬ë¥¼ ê±°ë¨¸ì¥ì—ˆë‹¤!\nğŸ“Š ì•„êµ° ì”ì—¬ë³‘ë ¥: ${N.value.toLocaleString()}ëª… (ì†ì‹¤ë¥  ${l}%) | ì êµ°: ${R.value.toLocaleString()}ëª… (ì†ì‹¤ë¥  ${c}%)`:`ğŸ˜” ${_.value.defender.kingdomName}ì˜ ë°©ì–´ì„ ì„ ëš«ì§€ ëª»í–ˆë‹¤.\nğŸ“Š ì•„êµ° ì”ì—¬ë³‘ë ¥: ${N.value.toLocaleString()}ëª… (ì†ì‹¤ë¥  ${l}%) | ì êµ°: ${R.value.toLocaleString()}ëª… (ì†ì‹¤ë¥  ${c}%)`;e.push({turn:999,generalName:"",action:"",success:!0,message:"",story:d,narrativeType:"narration"});const u=S.value.length;u>0&&e.push({turn:999,generalName:"",action:"",success:!0,message:"",story:`ğŸ“Š ì „íˆ¬ ì¤‘ ${u}ì¥ì˜ ì•¡í‹°ë¸Œ ì¹´ë“œê°€ ì„±ê³µì ìœ¼ë¡œ ë°œë™ë˜ì—ˆë‹¤.`,narrativeType:"narration"}),y(_.value,e)},z=async(e="normal",t,r="normal")=>{if(a.value.resources.soldiers<=0)return void i("ë³‘ë ¥ì´ ë¶€ì¡±í•©ë‹ˆë‹¤!","error");w.value=r,T.value="easy"===e||"normal"===e||"hard"===e||"veryhard"===e?e:"normal";let s=1;switch(e){case"easy":s=.7;break;case"normal":default:s=1;break;case"hard":s=1.4;break;case"veryhard":s=1.8}let n=0,l=0,c=0;g?.value&&g.value.length>0&&g.value.forEach(e=>{e.effect&&(n+=e.effect.attackBonus||0,l+=e.effect.defenseBonus||0,c+=e.effect.skillPowerBonus||0)});const d=50+Math.floor(.5*n),u=65+Math.floor(.3*c),m=[{id:"battle-commander",name:a.value.ruler||"ì‚¬ë ¹ê´€",title:"ì§€íœ˜ê´€",rarity:"common",stats:{power:d,intelligence:50,leadership:50},skills:[{id:"basic-attack",name:"ì „êµ° ëŒê²©",description:"ì „êµ°ì´ ì¼ì œíˆ ëŒê²©í•œë‹¤",successRate:Math.min(95,u),effect:{type:"damage",value:100+c}}],assignedSoldiers:a.value.resources.soldiers+Math.floor(a.value.resources.soldiers*l/100)}];if(o?.value?.military&&o.value.military>0){const e=m.map((e,a)=>0===a?{...e,assignedSoldiers:e.assignedSoldiers+o.value.military}:e);let t,i;if("empire"===r)t=ga.name,i=ga.generals;else{const e=1+Math.floor(3*Math.random());i=va(e).map(e=>({...e,assignedSoldiers:Math.floor(e.assignedSoldiers*s)}));const a=["ê²€ì€ ì„±ì±„","ë¶‰ì€ ìš”ìƒˆ","ì–¼ìŒ ì™•êµ­","ê·¸ë¦¼ì ì œêµ­","í™”ì—¼ì˜ ë•…","í­í’ì˜ ì„±","ì•…ë§ˆì˜ ì„±ì±„","ì²œë‘¥ì˜ ì™•êµ­","ë…ì‚¬ì˜ ì†Œêµ´","ì–´ë‘ ì˜ íƒ‘","ì² ë²½ ìš”ìƒˆ","í˜ˆë§¹ì˜ ë•…","ì£½ìŒì˜ ì„±","íŒŒê´´ì˜ ì „ë‹¹","ê´‘ë€ì˜ ì„±ì±„","ì”í˜¹í•œ ì œêµ­","ì•…ëª½ì˜ ì™•êµ­","í”¼ì˜ ì„±ì±„","ë³µìˆ˜ì˜ ë•…","ì ˆë§ì˜ ìš”ìƒˆ"];t=a[Math.floor(Math.random()*a.length)]}_.value={id:"1",attacker:{kingdomName:a.value.name,generals:e},defender:{kingdomName:t,generals:i},log:[],result:void 0}}else{let e,t;if("empire"===r)e=ga.name,t=ga.generals;else{const a=1+Math.floor(3*Math.random());t=va(a).map(e=>({...e,assignedSoldiers:Math.floor(e.assignedSoldiers*s)}));const r=["ê²€ì€ ì„±ì±„","ë¶‰ì€ ìš”ìƒˆ","ì–¼ìŒ ì™•êµ­","ê·¸ë¦¼ì ì œêµ­","í™”ì—¼ì˜ ë•…","í­í’ì˜ ì„±","ì•…ë§ˆì˜ ì„±ì±„","ì²œë‘¥ì˜ ì™•êµ­","ë…ì‚¬ì˜ ì†Œêµ´","ì–´ë‘ ì˜ íƒ‘","ì² ë²½ ìš”ìƒˆ","í˜ˆë§¹ì˜ ë•…","ì£½ìŒì˜ ì„±","íŒŒê´´ì˜ ì „ë‹¹","ê´‘ë€ì˜ ì„±ì±„","ì”í˜¹í•œ ì œêµ­","ì•…ëª½ì˜ ì™•êµ­","í”¼ì˜ ì„±ì±„","ë³µìˆ˜ì˜ ë•…","ì ˆë§ì˜ ìš”ìƒˆ"];e=r[Math.floor(Math.random()*r.length)]}_.value={id:"1",attacker:{kingdomName:a.value.name,generals:m},defender:{kingdomName:e,generals:t},log:[],result:void 0}}await G()},K=e=>{if("victory"===e){let e=300,t=200;switch(T.value){case"easy":e=300,t=200;break;case"normal":e=500,t=300;break;case"hard":e=800,t=500;break;case"veryhard":e=1200,t=700}a.value.resources.gold+=e,a.value.resources.food+=t,"empire"===w.value?(s.value.defeated=!0,i("ğŸ‰ ì•„ì¹´ìƒ¤ ëŒ€ì œêµ­ì„ ë¬´ë„ˆëœ¨ë ¸ìŠµë‹ˆë‹¤! ë‹¹ì‹ ì˜ ì™•êµ­ì´ ìŠ¹ë¦¬í–ˆìŠµë‹ˆë‹¤! ğŸ‰","success"),c&&setTimeout(()=>{c.value=!0},2e3)):i(`ì „íˆ¬ì—ì„œ ìŠ¹ë¦¬í–ˆìŠµë‹ˆë‹¤! (ë³´ìƒ: ê¸ˆ +${e}, ì‹ëŸ‰ +${t})`,"success")}else"empire"===w.value?setTimeout(()=>{i("ğŸ’€ ì œêµ­êµ°ì„ ë§‰ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì™•êµ­ì´ ë©¸ë§í–ˆìŠµë‹ˆë‹¤...","error")},1e3):setTimeout(()=>{i("ì „íˆ¬ì—ì„œ íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤. ë³‘ë ¥ì„ ìƒì—ˆìŠµë‹ˆë‹¤.","error")},1e3)};return{currentBattle:_,battleType:k,currentBattleMode:w,battleRecords:B,battleLogContainer:C,isScrolling:A,usedActiveCards:S,activeEffects:M,attackerScore:$,defenderScore:x,attackerTroops:N,defenderTroops:R,currentTurn:D,isBattleRunning:p,isPaused:f,cardSelectionTime:E,loadBattleRecords:()=>{{const a=localStorage.getItem("battleRecords");if(a)try{B.value=JSON.parse(a)}catch(e){B.value=[]}}},saveBattleRecord:O,selectBattleType:(e,t="normal")=>{k.value="pve",a.value.resources.soldiers<=0?i("ë³‘ë ¥ì´ ë¶€ì¡±í•©ë‹ˆë‹¤!","error"):z("normal",0,t)},startStoryBattle:z,generateCompleteBattle:G,startScrollAnimation:()=>{A.value=!0;const e=document.querySelector(".story-battle-log");if(!e)return;e.scrollTop=e.scrollHeight;const a=Date.now(),t=e.scrollHeight,r=()=>{const s=Date.now()-a,i=Math.min(s/2e4,1),o=1-Math.pow(1-i,3);e.scrollTop=t-t*o,i<1?requestAnimationFrame(r):A.value=!1};requestAnimationFrame(r)},generateActionNarration:H,generateDialogue:L,getTextClass:e=>{if("narration"===e.narrativeType)return"text-narration";if(!_.value)return"text-narration";const a=_.value.attacker.generals.some(a=>a.name===e.generalName||a.name===e.speaker);return"dialogue"===e.narrativeType?a?"text-ally-dialogue":"text-enemy-dialogue":a?"text-ally":"text-enemy"},closeBattle:()=>{v(),_.value&&O(_.value);const e=(_.value?.attacker.generals.reduce((e,a)=>e+(a.assignedSoldiers||0),0)||a.value.resources.soldiers)-N.value;a.value.resources.soldiers=Math.max(0,a.value.resources.soldiers-e),e>0&&i(`ì „íˆ¬ì—ì„œ ${e.toLocaleString()}ëª…ì˜ ë³‘ë ¥ì„ ìƒì—ˆìŠµë‹ˆë‹¤.`,"error"),_.value=null},handleBattleEnd:K,useActiveCard:e=>{if(!_.value)return;if(S.value.includes(e.id))return void i("ì´ë¯¸ ì‚¬ìš©í•œ ì¹´ë“œì…ë‹ˆë‹¤!","error");if(_.value.result)return void i("ì „íˆ¬ê°€ ì´ë¯¸ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!","error");if(!p.value)return void i("ì „íˆ¬ê°€ ì§„í–‰ ì¤‘ì´ ì•„ë‹™ë‹ˆë‹¤!","error");const a=J(e),t=100*Math.random()<a;S.value.push(e.id);const r=U(e,t);_.value&&(_.value.log.push(...r),setTimeout(()=>{const e=document.querySelector(".overflow-y-auto");e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},100)),t?i(`${e.name} ë°œë™ ì„±ê³µ!`,"success"):i(`${e.name} ë°œë™ ì‹¤íŒ¨...`,"error");m?.value&&S.value.length>=m.value.length&&(i("ëª¨ë“  ì¹´ë“œë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤! ì „íˆ¬ë¥¼ ì¬ê°œí•©ë‹ˆë‹¤.","info"),P(),f.value&&_.value&&b(_.value))},calculateActiveEffectBonus:j,calculateEnemyDebuff:F,updateActiveEffects:W,stopBattle:v,stopCardSelectionTimer:P,manualPauseBattle:()=>{p.value&&!f.value&&h()},manualResumeBattle:()=>{f.value&&_.value&&(P(),b(_.value))}}},Ma=e=>{const{kingdom:a,playerPassiveCards:t,showPassiveCardSelection:r,availablePassiveCards:s,permanentEffects:i,reincarnationData:o,showReincarnationModal:n,showNotification:c,calculateProduction:d,synergyDailyEffects:u,godGameState:g}=e,m=l(null),p=l(null),f=()=>{m.value=null},y=()=>{p.value=null};return{currentEvent:m,currentCrossroad:p,drawEventCard:()=>{a.value.day++;const e={food:0,gold:0,soldiers:0,morale:0,population:0};if(t.value.filter(e=>"daily"===e.trigger).forEach(t=>{if(t.effect.gold&&(a.value.resources.gold=Math.max(0,a.value.resources.gold+t.effect.gold),e.gold+=t.effect.gold),t.effect.food&&(a.value.resources.food=Math.max(0,a.value.resources.food+t.effect.food),e.food+=t.effect.food),t.effect.morale){const r=a.value.resources.morale;a.value.resources.morale=Math.min(100,Math.max(0,a.value.resources.morale+t.effect.morale)),e.morale+=a.value.resources.morale-r}t.effect.military&&(a.value.resources.soldiers=Math.max(0,a.value.resources.soldiers+t.effect.military),e.soldiers+=t.effect.military)}),u?.value){a.value.resources.gold=Math.max(0,a.value.resources.gold+u.value.gold),e.gold+=u.value.gold,a.value.resources.food=Math.max(0,a.value.resources.food+u.value.food),e.food+=u.value.food;const t=a.value.resources.morale;a.value.resources.morale=Math.min(100,Math.max(0,a.value.resources.morale+u.value.morale)),e.morale+=a.value.resources.morale-t,a.value.resources.population=Math.max(0,a.value.resources.population+u.value.population),e.population+=u.value.population}g?.value?.selectedCommandments&&g.value.selectedCommandments.length>0&&g.value.selectedCommandments.forEach(t=>{if(0!==t.effects.morale){const r=a.value.resources.morale;a.value.resources.morale=Math.min(100,Math.max(0,a.value.resources.morale+t.effects.morale)),e.morale+=a.value.resources.morale-r}0!==t.effects.gold&&(a.value.resources.gold=Math.max(0,a.value.resources.gold+t.effects.gold),e.gold+=t.effects.gold),0!==t.effects.military&&(a.value.resources.soldiers=Math.max(0,a.value.resources.soldiers+t.effects.military),e.soldiers+=t.effects.military),0!==t.effects.food&&(a.value.resources.food=Math.max(0,a.value.resources.food+t.effects.food),e.food+=t.effects.food),0!==t.effects.population&&(a.value.resources.population=Math.max(0,a.value.resources.population+t.effects.population),e.population+=t.effects.population)});const{foodProduction:r,goldProduction:s,soldierUpkeep:i}=d();a.value.resources.food=Math.max(0,a.value.resources.food+r),a.value.resources.gold=Math.max(0,a.value.resources.gold+s),e.food+=r,e.gold+=s;const l=a.value.resources.food-i;if(l>=0)a.value.resources.food=l,e.food-=i;else{const t=a.value.resources.food,r=Math.floor(t),s=a.value.resources.soldiers-r;s>0&&(a.value.resources.soldiers=Math.max(0,r),a.value.resources.food=0,e.food-=t,e.soldiers-=s,c(`âš ï¸ ì‹ëŸ‰ ë¶€ì¡±! ë³‘ì‚¬ ${s}ëª…ì´ íƒˆì˜í–ˆìŠµë‹ˆë‹¤!`,"error"));const i=a.value.resources.morale;a.value.resources.morale=Math.max(0,a.value.resources.morale-10),e.morale+=a.value.resources.morale-i}const p=[];if(0!==e.food&&p.push(`ì‹ëŸ‰ ${e.food>0?"+":""}${e.food}`),0!==e.gold&&p.push(`ê¸ˆ ${e.gold>0?"+":""}${e.gold}`),0!==e.soldiers&&p.push(`ë³‘ë ¥ ${e.soldiers>0?"+":""}${e.soldiers}`),0!==e.morale&&p.push(`ë¯¼ì‹¬ ${e.morale>0?"+":""}${e.morale}`),0!==e.population&&p.push(`ì¸êµ¬ ${e.population>0?"+":""}${e.population}`),p.length>0&&c(`ğŸ“Š ë³€ë™ì‚¬í•­: ${p.join(", ")}`,"success"),100===a.value.day)return o.value.totalDaysPlayed+=a.value.day,a.value.day>o.value.highestDay&&(o.value.highestDay=a.value.day),void(n.value=!0);const f=da[Math.floor(Math.random()*da.length)],y=JSON.parse(JSON.stringify(f));m.value=y},selectPassiveCard:e=>{t.value.some(a=>a.id===e.id)?c("ì´ë¯¸ ë³´ìœ í•œ ì¹´ë“œì…ë‹ˆë‹¤!","error"):t.value.length>=15?c("ìµœëŒ€ 15ì¥ê¹Œì§€ë§Œ ë³´ìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!","error"):(t.value.push(e),c(`${e.name} ì¹´ë“œë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!`,"success"),r.value=!1,s.value=[])},applyPassiveEffects:e=>{t.value.filter(a=>a.trigger===e).forEach(e=>{e.effect.gold&&(a.value.resources.gold=Math.max(0,a.value.resources.gold+e.effect.gold)),e.effect.food&&(a.value.resources.food=Math.max(0,a.value.resources.food+e.effect.food)),e.effect.morale&&(a.value.resources.morale=Math.min(100,Math.max(0,a.value.resources.morale+e.effect.morale))),e.effect.military&&(a.value.resources.soldiers=Math.max(0,a.value.resources.soldiers+e.effect.military))})},getRarityLabel:e=>({common:"ì¼ë°˜",rare:"í¬ê·€",epic:"ì˜ì›…",legendary:"ì „ì„¤"}[e]||e),getTriggerLabel:e=>({daily:"ë§¤ì¼",battle_start:"ì „íˆ¬ ì‹œì‘",battle_win:"ì „íˆ¬ ìŠ¹ë¦¬",battle_lose:"ì „íˆ¬ íŒ¨ë°°",recruit:"ë³‘ë ¥ ëª¨ì§‘"}[e]||e),canAffordChoice:e=>!e.cost||!(e.cost.food&&a.value.resources.food<e.cost.food)&&(!(e.cost.gold&&a.value.resources.gold<e.cost.gold)&&!(e.cost.soldiers&&a.value.resources.soldiers<e.cost.soldiers)),selectChoice:e=>{e.cost&&(e.cost.food&&(a.value.resources.food=Math.max(0,a.value.resources.food-e.cost.food)),e.cost.gold&&(a.value.resources.gold=Math.max(0,a.value.resources.gold-e.cost.gold)),e.cost.soldiers&&(a.value.resources.soldiers=Math.max(0,a.value.resources.soldiers-e.cost.soldiers))),e.reward&&(e.reward.food&&(a.value.resources.food+=e.reward.food),e.reward.gold&&(a.value.resources.gold+=e.reward.gold),e.reward.soldiers&&(a.value.resources.soldiers=Math.max(0,a.value.resources.soldiers+e.reward.soldiers)),e.reward.morale&&(a.value.resources.morale+=e.reward.morale,a.value.resources.morale=Math.max(0,Math.min(100,a.value.resources.morale)))),f()},closeEvent:f,selectCrossroadChoice:e=>{i.value.push(e.effect),e.effect.value?.moraleBonus&&(a.value.resources.morale+=e.effect.value.moraleBonus,a.value.resources.morale=Math.max(0,Math.min(100,a.value.resources.morale))),c(`${e.effect.name} íš¨ê³¼ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!`,"success"),y()},closeCrossroad:y}},$a=[{id:"trade-1",name:"ìƒì¸ ê¸¸ë“œ",description:"ë§¤ì¼ ê¸ˆ +100",icon:"ğŸ’°",image:"/images/cards/trade-1.png",tag:"trade",effect:{gold:100}},{id:"trade-2",name:"ë¬´ì—­ë¡œ ê°œì²™",description:"ë§¤ì¼ ê¸ˆ +150, ì‹ëŸ‰ +50",icon:"ğŸš¢",image:"/images/cards/trade-2.png",tag:"trade",effect:{gold:150,food:50}},{id:"trade-3",name:"ì‹¤í¬ë¡œë“œ",description:"ë§¤ì¼ ê¸ˆ +200",icon:"ğŸª",image:"/images/cards/trade-3.png",tag:"trade",effect:{gold:200}},{id:"military-1",name:"ì •ì˜ˆ ê·¼ìœ„ëŒ€",description:"ì „íˆ¬ ì‹œì‘ ì‹œ ë³‘ë ¥ +200",icon:"ğŸ›¡ï¸",image:"/images/cards/military-1.png",tag:"military",effect:{military:200}},{id:"military-2",name:"ì‚¬ê´€í•™êµ",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +15%",icon:"ğŸ“",image:"/images/cards/military-2.png",tag:"military",effect:{attackBonus:15}},{id:"military-3",name:"ì „ìŸì˜ ì‹ ",description:"ì „íˆ¬ ì‹œ ê³µê²©ë ¥ +20%, ë°©ì–´ë ¥ +10%",icon:"âš¡",image:"/images/cards/military-3.png",tag:"military",effect:{attackBonus:20,defenseBonus:10}},{id:"agriculture-1",name:"í’ìš”ì˜ ì¶•ë³µ",description:"ë§¤ì¼ ì‹ëŸ‰ +150",icon:"ğŸŒ¾",image:"/images/cards/agriculture-1.png",tag:"agriculture",effect:{food:150}},{id:"agriculture-2",name:"ë¹„ì˜¥í•œ ë•…",description:"ë§¤ì¼ ì‹ëŸ‰ +200, ì¸êµ¬ +20",icon:"ğŸŒ»",image:"/images/cards/agriculture-2.png",tag:"agriculture",effect:{food:200,population:20}},{id:"culture-1",name:"ì¶•ì œì˜ ì „í†µ",description:"ë§¤ì¼ ë¯¼ì‹¬ +3",icon:"ğŸ­",image:"/images/cards/culture-1.png",tag:"culture",effect:{morale:3}},{id:"culture-2",name:"ëŒ€ê·¹ì¥",description:"ë§¤ì¼ ë¯¼ì‹¬ +4, ê¸ˆ +100",icon:"ğŸª",image:"/images/cards/culture-2.png",tag:"culture",effect:{morale:4,gold:100}}],xa=[{id:"trade-synergy-3",name:"ë¬´ì—­ ì œêµ­",description:"ë¬´ì—­ ì¹´ë“œ 3ê°œ: ë§¤ì¼ ì¶”ê°€ ê¸ˆ +300, ë¯¼ì‹¬ +3",icon:"ğŸ‘‘",tag:"trade",requiredCards:3,effect:{gold:300,morale:3}},{id:"military-synergy-3",name:"ë¬´ì ì˜ êµ°ë‹¨",description:"êµ°ì‚¬ ì¹´ë“œ 3ê°œ: ì „íˆ¬ ì‹œ ì¶”ê°€ ê³µê²©ë ¥ +25%, ë°©ì–´ë ¥ +15%",icon:"ğŸ†",tag:"military",requiredCards:3,effect:{attackBonus:25,defenseBonus:15}},{id:"agriculture-synergy-2",name:"í’ë…„ì˜ ì¶•ë³µ",description:"ë†ì—… ì¹´ë“œ 2ê°œ: ë§¤ì¼ ì¶”ê°€ ì‹ëŸ‰ +200, ê¸ˆ +100",icon:"ğŸŒ¾",tag:"agriculture",requiredCards:2,effect:{food:200,gold:100}},{id:"culture-synergy-2",name:"ë¬¸í™” ë¶€í¥",description:"ë¬¸í™” ì¹´ë“œ 2ê°œ: ë§¤ì¼ ì¶”ê°€ ë¯¼ì‹¬ +3, ê¸ˆ +150",icon:"âœ¨",tag:"culture",requiredCards:2,effect:{morale:3,gold:150}}];const Na=()=>{const e=l([]),a=l(!1),t=l([]),r=c(()=>function(e){const a={trade:0,military:0,agriculture:0,culture:0};e.forEach(e=>{a[e.tag]++});const t=[];return xa.forEach(e=>{a[e.tag]>=e.requiredCards&&t.push(e)}),t}(e.value)),s=c(()=>function(e,a){const t=e.reduce((e,a)=>({gold:(e.gold||0)+(a.effect.gold||0),food:(e.food||0)+(a.effect.food||0),morale:(e.morale||0)+(a.effect.morale||0),military:(e.military||0)+(a.effect.military||0),population:(e.population||0)+(a.effect.population||0),attackBonus:(e.attackBonus||0)+(a.effect.attackBonus||0),defenseBonus:(e.defenseBonus||0)+(a.effect.defenseBonus||0)}),{gold:0,food:0,morale:0,military:0,population:0,attackBonus:0,defenseBonus:0}),r=a.reduce((e,a)=>({gold:(e.gold||0)+(a.effect.gold||0),food:(e.food||0)+(a.effect.food||0),morale:(e.morale||0)+(a.effect.morale||0),military:(e.military||0)+(a.effect.military||0),population:(e.population||0)+(a.effect.population||0),attackBonus:(e.attackBonus||0)+(a.effect.attackBonus||0),defenseBonus:(e.defenseBonus||0)+(a.effect.defenseBonus||0)}),{gold:0,food:0,morale:0,military:0,population:0,attackBonus:0,defenseBonus:0});return{cardEffects:t,synergyEffects:r,totalEffects:{gold:t.gold+r.gold,food:t.food+r.food,morale:t.morale+r.morale,military:t.military+r.military,population:t.population+r.population,attackBonus:t.attackBonus+r.attackBonus,defenseBonus:t.defenseBonus+r.defenseBonus}}}(e.value,r.value)),i=c(()=>({gold:s.value.totalEffects.gold,food:s.value.totalEffects.food,morale:s.value.totalEffects.morale,population:s.value.totalEffects.population})),o=c(()=>({military:s.value.totalEffects.military,attackBonus:s.value.totalEffects.attackBonus,defenseBonus:s.value.totalEffects.defenseBonus}));return{playerCards:e,showCardSelection:a,availableCards:t,activeSynergies:r,totalEffects:s,dailyEffects:i,battleEffects:o,drawCards:()=>{t.value=function(e=3){const a=[],t=[...$a];for(let r=0;r<e&&t.length>0;r++){const e=Math.floor(Math.random()*t.length);a.push(t[e]),t.splice(e,1)}return a}(3),a.value=!0},selectCard:r=>{e.value.push(r),a.value=!1,t.value=[]},removeCard:a=>{const t=e.value.findIndex(e=>e.id===a);t>-1&&e.value.splice(t,1)},resetCards:()=>{e.value=[]},applyDailyEffects:e=>{const a=i.value;return{gold:e.gold+a.gold,food:e.food+a.food,morale:Math.min(100,e.morale+a.morale)}},applyBattleEffects:e=>{const a=o.value;return{military:e+a.military,attackMultiplier:1+a.attackBonus/100,defenseMultiplier:1+a.defenseBonus/100}}}},Ra={start:{icon:"ğŸšª",name:"ì…êµ¬",description:"ëª¨í—˜ì´ ì‹œì‘ë˜ëŠ” ê³³",color:"slate"},battle:{icon:"âš”ï¸",name:"ì „íˆ¬",description:"ì ê³¼ì˜ ì „íˆ¬",color:"red"},elite:{icon:"ğŸ”¥",name:"ì—˜ë¦¬íŠ¸",description:"ê°•ë ¥í•œ ì ê³¼ì˜ ì „íˆ¬",color:"orange"},boss:{icon:"ğŸ‘‘",name:"ë³´ìŠ¤",description:"ìµœì¢… ê´€ë¬¸",color:"purple"},event:{icon:"â“",name:"ì´ë²¤íŠ¸",description:"ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚ ê¹Œ?",color:"blue"},shop:{icon:"ğŸª",name:"ìƒì ",description:"ë¬¼ê±´ì„ ì‚¬ê³ íŒ” ìˆ˜ ìˆëŠ” ê³³",color:"yellow"},rest:{icon:"ğŸ•ï¸",name:"íœ´ì‹ì²˜",description:"íšŒë³µí•˜ê±°ë‚˜ ê°•í™”í•  ìˆ˜ ìˆëŠ” ê³³",color:"green"},treasure:{icon:"ğŸ’",name:"ë³´ë¬¼",description:"ê·€ì¤‘í•œ ë³´ìƒì„ ì–»ì„ ìˆ˜ ìˆëŠ” ê³³",color:"cyan"}},Da=[{name:"ì‚°ì ë‹¨",basePower:300,baseHealth:800,type:"normal"},{name:"ìš©ë³‘ ë¶€ëŒ€",basePower:350,baseHealth:900,type:"normal"},{name:"ë°˜ë€êµ°",basePower:400,baseHealth:1e3,type:"normal"},{name:"ì•¼ë§Œì¡±",basePower:380,baseHealth:950,type:"normal"},{name:"ë„ì  ì—°í•©",basePower:420,baseHealth:1100,type:"normal"},{name:"í‘ê¸°ì‚¬ë‹¨",basePower:600,baseHealth:1500,type:"elite"},{name:"ë“œë˜ê³¤ ê¸°ì‚¬",basePower:650,baseHealth:1600,type:"elite"},{name:"ì•”ì‚´ì ê¸¸ë“œ",basePower:700,baseHealth:1400,type:"elite"},{name:"ê³ ëŒ€ ìš©",basePower:1e3,baseHealth:3e3,type:"boss"},{name:"ë§ˆì™•",basePower:1200,baseHealth:3500,type:"boss"},{name:"íƒ€ë½í•œ ì˜ì›…",basePower:1100,baseHealth:3200,type:"boss"}],Ea=(e,a)=>{const t=l({active:!1,currentNodeId:null,nodes:[],depth:0,startingResources:{soldiers:0,gold:0,food:0},accumulatedRewards:{gold:0,food:0,soldiers:0,cards:[]},visitedNodes:[]}),r=(e,a)=>{const t=Da.filter(a=>a.type===("battle"===e?"normal":e)),r=t[Math.floor(Math.random()*t.length)],s=1+.2*a,i=Math.floor(r.basePower*s),o=Math.floor(r.baseHealth*s),n="boss"===e?1e3:"elite"===e?500:300,l="boss"===e?500:"elite"===e?300:200,c={gold:Math.floor(n*s),food:Math.floor(l*s),cards:oa("boss"===e?3:"elite"===e?2:1)};return{name:r.name,power:i,health:o,rewards:c}},s=c(()=>t.value.currentNodeId&&t.value.nodes.find(e=>e.id===t.value.currentNodeId)||null),i=c(()=>s.value?t.value.nodes.filter(e=>s.value.connections.includes(e.id)&&"available"===e.status):[]);return{adventureState:t,currentNode:s,availableNodes:i,startAdventure:()=>{t.value.startingResources={soldiers:e.soldiers,gold:e.gold,food:e.food};const s=(()=>{const e=[],a=[[{type:"start",x:.5}],[{type:"battle",x:.125},{type:"event",x:.375},{type:"shop",x:.625},{type:"rest",x:.875}],[{type:"battle",x:.125},{type:"elite",x:.375},{type:"treasure",x:.625},{type:"event",x:.875}],[{type:"battle",x:.125},{type:"shop",x:.375},{type:"battle",x:.625},{type:"rest",x:.875}],[{type:"event",x:.125},{type:"battle",x:.375},{type:"treasure",x:.625},{type:"elite",x:.875}],[{type:"battle",x:.25},{type:"elite",x:.5},{type:"shop",x:.75}],[{type:"boss",x:.5}]];let t=0;const s=[];return a.forEach((i,o)=>{s.push(t);const n=o/(a.length-1);i.forEach(a=>{const s={id:`node_${t}`,type:a.type,status:0===t?"available":"locked",position:{x:a.x,y:n},connections:[],completed:!1};if("battle"===a.type||"elite"===a.type||"boss"===a.type){const e=r(a.type,o);s.enemy=e}e.push(s),t++})}),a.forEach((t,r)=>{if(r>=a.length-1)return;const i=s[r],o=s[r+1],n=a[r+1];t.forEach((a,t)=>{const r=e[i+t],s=n.map((e,a)=>({idx:a,x:e.x})).sort((e,a)=>e.x-a.x),l=s.reduce((e,a,t)=>Math.abs(a.x-r.position.x)<Math.abs(s[e].x-r.position.x)?t:e,0),c=[];l>0&&c.push(l-1),c.push(l),l<s.length-1&&c.push(l+1),c.forEach(a=>{const t=s[a].idx,i=o+t;r.connections.push(e[i].id)})})}),e})();t.value.nodes=s,t.value.active=!0,t.value.depth=0,t.value.currentNodeId=null,t.value.visitedNodes=[],t.value.accumulatedRewards={gold:0,food:0,soldiers:0,cards:[]},a("ëª¨í—˜ì„ ì‹œì‘í•©ë‹ˆë‹¤! ì‹œì‘ ì§€ì ì„ ì„ íƒí•˜ì„¸ìš”.","info")},moveToNode:e=>{const a=t.value.nodes.find(a=>a.id===e);if(!a)return;const r=a.position.y;t.value.nodes.forEach(a=>{a.position.y===r&&"available"===a.status&&a.id!==e&&(a.status="locked")});const s=t.value.nodes.find(e=>e.id===t.value.currentNodeId);s&&(s.status="completed",s.completed=!0),a.status="current",t.value.currentNodeId=e,t.value.visitedNodes.push(e),t.value.depth++,a.connections.forEach(e=>{const a=t.value.nodes.find(a=>a.id===e);a&&"locked"===a.status&&(a.status="available")})},completeNode:e=>{t.value.accumulatedRewards.gold+=e.gold,t.value.accumulatedRewards.food+=e.food,e.cards&&t.value.accumulatedRewards.cards.push(...e.cards)},completeAdventure:()=>{t.value.result="victory",e.gold+=t.value.accumulatedRewards.gold,e.food+=t.value.accumulatedRewards.food,a(`ëª¨í—˜ ì™„ë£Œ! ê¸ˆ +${t.value.accumulatedRewards.gold}, ì‹ëŸ‰ +${t.value.accumulatedRewards.food}`,"success"),t.value.active=!1},retreatAdventure:()=>{t.value.result="retreat";const r=Math.floor(.5*t.value.accumulatedRewards.gold),s=Math.floor(.5*t.value.accumulatedRewards.food);e.gold+=r,e.food+=s,a(`ëª¨í—˜ í¬ê¸°... ê¸ˆ +${r}, ì‹ëŸ‰ +${s} (50%)`,"info"),t.value.active=!1},failAdventure:()=>{t.value.result="defeat",e.soldiers=Math.floor(.7*e.soldiers),a("ëª¨í—˜ ì‹¤íŒ¨... ë³‘ë ¥ 30% ì†ì‹¤","error"),t.value.active=!1},NODE_INFO:Ra}},qa=[{id:"active_quick_strike",name:"ì‹ ì†í•œ ì¼ê²©",description:"ë¹ ë¥¸ ì†ë„ë¡œ ì ì—ê²Œ ì¤‘ê°„ ë°ë¯¸ì§€ë¥¼ ì…í™ë‹ˆë‹¤",icon:"âš¡",image:"/cards/quick_strike.png",rarity:"common",effectType:"instant_damage",power:20,battleDescription:"ì ì—ê²Œ 20ì˜ ì¦‰ì‹œ í”¼í•´ë¥¼ ì…í™ë‹ˆë‹¤"},{id:"active_minor_heal",name:"ì‘ê¸‰ ì¹˜ë£Œ",description:"ì•„êµ°ì˜ ë¶€ìƒì„ ì¹˜ë£Œí•˜ì—¬ ì „ì—´ì„ ì •ë¹„í•©ë‹ˆë‹¤",icon:"ğŸ’Š",image:"/cards/minor_heal.png",rarity:"common",effectType:"heal",power:15,battleDescription:"ì•„êµ° ë³‘ë ¥ì´ 15% íšŒë³µë©ë‹ˆë‹¤"},{id:"active_inspire",name:"ì‚¬ê¸° ì§„ì‘",description:"ì•„êµ°ì˜ ì‚¬ê¸°ë¥¼ ë†’ì—¬ ì „íˆ¬ë ¥ì„ ìƒìŠ¹ì‹œí‚µë‹ˆë‹¤",icon:"ğŸ“£",image:"/cards/inspire.png",rarity:"common",effectType:"morale_boost",power:15,duration:2,battleDescription:"2í„´ ë™ì•ˆ ì•„êµ° ê³µê²© ì„±ê³µë¥  +15%"},{id:"active_power_strike",name:"ê°•íƒ€",description:"ê°•ë ¥í•œ ì¼ê²©ìœ¼ë¡œ ì ì—ê²Œ í° í”¼í•´ë¥¼ ì…í™ë‹ˆë‹¤",icon:"ğŸ’¥",image:"/cards/power_strike.png",rarity:"common",effectType:"instant_damage",power:30,battleDescription:"ì ì—ê²Œ 30ì˜ ì¦‰ì‹œ í”¼í•´ë¥¼ ì…í™ë‹ˆë‹¤"},{id:"active_shield_wall",name:"ë°©íŒ¨ì˜ ì¥ë²½",description:"ë“ ë“ í•œ ë°©ì–´ë§‰ì„ í˜•ì„±í•˜ì—¬ ì ì˜ ê³µê²©ì„ ë§‰ìŠµë‹ˆë‹¤",icon:"ğŸ›¡ï¸",image:"/cards/shield_wall.png",rarity:"rare",effectType:"defense_boost",power:30,duration:2,battleDescription:"2í„´ ë™ì•ˆ ì•„êµ° ë°©ì–´ë ¥ +30%"},{id:"active_war_cry",name:"ì „ìŸì˜ í•¨ì„±",description:"ê°•ë ¥í•œ í•¨ì„±ìœ¼ë¡œ ì•„êµ°ì„ ê³ ë¬´í•˜ê³  ì ì„ ìœ„ì¶•ì‹œí‚µë‹ˆë‹¤",icon:"ğŸ”Š",image:"/cards/war_cry.png",rarity:"rare",effectType:"power_boost",power:25,duration:2,battleDescription:"2í„´ ë™ì•ˆ ì•„êµ° ê³µê²©ë ¥ +25%"},{id:"active_devastating_blow",name:"íŒŒë©¸ì˜ ì¼ê²©",description:"ì¹˜ëª…ì ì¸ ê³µê²©ìœ¼ë¡œ ì ì—ê²Œ ë§‰ëŒ€í•œ í”¼í•´ë¥¼ ì…í™ë‹ˆë‹¤",icon:"âš”ï¸",image:"/cards/devastating_blow.png",rarity:"rare",effectType:"instant_damage",power:45,battleDescription:"ì ì—ê²Œ 45ì˜ ì¹˜ëª…ì ì¸ í”¼í•´ë¥¼ ì…í™ë‹ˆë‹¤"},{id:"active_tactical_retreat",name:"ì „ìˆ ì  í›„í‡´",description:"ì¼ì‹œì ìœ¼ë¡œ í›„í‡´í•˜ì—¬ ì „ì—´ì„ ì¬ì •ë¹„í•©ë‹ˆë‹¤",icon:"ğŸ”„",image:"/cards/tactical_retreat.png",rarity:"rare",effectType:"heal",power:25,battleDescription:"ì•„êµ° ë³‘ë ¥ì´ 25% íšŒë³µë©ë‹ˆë‹¤"},{id:"active_smoke_bomb",name:"ì—°ë§‰íƒ„",description:"ì—°ë§‰ì„ í¼ì³ ì ì˜ ì‹œì•¼ë¥¼ ê°€ë¦¬ê³  ê³µê²©ì„ íšŒí”¼í•©ë‹ˆë‹¤",icon:"ğŸ’¨",image:"/cards/smoke_bomb.png",rarity:"rare",effectType:"turn_skip",power:1,battleDescription:"ì ì˜ ë‹¤ìŒ 1í„´ì„ ë¬´íš¨í™”í•©ë‹ˆë‹¤"},{id:"active_berserker_rage",name:"ê´‘ì „ì‚¬ì˜ ë¶„ë…¸",description:"ê·¹í•œì˜ ë¶„ë…¸ë¡œ ì••ë„ì ì¸ ì „íˆ¬ë ¥ì„ ë°œíœ˜í•©ë‹ˆë‹¤",icon:"ğŸ˜¤",image:"/cards/berserker_rage.png",rarity:"epic",effectType:"power_boost",power:40,duration:3,battleDescription:"3í„´ ë™ì•ˆ ì•„êµ° ê³µê²©ë ¥ +40%"},{id:"active_divine_shield",name:"ì‹ ì„±í•œ ë°©íŒ¨",description:"ì‹ ì˜ ê°€í˜¸ë¥¼ ë°›ì•„ ì ˆëŒ€ ë°©ì–´ë¥¼ í¼ì¹©ë‹ˆë‹¤",icon:"âœ¨",image:"/cards/divine_shield.png",rarity:"epic",effectType:"defense_boost",power:50,duration:3,battleDescription:"3í„´ ë™ì•ˆ ì•„êµ° ë°©ì–´ë ¥ +50%"},{id:"active_thunderbolt",name:"ì²œë‘¥ì˜ ì¼ê²©",description:"í•˜ëŠ˜ì˜ ì²œë‘¥ì„ ì†Œí™˜í•˜ì—¬ ì ì„ ê°•íƒ€í•©ë‹ˆë‹¤",icon:"âš¡",image:"/cards/thunderbolt.png",rarity:"epic",effectType:"instant_damage",power:60,battleDescription:"ì ì—ê²Œ 60ì˜ ì²œë‘¥ í”¼í•´ë¥¼ ì…í™ë‹ˆë‹¤"},{id:"active_double_strike",name:"ì—°ì† ëŒê²©",description:"ì—°ì†ëœ ê³µê²©ìœ¼ë¡œ ì ì„ ì••ë„í•©ë‹ˆë‹¤",icon:"âš”ï¸âš”ï¸",image:"/cards/double_strike.png",rarity:"epic",effectType:"multi_strike",power:2,battleDescription:"ì¦‰ì‹œ 2ë²ˆì˜ ì¶”ê°€ ê³µê²©ì„ ì‹¤í–‰í•©ë‹ˆë‹¤"},{id:"active_curse_of_weakness",name:"ì•½í™”ì˜ ì €ì£¼",description:"ì ì—ê²Œ ì €ì£¼ë¥¼ ê±¸ì–´ ì „íˆ¬ë ¥ì„ í¬ê²Œ ê°ì†Œì‹œí‚µë‹ˆë‹¤",icon:"ğŸŒ‘",image:"/cards/curse_weakness.png",rarity:"epic",effectType:"enemy_weaken",power:30,duration:3,battleDescription:"3í„´ ë™ì•ˆ ì  ê³µê²©ë ¥ -30%"},{id:"active_gods_judgment",name:"ì‹ ì˜ ì‹¬íŒ",description:"ì‹ ì˜ í˜ì„ ë¹Œë ¤ ì ì„ ì‹¬íŒí•©ë‹ˆë‹¤",icon:"âš¡ï¸",image:"/cards/gods_judgment.png",rarity:"legendary",effectType:"instant_damage",power:100,battleDescription:"ì ì—ê²Œ 100ì˜ ì ˆëŒ€ì ì¸ í”¼í•´ë¥¼ ì…í™ë‹ˆë‹¤"},{id:"active_miracle",name:"ê¸°ì ì˜ ë¶€í™œ",description:"ê¸°ì ì„ ì¼ìœ¼ì¼œ ì•„êµ°ì„ ì™„ì „íˆ íšŒë³µì‹œí‚µë‹ˆë‹¤",icon:"âœ¨",image:"/cards/miracle.png",rarity:"legendary",effectType:"heal",power:50,battleDescription:"ì•„êµ° ë³‘ë ¥ì´ 50% íšŒë³µë©ë‹ˆë‹¤"},{id:"active_reverse_fate",name:"ìš´ëª…ì˜ ì—­ì „",description:"ì „ì„¸ë¥¼ ì™„ì „íˆ ì—­ì „ì‹œí‚µë‹ˆë‹¤",icon:"ğŸ”„",image:"/cards/reverse_fate.png",rarity:"legendary",effectType:"reverse_momentum",power:50,battleDescription:"ì „íˆ¬ ì ìˆ˜ë¥¼ í¬ê²Œ ì—­ì „ì‹œí‚µë‹ˆë‹¤ (ì„±ê³µ ê³µê²© +3)"},{id:"active_time_stop",name:"ì‹œê°„ ì •ì§€",description:"ì‹œê°„ì„ ë©ˆì¶° ì ì˜ ê³µê²©ì„ ì™„ì „íˆ ë¬´ë ¥í™”í•©ë‹ˆë‹¤",icon:"â¸ï¸",image:"/cards/time_stop.png",rarity:"legendary",effectType:"turn_skip",power:2,battleDescription:"ì ì˜ ë‹¤ìŒ 2í„´ì„ ë¬´íš¨í™”í•©ë‹ˆë‹¤"},{id:"active_ultimate_power",name:"ê¶ê·¹ì˜ í˜",description:"ëª¨ë“  í˜ì„ í•´ë°©í•˜ì—¬ ì••ë„ì ì¸ ì „íˆ¬ë ¥ì„ ë°œíœ˜í•©ë‹ˆë‹¤",icon:"ğŸ’«",image:"/cards/ultimate_power.png",rarity:"legendary",effectType:"power_boost",power:60,duration:3,battleDescription:"3í„´ ë™ì•ˆ ì•„êµ° ê³µê²©ë ¥ +60%"},{id:"active_triple_strike",name:"ì‚¼ì—°ê²©",description:"ì„¸ ë²ˆì˜ ì—°ì† ê³µê²©ìœ¼ë¡œ ì ì„ ì œì••í•©ë‹ˆë‹¤",icon:"âš”ï¸âš”ï¸âš”ï¸",image:"/cards/triple_strike.png",rarity:"legendary",effectType:"multi_strike",power:3,battleDescription:"ì¦‰ì‹œ 3ë²ˆì˜ ì¶”ê°€ ê³µê²©ì„ ì‹¤í–‰í•©ë‹ˆë‹¤"}],Ia=e=>{const{showNotification:a}=e,t=l([]),r=l([]),s=()=>{{const e=t.value.map(e=>e.id);localStorage.setItem("activeCards",JSON.stringify(e))}},i=e=>{t.value.find(a=>a.id===e.id)||(t.value.push(e),s(),a(`ìƒˆë¡œìš´ ì•¡í‹°ë¸Œ ì¹´ë“œ íšë“: ${e.name}`,"success"))};return{ownedActiveCards:t,battleActiveCards:r,maxBattleCards:5,loadActiveCards:()=>{{const a=localStorage.getItem("activeCards");if(a)try{const e=JSON.parse(a);t.value=qa.filter(a=>e.includes(a.id))}catch(e){t.value=[]}}},saveActiveCards:s,addActiveCard:i,addRandomActiveCard:e=>{const r=(e?qa.filter(a=>a.rarity===e):qa).filter(e=>!t.value.find(a=>a.id===e.id));if(0===r.length)return void a("ì´ë¯¸ ëª¨ë“  ì•¡í‹°ë¸Œ ì¹´ë“œë¥¼ ì†Œìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤!","info");const s=r[Math.floor(Math.random()*r.length)];i(s)},addToBattleDeck:e=>r.value.length>=5?(a("ì „íˆ¬ ë±ì€ ìµœëŒ€ 5ì¥ê¹Œì§€ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤!","error"),!1):r.value.find(a=>a.id===e.id)?(a("ì´ë¯¸ ë±ì— ìˆëŠ” ì¹´ë“œì…ë‹ˆë‹¤!","error"),!1):(r.value.push(e),a(`${e.name}ì„(ë¥¼) ì „íˆ¬ ë±ì— ì¶”ê°€í–ˆìŠµë‹ˆë‹¤`,"success"),!0),removeFromBattleDeck:e=>{const t=r.value.findIndex(a=>a.id===e);if(-1!==t){const e=r.value.splice(t,1)[0];return a(`${e.name}ì„(ë¥¼) ì „íˆ¬ ë±ì—ì„œ ì œê±°í–ˆìŠµë‹ˆë‹¤`,"info"),!0}return!1},clearBattleDeck:()=>{r.value=[]},grantStarterCards:()=>{["active_quick_strike","active_minor_heal","active_inspire"].forEach(e=>{const a=qa.find(a=>a.id===e);a&&i(a)})}}};export{ve as $,K as A,oe as B,Re as C,Pe as D,Ge as E,Ce as F,aa as G,ge as H,ze as I,Xe as J,Qe as K,Ze as L,ta as M,Ra as N,ea as O,sa as P,J as Q,V as R,ra as S,be as T,Je as U,We as V,me as W,pe as X,we as Y,fe as Z,Be as _,Se as a,Me as b,j as c,ye as d,ba as e,$a as f,_a as g,H as h,ka as i,z as j,Ia as k,Na as l,Ca as m,Ke as n,Ea as o,N as p,Sa as q,Ve as r,Ma as s,oa as t,Ue as u,ua as v,F as w,W as x,y,U as z};
